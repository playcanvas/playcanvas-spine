/* Copyright 2015-2020 PlayCanvas Ltd */

var spine,__extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(Y){var X,t,g,e,n,a,W=(r.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},r.prototype.apply=function(t,e,n,a,r,i,s,o){if(null==t)throw new Error("skeleton cannot be null.");a&&0!=this.duration&&(n%=this.duration,0<e&&(e%=this.duration));for(var h=this.timelines,l=0,u=h.length;l<u;l++)h[l].apply(t,e,n,r,i,s,o)},r.binarySearch=function(t,e,n){void 0===n&&(n=1);var a=0,r=t.length/n-2;if(0==r)return n;for(var i=r>>>1;;){if(t[(i+1)*n]<=e?a=i+1:r=i,a==r)return(a+1)*n;i=a+r>>>1}},r.linearSearch=function(t,e,n){for(var a=0,r=t.length-n;a<=r;a+=n)if(t[a]>e)return a;return-1},r);function r(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var a=0;a<e.length;a++)this.timelineIds[e[a].getPropertyId()]=!0;this.duration=n}Y.Animation=W,(t=X=Y.MixBlend||(Y.MixBlend={}))[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",(e=g=Y.MixDirection||(Y.MixDirection={}))[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut",(a=n=Y.TimelineType||(Y.TimelineType={}))[a.rotate=0]="rotate",a[a.translate=1]="translate",a[a.scale=2]="scale",a[a.shear=3]="shear",a[a.attachment=4]="attachment",a[a.color=5]="color",a[a.deform=6]="deform",a[a.event=7]="event",a[a.drawOrder=8]="drawOrder",a[a.ikConstraint=9]="ikConstraint",a[a.transformConstraint=10]="transformConstraint",a[a.pathConstraintPosition=11]="pathConstraintPosition",a[a.pathConstraintSpacing=12]="pathConstraintSpacing",a[a.pathConstraintMix=13]="pathConstraintMix",a[a.twoColor=14]="twoColor";var i=(y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(t){this.curves[t*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(t){this.curves[t*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(t){var e=t*y.BEZIER_SIZE;if(e==this.curves.length)return y.LINEAR;var n=this.curves[e];return n==y.LINEAR?y.LINEAR:n==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(t,e,n,a,r){var i=.03*(2*-e+a),s=.03*(2*-n+r),o=.006*(3*(e-a)+1),h=.006*(3*(n-r)+1),l=2*i+o,u=2*s+h,c=.3*e+i+.16666667*o,d=.3*n+s+.16666667*h,p=t*y.BEZIER_SIZE,f=this.curves;f[p++]=y.BEZIER;for(var m=c,g=d,v=p+y.BEZIER_SIZE-1;p<v;p+=2)f[p]=m,f[p+1]=g,c+=l,d+=u,l+=o,u+=h,m+=c,g+=d},y.prototype.getCurvePercent=function(t,e){e=Y.MathUtils.clamp(e,0,1);var n=this.curves,a=t*y.BEZIER_SIZE,r=n[a];if(r==y.LINEAR)return e;if(r==y.STEPPED)return 0;for(var i=0,s=++a,o=a+y.BEZIER_SIZE-1;a<o;a+=2)if(e<=(i=n[a])){var h=void 0,l=void 0;return(l=a==s?h=0:(h=n[a-2],n[a-1]))+(n[a+1]-l)*(e-h)/(i-h)}var u=n[a-1];return u+(1-u)*(e-i)/(1-i)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y);function y(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=Y.Utils.newFloatArray((t-1)*y.BEZIER_SIZE)}Y.CurveTimeline=i;var s,o=(__extends(v,s=i),v.prototype.getPropertyId=function(){return(n.rotate<<24)+this.boneIndex},v.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+v.ROTATION]=n},v.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return void(h.rotation=h.data.rotation);case X.first:var l=h.data.rotation-h.rotation;h.rotation+=(l-360*(16384-(16384.499999999996-l/360|0)))*r}else if(n>=o[o.length-v.ENTRIES]){var u=o[o.length+v.PREV_ROTATION];switch(i){case X.setup:h.rotation=h.data.rotation+u*r;break;case X.first:case X.replace:u+=h.data.rotation-h.rotation,u-=360*(16384-(16384.499999999996-u/360|0));case X.add:h.rotation+=u*r}}else{var c=W.binarySearch(o,n,v.ENTRIES),d=o[c+v.PREV_ROTATION],p=o[c],f=this.getCurvePercent((c>>1)-1,1-(n-p)/(o[c+v.PREV_TIME]-p)),m=o[c+v.ROTATION]-d;switch(m=d+(m-360*(16384-(16384.499999999996-m/360|0)))*f,i){case X.setup:h.rotation=h.data.rotation+(m-360*(16384-(16384.499999999996-m/360|0)))*r;break;case X.first:case X.replace:m+=h.data.rotation-h.rotation;case X.add:h.rotation+=(m-360*(16384-(16384.499999999996-m/360|0)))*r}}},v.ENTRIES=2,v.PREV_TIME=-2,v.PREV_ROTATION=-1,v.ROTATION=1,v);function v(t){var e=s.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t<<1),e}Y.RotateTimeline=o;var h,l=(__extends(f,h=i),f.prototype.getPropertyId=function(){return(n.translate<<24)+this.boneIndex},f.prototype.setFrame=function(t,e,n,a){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.X]=n,this.frames[t+f.Y]=a},f.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return h.x=h.data.x,void(h.y=h.data.y);case X.first:h.x+=(h.data.x-h.x)*r,h.y+=(h.data.y-h.y)*r}else{var l=0,u=0;if(n>=o[o.length-f.ENTRIES])l=o[o.length+f.PREV_X],u=o[o.length+f.PREV_Y];else{var c=W.binarySearch(o,n,f.ENTRIES);l=o[c+f.PREV_X],u=o[c+f.PREV_Y];var d=o[c],p=this.getCurvePercent(c/f.ENTRIES-1,1-(n-d)/(o[c+f.PREV_TIME]-d));l+=(o[c+f.X]-l)*p,u+=(o[c+f.Y]-u)*p}switch(i){case X.setup:h.x=h.data.x+l*r,h.y=h.data.y+u*r;break;case X.first:case X.replace:h.x+=(h.data.x+l-h.x)*r,h.y+=(h.data.y+u-h.y)*r;break;case X.add:h.x+=l*r,h.y+=u*r}}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,f);function f(t){var e=h.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t*f.ENTRIES),e}Y.TranslateTimeline=l;var u,c=(__extends(x,u=l),x.prototype.getPropertyId=function(){return(n.scale<<24)+this.boneIndex},x.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case X.first:h.scaleX+=(h.data.scaleX-h.scaleX)*r,h.scaleY+=(h.data.scaleY-h.scaleY)*r}else{var l=0,u=0;if(n>=o[o.length-x.ENTRIES])l=o[o.length+x.PREV_X]*h.data.scaleX,u=o[o.length+x.PREV_Y]*h.data.scaleY;else{var c=W.binarySearch(o,n,x.ENTRIES);l=o[c+x.PREV_X],u=o[c+x.PREV_Y];var d=o[c],p=this.getCurvePercent(c/x.ENTRIES-1,1-(n-d)/(o[c+x.PREV_TIME]-d));l=(l+(o[c+x.X]-l)*p)*h.data.scaleX,u=(u+(o[c+x.Y]-u)*p)*h.data.scaleY}if(1==r)i==X.add?(h.scaleX+=l-h.data.scaleX,h.scaleY+=u-h.data.scaleY):(h.scaleX=l,h.scaleY=u);else{var f=0,m=0;if(s==g.mixOut)switch(i){case X.setup:f=h.data.scaleX,m=h.data.scaleY,h.scaleX=f+(Math.abs(l)*Y.MathUtils.signum(f)-f)*r,h.scaleY=m+(Math.abs(u)*Y.MathUtils.signum(m)-m)*r;break;case X.first:case X.replace:f=h.scaleX,m=h.scaleY,h.scaleX=f+(Math.abs(l)*Y.MathUtils.signum(f)-f)*r,h.scaleY=m+(Math.abs(u)*Y.MathUtils.signum(m)-m)*r;break;case X.add:f=h.scaleX,m=h.scaleY,h.scaleX=f+(Math.abs(l)*Y.MathUtils.signum(f)-h.data.scaleX)*r,h.scaleY=m+(Math.abs(u)*Y.MathUtils.signum(m)-h.data.scaleY)*r}else switch(i){case X.setup:f=Math.abs(h.data.scaleX)*Y.MathUtils.signum(l),m=Math.abs(h.data.scaleY)*Y.MathUtils.signum(u),h.scaleX=f+(l-f)*r,h.scaleY=m+(u-m)*r;break;case X.first:case X.replace:f=Math.abs(h.scaleX)*Y.MathUtils.signum(l),m=Math.abs(h.scaleY)*Y.MathUtils.signum(u),h.scaleX=f+(l-f)*r,h.scaleY=m+(u-m)*r;break;case X.add:f=Y.MathUtils.signum(l),m=Y.MathUtils.signum(u),h.scaleX=Math.abs(h.scaleX)*f+(l-Math.abs(h.data.scaleX)*f)*r,h.scaleY=Math.abs(h.scaleY)*m+(u-Math.abs(h.data.scaleY)*m)*r}}}},x);function x(t){return u.call(this,t)||this}Y.ScaleTimeline=c;var d,p=(__extends(m,d=l),m.prototype.getPropertyId=function(){return(n.shear<<24)+this.boneIndex},m.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case X.first:h.shearX+=(h.data.shearX-h.shearX)*r,h.shearY+=(h.data.shearY-h.shearY)*r}else{var l=0,u=0;if(n>=o[o.length-m.ENTRIES])l=o[o.length+m.PREV_X],u=o[o.length+m.PREV_Y];else{var c=W.binarySearch(o,n,m.ENTRIES);l=o[c+m.PREV_X],u=o[c+m.PREV_Y];var d=o[c],p=this.getCurvePercent(c/m.ENTRIES-1,1-(n-d)/(o[c+m.PREV_TIME]-d));l+=(o[c+m.X]-l)*p,u+=(o[c+m.Y]-u)*p}switch(i){case X.setup:h.shearX=h.data.shearX+l*r,h.shearY=h.data.shearY+u*r;break;case X.first:case X.replace:h.shearX+=(h.data.shearX+l-h.shearX)*r,h.shearY+=(h.data.shearY+u-h.shearY)*r;break;case X.add:h.shearX+=l*r,h.shearY+=u*r}}},m);function m(t){return d.call(this,t)||this}Y.ShearTimeline=p;var w,M=(__extends(E,w=i),E.prototype.getPropertyId=function(){return(n.color<<24)+this.slotIndex},E.prototype.setFrame=function(t,e,n,a,r,i){t*=E.ENTRIES,this.frames[t]=e,this.frames[t+E.R]=n,this.frames[t+E.G]=a,this.frames[t+E.B]=r,this.frames[t+E.A]=i},E.prototype.apply=function(t,e,n,a,r,i,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames;if(n<h[0])switch(i){case X.setup:return void o.color.setFromColor(o.data.color);case X.first:var l=o.color,u=o.data.color;l.add((u.r-l.r)*r,(u.g-l.g)*r,(u.b-l.b)*r,(u.a-l.a)*r)}else{var c=0,d=0,p=0,f=0;if(n>=h[h.length-E.ENTRIES]){var m=h.length;c=h[m+E.PREV_R],d=h[m+E.PREV_G],p=h[m+E.PREV_B],f=h[m+E.PREV_A]}else{var g=W.binarySearch(h,n,E.ENTRIES);c=h[g+E.PREV_R],d=h[g+E.PREV_G],p=h[g+E.PREV_B],f=h[g+E.PREV_A];var v=h[g],y=this.getCurvePercent(g/E.ENTRIES-1,1-(n-v)/(h[g+E.PREV_TIME]-v));c+=(h[g+E.R]-c)*y,d+=(h[g+E.G]-d)*y,p+=(h[g+E.B]-p)*y,f+=(h[g+E.A]-f)*y}1==r?o.color.set(c,d,p,f):(l=o.color,i==X.setup&&l.setFromColor(o.data.color),l.add((c-l.r)*r,(d-l.g)*r,(p-l.b)*r,(f-l.a)*r))}}},E.ENTRIES=5,E.PREV_TIME=-5,E.PREV_R=-4,E.PREV_G=-3,E.PREV_B=-2,E.PREV_A=-1,E.R=1,E.G=2,E.B=3,E.A=4,E);function E(t){var e=w.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t*E.ENTRIES),e}Y.ColorTimeline=M;var T,A=(__extends(b,T=i),b.prototype.getPropertyId=function(){return(n.twoColor<<24)+this.slotIndex},b.prototype.setFrame=function(t,e,n,a,r,i,s,o,h){t*=b.ENTRIES,this.frames[t]=e,this.frames[t+b.R]=n,this.frames[t+b.G]=a,this.frames[t+b.B]=r,this.frames[t+b.A]=i,this.frames[t+b.R2]=s,this.frames[t+b.G2]=o,this.frames[t+b.B2]=h},b.prototype.apply=function(t,e,n,a,r,i,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames;if(n<h[0])switch(i){case X.setup:return o.color.setFromColor(o.data.color),void o.darkColor.setFromColor(o.data.darkColor);case X.first:var l=o.color,u=o.darkColor,c=o.data.color,d=o.data.darkColor;l.add((c.r-l.r)*r,(c.g-l.g)*r,(c.b-l.b)*r,(c.a-l.a)*r),u.add((d.r-u.r)*r,(d.g-u.g)*r,(d.b-u.b)*r,0)}else{var p=0,f=0,m=0,g=0,v=0,y=0,x=0;if(n>=h[h.length-b.ENTRIES]){var w=h.length;p=h[w+b.PREV_R],f=h[w+b.PREV_G],m=h[w+b.PREV_B],g=h[w+b.PREV_A],v=h[w+b.PREV_R2],y=h[w+b.PREV_G2],x=h[w+b.PREV_B2]}else{var M=W.binarySearch(h,n,b.ENTRIES);p=h[M+b.PREV_R],f=h[M+b.PREV_G],m=h[M+b.PREV_B],g=h[M+b.PREV_A],v=h[M+b.PREV_R2],y=h[M+b.PREV_G2],x=h[M+b.PREV_B2];var E=h[M],T=this.getCurvePercent(M/b.ENTRIES-1,1-(n-E)/(h[M+b.PREV_TIME]-E));p+=(h[M+b.R]-p)*T,f+=(h[M+b.G]-f)*T,m+=(h[M+b.B]-m)*T,g+=(h[M+b.A]-g)*T,v+=(h[M+b.R2]-v)*T,y+=(h[M+b.G2]-y)*T,x+=(h[M+b.B2]-x)*T}1==r?(o.color.set(p,f,m,g),o.darkColor.set(v,y,x,1)):(l=o.color,u=o.darkColor,i==X.setup&&(l.setFromColor(o.data.color),u.setFromColor(o.data.darkColor)),l.add((p-l.r)*r,(f-l.g)*r,(m-l.b)*r,(g-l.a)*r),u.add((v-u.r)*r,(y-u.g)*r,(x-u.b)*r,0))}}},b.ENTRIES=8,b.PREV_TIME=-8,b.PREV_R=-7,b.PREV_G=-6,b.PREV_B=-5,b.PREV_A=-4,b.PREV_R2=-3,b.PREV_G2=-2,b.PREV_B2=-1,b.R=1,b.G=2,b.B=3,b.A=4,b.R2=5,b.G2=6,b.B2=7,b);function b(t){var e=T.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t*b.ENTRIES),e}Y.TwoColorTimeline=A;var S=(I.prototype.getPropertyId=function(){return(n.attachment<<24)+this.slotIndex},I.prototype.getFrameCount=function(){return this.frames.length},I.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},I.prototype.apply=function(t,e,n,a,r,i,s){var o=t.slots[this.slotIndex];if(o.bone.active)if(s!=g.mixOut||i!=X.setup){var h=this.frames;if(n<h[0]){if(i==X.setup||i==X.first){var l=o.data.attachmentName;o.setAttachment(null==l?null:t.getAttachment(this.slotIndex,l))}}else{var u=0;u=n>=h[h.length-1]?h.length-1:W.binarySearch(h,n,1)-1;var c=this.attachmentNames[u];t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}}else{var d=o.data.attachmentName;o.setAttachment(null==d?null:t.getAttachment(this.slotIndex,d))}},I);function I(t){this.frames=Y.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}Y.AttachmentTimeline=S;var C,R=null,_=(__extends(P,C=i),P.prototype.getPropertyId=function(){return(n.deform<<27)+ +this.attachment.id+this.slotIndex},P.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},P.prototype.apply=function(t,e,n,a,r,i,s){var o=t.slots[this.slotIndex];if(o.bone.active){var h=o.getAttachment();if(h instanceof Y.VertexAttachment&&h.deformAttachment==this.attachment){var l=o.deform;0==l.length&&(i=X.setup);var u=this.frameVertices,c=u[0].length,d=this.frames;if(n<d[0]){var p=h;switch(i){case X.setup:return void(l.length=0);case X.first:if(1==r){l.length=0;break}var f=Y.Utils.setArraySize(l,c);if(null==p.bones)for(var m=p.vertices,g=0;g<c;g++)f[g]+=(m[g]-f[g])*r;else for(r=1-r,g=0;g<c;g++)f[g]*=r}}else{var v=Y.Utils.setArraySize(l,c);if(n>=d[d.length-1]){var y=u[d.length-1];if(1==r)if(i==X.add)if(null==(p=h).bones){m=p.vertices;for(var x=0;x<c;x++)v[x]+=y[x]-m[x]}else for(var w=0;w<c;w++)v[w]+=y[w];else Y.Utils.arrayCopy(y,0,v,0,c);else switch(i){case X.setup:if(null==h.bones){m=h.vertices;for(var M=0;M<c;M++){var E=m[M];v[M]=E+(y[M]-E)*r}}else for(var T=0;T<c;T++)v[T]=y[T]*r;break;case X.first:case X.replace:for(var A=0;A<c;A++)v[A]+=(y[A]-v[A])*r;break;case X.add:if(null==(p=h).bones){m=p.vertices;for(var b=0;b<c;b++)v[b]+=(y[b]-m[b])*r}else for(var S=0;S<c;S++)v[S]+=y[S]*r}}else{var I=W.binarySearch(d,n),C=u[I-1],R=u[I],_=d[I],P=this.getCurvePercent(I-1,1-(n-_)/(d[I-1]-_));if(1==r)if(i==X.add)if(null==(p=h).bones){m=p.vertices;for(var V=0;V<c;V++){var k=C[V];v[V]+=k+(R[V]-k)*P-m[V]}}else for(var N=0;N<c;N++)k=C[N],v[N]+=k+(R[N]-k)*P;else for(var F=0;F<c;F++)k=C[F],v[F]=k+(R[F]-k)*P;else switch(i){case X.setup:if(null==h.bones){m=h.vertices;for(var L=0;L<c;L++)k=C[L],E=m[L],v[L]=E+(k+(R[L]-k)*P-E)*r}else for(var O=0;O<c;O++)k=C[O],v[O]=(k+(R[O]-k)*P)*r;break;case X.first:case X.replace:for(var D=0;D<c;D++)k=C[D],v[D]+=(k+(R[D]-k)*P-v[D])*r;break;case X.add:if(null==(p=h).bones){m=p.vertices;for(var U=0;U<c;U++)k=C[U],v[U]+=(k+(R[U]-k)*P-m[U])*r}else for(var B=0;B<c;B++)k=C[B],v[B]+=(k+(R[B]-k)*P)*r}}}}}},P);function P(t){var e=C.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==R&&(R=Y.Utils.newFloatArray(64)),e}Y.DeformTimeline=_;var V=(k.prototype.getPropertyId=function(){return n.event<<24},k.prototype.getFrameCount=function(){return this.frames.length},k.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},k.prototype.apply=function(t,e,n,a,r,i,s){if(null!=a){var o=this.frames,h=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,a,r,i,s),e=-1;else if(e>=o[h-1])return;if(!(n<o[0])){var l=0;if(e<o[0])l=0;else for(var u=o[l=W.binarySearch(o,e)];0<l&&o[l-1]==u;)l--;for(;l<h&&n>=o[l];l++)a.push(this.events[l])}}},k);function k(t){this.frames=Y.Utils.newFloatArray(t),this.events=new Array(t)}Y.EventTimeline=V;var N=(F.prototype.getPropertyId=function(){return n.drawOrder<<24},F.prototype.getFrameCount=function(){return this.frames.length},F.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},F.prototype.apply=function(t,e,n,a,r,i,s){var o=t.drawOrder,h=t.slots;if(s!=g.mixOut||i!=X.setup){var l=this.frames;if(n<l[0])i!=X.setup&&i!=X.first||Y.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var u=0;u=n>=l[l.length-1]?l.length-1:W.binarySearch(l,n)-1;var c=this.drawOrders[u];if(null==c)Y.Utils.arrayCopy(h,0,o,0,h.length);else for(var d=0,p=c.length;d<p;d++)o[d]=h[c[d]]}}else Y.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},F);function F(t){this.frames=Y.Utils.newFloatArray(t),this.drawOrders=new Array(t)}Y.DrawOrderTimeline=N;var L,O=(__extends(D,L=i),D.prototype.getPropertyId=function(){return(n.ikConstraint<<24)+this.ikConstraintIndex},D.prototype.setFrame=function(t,e,n,a,r,i,s){t*=D.ENTRIES,this.frames[t]=e,this.frames[t+D.MIX]=n,this.frames[t+D.SOFTNESS]=a,this.frames[t+D.BEND_DIRECTION]=r,this.frames[t+D.COMPRESS]=i?1:0,this.frames[t+D.STRETCH]=s?1:0},D.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.ikConstraints[this.ikConstraintIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return h.mix=h.data.mix,h.softness=h.data.softness,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,void(h.stretch=h.data.stretch);case X.first:h.mix+=(h.data.mix-h.mix)*r,h.softness+=(h.data.softness-h.softness)*r,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch}else if(n>=o[o.length-D.ENTRIES])i==X.setup?(h.mix=h.data.mix+(o[o.length+D.PREV_MIX]-h.data.mix)*r,h.softness=h.data.softness+(o[o.length+D.PREV_SOFTNESS]-h.data.softness)*r,s==g.mixOut?(h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch):(h.bendDirection=o[o.length+D.PREV_BEND_DIRECTION],h.compress=0!=o[o.length+D.PREV_COMPRESS],h.stretch=0!=o[o.length+D.PREV_STRETCH])):(h.mix+=(o[o.length+D.PREV_MIX]-h.mix)*r,h.softness+=(o[o.length+D.PREV_SOFTNESS]-h.softness)*r,s==g.mixIn&&(h.bendDirection=o[o.length+D.PREV_BEND_DIRECTION],h.compress=0!=o[o.length+D.PREV_COMPRESS],h.stretch=0!=o[o.length+D.PREV_STRETCH]));else{var l=W.binarySearch(o,n,D.ENTRIES),u=o[l+D.PREV_MIX],c=o[l+D.PREV_SOFTNESS],d=o[l],p=this.getCurvePercent(l/D.ENTRIES-1,1-(n-d)/(o[l+D.PREV_TIME]-d));i==X.setup?(h.mix=h.data.mix+(u+(o[l+D.MIX]-u)*p-h.data.mix)*r,h.softness=h.data.softness+(c+(o[l+D.SOFTNESS]-c)*p-h.data.softness)*r,s==g.mixOut?(h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch):(h.bendDirection=o[l+D.PREV_BEND_DIRECTION],h.compress=0!=o[l+D.PREV_COMPRESS],h.stretch=0!=o[l+D.PREV_STRETCH])):(h.mix+=(u+(o[l+D.MIX]-u)*p-h.mix)*r,h.softness+=(c+(o[l+D.SOFTNESS]-c)*p-h.softness)*r,s==g.mixIn&&(h.bendDirection=o[l+D.PREV_BEND_DIRECTION],h.compress=0!=o[l+D.PREV_COMPRESS],h.stretch=0!=o[l+D.PREV_STRETCH]))}},D.ENTRIES=6,D.PREV_TIME=-6,D.PREV_MIX=-5,D.PREV_SOFTNESS=-4,D.PREV_BEND_DIRECTION=-3,D.PREV_COMPRESS=-2,D.PREV_STRETCH=-1,D.MIX=1,D.SOFTNESS=2,D.BEND_DIRECTION=3,D.COMPRESS=4,D.STRETCH=5,D);function D(t){var e=L.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t*D.ENTRIES),e}Y.IkConstraintTimeline=O;var U,B=(__extends(q,U=i),q.prototype.getPropertyId=function(){return(n.transformConstraint<<24)+this.transformConstraintIndex},q.prototype.setFrame=function(t,e,n,a,r,i){t*=q.ENTRIES,this.frames[t]=e,this.frames[t+q.ROTATE]=n,this.frames[t+q.TRANSLATE]=a,this.frames[t+q.SCALE]=r,this.frames[t+q.SHEAR]=i},q.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(h.active)if(n<o[0]){var l=h.data;switch(i){case X.setup:return h.rotateMix=l.rotateMix,h.translateMix=l.translateMix,h.scaleMix=l.scaleMix,void(h.shearMix=l.shearMix);case X.first:h.rotateMix+=(l.rotateMix-h.rotateMix)*r,h.translateMix+=(l.translateMix-h.translateMix)*r,h.scaleMix+=(l.scaleMix-h.scaleMix)*r,h.shearMix+=(l.shearMix-h.shearMix)*r}}else{var u=0,c=0,d=0,p=0;if(n>=o[o.length-q.ENTRIES]){var f=o.length;u=o[f+q.PREV_ROTATE],c=o[f+q.PREV_TRANSLATE],d=o[f+q.PREV_SCALE],p=o[f+q.PREV_SHEAR]}else{var m=W.binarySearch(o,n,q.ENTRIES);u=o[m+q.PREV_ROTATE],c=o[m+q.PREV_TRANSLATE],d=o[m+q.PREV_SCALE],p=o[m+q.PREV_SHEAR];var g=o[m],v=this.getCurvePercent(m/q.ENTRIES-1,1-(n-g)/(o[m+q.PREV_TIME]-g));u+=(o[m+q.ROTATE]-u)*v,c+=(o[m+q.TRANSLATE]-c)*v,d+=(o[m+q.SCALE]-d)*v,p+=(o[m+q.SHEAR]-p)*v}i==X.setup?(l=h.data,h.rotateMix=l.rotateMix+(u-l.rotateMix)*r,h.translateMix=l.translateMix+(c-l.translateMix)*r,h.scaleMix=l.scaleMix+(d-l.scaleMix)*r,h.shearMix=l.shearMix+(p-l.shearMix)*r):(h.rotateMix+=(u-h.rotateMix)*r,h.translateMix+=(c-h.translateMix)*r,h.scaleMix+=(d-h.scaleMix)*r,h.shearMix+=(p-h.shearMix)*r)}},q.ENTRIES=5,q.PREV_TIME=-5,q.PREV_ROTATE=-4,q.PREV_TRANSLATE=-3,q.PREV_SCALE=-2,q.PREV_SHEAR=-1,q.ROTATE=1,q.TRANSLATE=2,q.SCALE=3,q.SHEAR=4,q);function q(t){var e=U.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t*q.ENTRIES),e}Y.TransformConstraintTimeline=B;var H,j=(__extends(G,H=i),G.prototype.getPropertyId=function(){return(n.pathConstraintPosition<<24)+this.pathConstraintIndex},G.prototype.setFrame=function(t,e,n){t*=G.ENTRIES,this.frames[t]=e,this.frames[t+G.VALUE]=n},G.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return void(h.position=h.data.position);case X.first:h.position+=(h.data.position-h.position)*r}else{var l=0;if(n>=o[o.length-G.ENTRIES])l=o[o.length+G.PREV_VALUE];else{var u=W.binarySearch(o,n,G.ENTRIES);l=o[u+G.PREV_VALUE];var c=o[u],d=this.getCurvePercent(u/G.ENTRIES-1,1-(n-c)/(o[u+G.PREV_TIME]-c));l+=(o[u+G.VALUE]-l)*d}i==X.setup?h.position=h.data.position+(l-h.data.position)*r:h.position+=(l-h.position)*r}},G.ENTRIES=2,G.PREV_TIME=-2,G.PREV_VALUE=-1,G.VALUE=1,G);function G(t){var e=H.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t*G.ENTRIES),e}Y.PathConstraintPositionTimeline=j;var z,Z=(__extends(J,z=j),J.prototype.getPropertyId=function(){return(n.pathConstraintSpacing<<24)+this.pathConstraintIndex},J.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return void(h.spacing=h.data.spacing);case X.first:h.spacing+=(h.data.spacing-h.spacing)*r}else{var l=0;if(n>=o[o.length-J.ENTRIES])l=o[o.length+J.PREV_VALUE];else{var u=W.binarySearch(o,n,J.ENTRIES);l=o[u+J.PREV_VALUE];var c=o[u],d=this.getCurvePercent(u/J.ENTRIES-1,1-(n-c)/(o[u+J.PREV_TIME]-c));l+=(o[u+J.VALUE]-l)*d}i==X.setup?h.spacing=h.data.spacing+(l-h.data.spacing)*r:h.spacing+=(l-h.spacing)*r}},J);function J(t){return z.call(this,t)||this}Y.PathConstraintSpacingTimeline=Z;var Q,K=(__extends($,Q=i),$.prototype.getPropertyId=function(){return(n.pathConstraintMix<<24)+this.pathConstraintIndex},$.prototype.setFrame=function(t,e,n,a){t*=$.ENTRIES,this.frames[t]=e,this.frames[t+$.ROTATE]=n,this.frames[t+$.TRANSLATE]=a},$.prototype.apply=function(t,e,n,a,r,i,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(i){case X.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case X.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*r,h.translateMix+=(h.data.translateMix-h.translateMix)*r}else{var l=0,u=0;if(n>=o[o.length-$.ENTRIES])l=o[o.length+$.PREV_ROTATE],u=o[o.length+$.PREV_TRANSLATE];else{var c=W.binarySearch(o,n,$.ENTRIES);l=o[c+$.PREV_ROTATE],u=o[c+$.PREV_TRANSLATE];var d=o[c],p=this.getCurvePercent(c/$.ENTRIES-1,1-(n-d)/(o[c+$.PREV_TIME]-d));l+=(o[c+$.ROTATE]-l)*p,u+=(o[c+$.TRANSLATE]-u)*p}i==X.setup?(h.rotateMix=h.data.rotateMix+(l-h.data.rotateMix)*r,h.translateMix=h.data.translateMix+(u-h.data.translateMix)*r):(h.rotateMix+=(l-h.rotateMix)*r,h.translateMix+=(u-h.translateMix)*r)}},$.ENTRIES=3,$.PREV_TIME=-3,$.PREV_ROTATE=-2,$.PREV_TRANSLATE=-1,$.ROTATE=1,$.TRANSLATE=2,$);function $(t){var e=Q.call(this,t)||this;return e.frames=Y.Utils.newFloatArray(t*$.ENTRIES),e}Y.PathConstraintMixTimeline=K}(spine=spine||{}),function(A){var t=(b.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,a=e.length;n<a;n++){var r=e[n];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var i=t*r.timeScale;if(0<r.delay){if(r.delay-=i,0<r.delay)continue;i=-r.delay,r.delay=0}var s=r.next;if(null!=s){var o=r.trackLast-s.delay;if(0<=o){for(s.delay=0,s.trackTime+=0==r.timeScale?0:(o/r.timeScale+t)*s.timeScale,r.trackTime+=i,this.setCurrent(n,s,!0);null!=s.mixingFrom;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[n]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var h=r.mixingFrom;for((r.mixingFrom=null)!=h&&(h.mixingTo=null);null!=h;)this.queue.end(h),h=h.mixingFrom}r.trackTime+=i}}this.queue.drain()},b.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var a=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),a):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},b.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,a=!1,r=0,i=n.length;r<i;r++){var s=n[r];if(!(null==s||0<s.delay)){a=!0;var o=0==r?A.MixBlend.first:s.mixBlend,h=s.alpha;null!=s.mixingFrom?h*=this.applyMixingFrom(s,t,o):s.trackTime>=s.trackEnd&&null==s.next&&(h=0);var l=s.animationLast,u=s.getAnimationTime(),c=s.animation.timelines.length,d=s.animation.timelines;if(0==r&&1==h||o==A.MixBlend.add)for(var p=0;p<c;p++)A.Utils.webkit602BugfixHelper(h,o),d[p].apply(t,l,u,e,h,o,A.MixDirection.mixIn);else{var f=s.timelineMode,m=0==s.timelinesRotation.length;m&&A.Utils.setArraySize(s.timelinesRotation,c<<1,null);var g=s.timelinesRotation;for(p=0;p<c;p++){var v=d[p],y=(f[p]&b.NOT_LAST-1)==b.SUBSEQUENT?o:A.MixBlend.setup;v instanceof A.RotateTimeline?this.applyRotateTimeline(v,t,u,h,y,g,p<<1,m):(A.Utils.webkit602BugfixHelper(h,o),v.apply(t,l,u,e,h,y,A.MixDirection.mixIn))}}this.queueEvents(s,u),e.length=0,s.nextAnimationLast=u,s.nextTrackLast=s.trackTime}}return this.queue.drain(),a},b.prototype.applyMixingFrom=function(t,e,n){var a=t.mixingFrom;null!=a.mixingFrom&&this.applyMixingFrom(a,e,n);var r=0;0==t.mixDuration?(r=1,n==A.MixBlend.first&&(n=A.MixBlend.setup)):(1<(r=t.mixTime/t.mixDuration)&&(r=1),n!=A.MixBlend.first&&(n=a.mixBlend));var i=r<a.eventThreshold?this.events:null,s=r<a.attachmentThreshold,o=r<a.drawOrderThreshold,h=a.animationLast,l=a.getAnimationTime(),u=a.animation.timelines.length,c=a.animation.timelines,d=a.alpha*t.interruptAlpha,p=d*(1-r);if(n==A.MixBlend.add)for(var f=0;f<u;f++)c[f].apply(e,h,l,i,p,n,A.MixDirection.mixOut);else{var m=a.timelineMode,g=a.timelineHoldMix,v=0==a.timelinesRotation.length;v&&A.Utils.setArraySize(a.timelinesRotation,u<<1,null);var y=a.timelinesRotation;for(f=a.totalAlpha=0;f<u;f++){var x=c[f],w=A.MixDirection.mixOut,M=void 0,E=0;switch(m[f]&b.NOT_LAST-1){case b.SUBSEQUENT:if(M=n,!s&&x instanceof A.AttachmentTimeline){if((m[f]&b.NOT_LAST)==b.NOT_LAST)continue;M=A.MixBlend.setup}if(!o&&x instanceof A.DrawOrderTimeline)continue;E=p;break;case b.FIRST:M=A.MixBlend.setup,E=p;break;case b.HOLD:M=A.MixBlend.setup,E=d;break;default:M=A.MixBlend.setup;var T=g[f];E=d*Math.max(0,1-T.mixTime/T.mixDuration)}a.totalAlpha+=E,x instanceof A.RotateTimeline?this.applyRotateTimeline(x,e,l,E,M,y,f<<1,v):(A.Utils.webkit602BugfixHelper(E,n),M==A.MixBlend.setup&&(x instanceof A.AttachmentTimeline?!s&&(m[f]&b.NOT_LAST)!=b.NOT_LAST||(w=A.MixDirection.mixIn):x instanceof A.DrawOrderTimeline&&o&&(w=A.MixDirection.mixIn)),x.apply(e,h,l,i,E,M,w))}}return 0<t.mixDuration&&this.queueEvents(a,l),this.events.length=0,a.nextAnimationLast=l,a.nextTrackLast=a.trackTime,r},b.prototype.applyRotateTimeline=function(t,e,n,a,r,i,s,o){if(o&&(i[s]=0),1!=a){var h=t,l=h.frames,u=e.bones[h.boneIndex];if(u.active){var c=0,d=0;if(n<l[0])switch(r){case A.MixBlend.setup:u.rotation=u.data.rotation;default:return;case A.MixBlend.first:c=u.rotation,d=u.data.rotation}else if(c=r==A.MixBlend.setup?u.data.rotation:u.rotation,n>=l[l.length-A.RotateTimeline.ENTRIES])d=u.data.rotation+l[l.length+A.RotateTimeline.PREV_ROTATION];else{var p=A.Animation.binarySearch(l,n,A.RotateTimeline.ENTRIES),f=l[p+A.RotateTimeline.PREV_ROTATION],m=l[p],g=h.getCurvePercent((p>>1)-1,1-(n-m)/(l[p+A.RotateTimeline.PREV_TIME]-m));d=l[p+A.RotateTimeline.ROTATION]-f,d=f+(d-=360*(16384-(16384.499999999996-d/360|0)))*g+u.data.rotation,d-=360*(16384-(16384.499999999996-d/360|0))}var v=0,y=d-c;if(0==(y-=360*(16384-(16384.499999999996-y/360|0))))v=i[s];else{var x=0,w=0;w=o?(x=0,y):(x=i[s],i[s+1]);var M=0<y,E=0<=x;A.MathUtils.signum(w)!=A.MathUtils.signum(y)&&Math.abs(w)<=90&&(180<Math.abs(x)&&(x+=360*A.MathUtils.signum(x)),E=M),v=y+x-x%360,E!=M&&(v+=360*A.MathUtils.signum(x)),i[s]=v}i[s+1]=y,c+=v*a,u.rotation=c-360*(16384-(16384.499999999996-c/360|0))}}else t.apply(e,0,n,null,1,r,A.MixDirection.mixIn)},b.prototype.queueEvents=function(t,e){for(var n=t.animationStart,a=t.animationEnd,r=a-n,i=t.trackLast%r,s=this.events,o=0,h=s.length;o<h;o++){var l=s[o];if(l.time<i)break;l.time>a||this.queue.event(t,l)}for((t.loop?0==r||i>t.trackTime%r:a<=e&&t.animationLast<a)&&this.queue.complete(t);o<h;o++)s[o].time<n||this.queue.event(t,s[o])},b.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},b.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var a=n.mixingFrom;if(null==a)break;this.queue.end(a),n.mixingFrom=null,n.mixingTo=null,n=a}this.tracks[e.trackIndex]=null,this.queue.drain()}}},b.prototype.setCurrent=function(t,e,n){var a=this.expandToIndex(t);this.tracks[t]=e,null!=a&&(n&&this.queue.interrupt(a),((e.mixingFrom=a).mixingTo=e).mixTime=0,null!=a.mixingFrom&&0<a.mixDuration&&(e.interruptAlpha*=Math.min(1,a.mixTime/a.mixDuration)),a.timelinesRotation.length=0),this.queue.start(e)},b.prototype.setAnimation=function(t,e,n){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,a,n)},b.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var a=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,a=!1):this.disposeNext(r));var i=this.trackEntry(t,e,n,r);return this.setCurrent(t,i,a),this.queue.drain(),i},b.prototype.addAnimation=function(t,e,n,a){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,n,a)},b.prototype.addAnimationWith=function(t,e,n,a){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var i=this.trackEntry(t,e,n,r);if(null==r)this.setCurrent(t,i,!0),this.queue.drain();else if(r.next=i,a<=0){var s=r.animationEnd-r.animationStart;0!=s?(r.loop?a+=s*(1+(r.trackTime/s|0)):a+=Math.max(s,r.trackTime),a-=this.data.getMix(r.animation,e)):a=r.trackTime}return i.delay=a,i},b.prototype.setEmptyAnimation=function(t,e){var n=this.setAnimationWith(t,b.emptyAnimation,!1);return n.mixDuration=e,n.trackEnd=e,n},b.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);var a=this.addAnimationWith(t,b.emptyAnimation,!1,n);return a.mixDuration=e,a.trackEnd=e,a},b.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,a=this.tracks.length;n<a;n++){var r=this.tracks[n];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},b.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(A.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},b.prototype.trackEntry=function(t,e,n,a){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=n,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==a?0:this.data.getMix(a.animation,e),r.mixBlend=A.MixBlend.replace,r},b.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},b.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++)if(null!=(n=this.tracks[t])){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==A.MixBlend.add||this.computeHold(n),null!=(n=n.mixingTo););}for(this.propertyIDs.clear(),t=this.tracks.length-1;0<=t;t--)for(var n=this.tracks[t];null!=n;)this.computeNotLast(n),n=n.mixingFrom},b.prototype.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,a=t.animation.timelines.length,r=A.Utils.setArraySize(t.timelineMode,a);t.timelineHoldMix.length=0;var i=A.Utils.setArraySize(t.timelineHoldMix,a),s=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var o=0;o<a;o++)s.add(n[o].getPropertyId()),r[o]=b.HOLD;else t:for(o=0;o<a;o++){var h=n[o],l=h.getPropertyId();if(s.add(l))if(null==e||h instanceof A.AttachmentTimeline||h instanceof A.DrawOrderTimeline||h instanceof A.EventTimeline||!e.animation.hasTimeline(l))r[o]=b.FIRST;else{for(var u=e.mixingTo;null!=u;u=u.mixingTo)if(!u.animation.hasTimeline(l)){if(0<t.mixDuration){r[o]=b.HOLD_MIX,i[o]=u;continue t}break}r[o]=b.HOLD}else r[o]=b.SUBSEQUENT}},b.prototype.computeNotLast=function(t){for(var e=t.animation.timelines,n=t.animation.timelines.length,a=t.timelineMode,r=this.propertyIDs,i=0;i<n;i++)if(e[i]instanceof A.AttachmentTimeline){var s=e[i];r.add(s.slotIndex)||(a[i]|=b.NOT_LAST)}},b.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},b.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},b.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);0<=e&&this.listeners.splice(e,1)},b.prototype.clearListeners=function(){this.listeners.length=0},b.prototype.clearListenerNotifications=function(){this.queue.clear()},b.emptyAnimation=new A.Animation("<empty>",[],0),b.SUBSEQUENT=0,b.FIRST=1,b.HOLD=2,b.HOLD_MIX=3,b.NOT_LAST=4,b);function b(t){this.tracks=new Array,this.timeScale=1,this.events=new Array,this.listeners=new Array,this.queue=new r(this),this.propertyIDs=new A.IntSet,this.animationsChanged=!1,this.trackEntryPool=new A.Pool(function(){return new e}),this.data=t}A.AnimationState=t;var e=(n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},n.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},n);function n(){this.mixBlend=A.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}A.TrackEntry=e;var o,a,r=(i.prototype.start=function(t){this.objects.push(o.start),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.interrupt=function(t){this.objects.push(o.interrupt),this.objects.push(t)},i.prototype.end=function(t){this.objects.push(o.end),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.dispose=function(t){this.objects.push(o.dispose),this.objects.push(t)},i.prototype.complete=function(t){this.objects.push(o.complete),this.objects.push(t)},i.prototype.event=function(t,e){this.objects.push(o.event),this.objects.push(t),this.objects.push(e)},i.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var a=t[n],r=t[n+1];switch(a){case o.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(var i=0;i<e.length;i++)e[i].start&&e[i].start(r);break;case o.interrupt:for(null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r),i=0;i<e.length;i++)e[i].interrupt&&e[i].interrupt(r);break;case o.end:for(null!=r.listener&&r.listener.end&&r.listener.end(r),i=0;i<e.length;i++)e[i].end&&e[i].end(r);case o.dispose:for(null!=r.listener&&r.listener.dispose&&r.listener.dispose(r),i=0;i<e.length;i++)e[i].dispose&&e[i].dispose(r);this.animState.trackEntryPool.free(r);break;case o.complete:for(null!=r.listener&&r.listener.complete&&r.listener.complete(r),i=0;i<e.length;i++)e[i].complete&&e[i].complete(r);break;case o.event:var s=t[2+n++];for(null!=r.listener&&r.listener.event&&r.listener.event(r,s),i=0;i<e.length;i++)e[i].event&&e[i].event(r,s)}}this.clear(),this.drainDisabled=!1}},i.prototype.clear=function(){this.objects.length=0},i);function i(t){this.objects=[],this.drainDisabled=!1,this.animState=t}A.EventQueue=r,(a=o=A.EventType||(A.EventType={}))[a.start=0]="start",a[a.interrupt=1]="interrupt",a[a.end=2]="end",a[a.dispose=3]="dispose",a[a.complete=4]="complete",a[a.event=5]="event";var s=(h.prototype.start=function(t){},h.prototype.interrupt=function(t){},h.prototype.end=function(t){},h.prototype.dispose=function(t){},h.prototype.complete=function(t){},h.prototype.event=function(t,e){},h);function h(){}A.AnimationStateAdapter=s}(spine=spine||{}),function(t){var e=(n.prototype.setMix=function(t,e,n){var a=this.skeletonData.findAnimation(t);if(null==a)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(a,r,n)},n.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var a=t.name+"."+e.name;this.animationToMixTime[a]=n},n.prototype.getMix=function(t,e){var n=t.name+"."+e.name,a=this.animationToMixTime[n];return void 0===a?this.defaultMix:a},n);function n(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}t.AnimationStateData=e}(spine=spine||{}),function(p){var t=(e.prototype.downloadText=function(t,e,n){var a=new XMLHttpRequest;a.overrideMimeType("text/html"),this.rawDataUris[t]&&(t=this.rawDataUris[t]),a.open("GET",t,!0),a.onload=function(){200==a.status?e(a.responseText):n(a.status,a.responseText)},a.onerror=function(){n(a.status,a.responseText)},a.send()},e.prototype.downloadBinary=function(t,e,n){var a=new XMLHttpRequest;this.rawDataUris[t]&&(t=this.rawDataUris[t]),a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status?e(new Uint8Array(a.response)):n(a.status,a.responseText)},a.onerror=function(){n(a.status,a.responseText)},a.send()},e.prototype.setRawDataURI=function(t,e){this.rawDataUris[this.pathPrefix+t]=e},e.prototype.loadBinary=function(n,e,a){var r=this;void 0===e&&(e=null),void 0===a&&(a=null),n=this.pathPrefix+n,this.toLoad++,this.downloadBinary(n,function(t){r.assets[n]=t,e&&e(n,t),r.toLoad--,r.loaded++},function(t,e){r.errors[n]="Couldn't load binary "+n+": status "+status+", "+e,a&&a(n,"Couldn't load binary "+n+": status "+status+", "+e),r.toLoad--,r.loaded++})},e.prototype.loadText=function(n,e,a){var r=this;void 0===e&&(e=null),void 0===a&&(a=null),n=this.pathPrefix+n,this.toLoad++,this.downloadText(n,function(t){r.assets[n]=t,e&&e(n,t),r.toLoad--,r.loaded++},function(t,e){r.errors[n]="Couldn't load text "+n+": status "+status+", "+e,a&&a(n,"Couldn't load text "+n+": status "+status+", "+e),r.toLoad--,r.loaded++})},e.prototype.loadTexture=function(n,a,e){var r=this;void 0===a&&(a=null),void 0===e&&(e=null);var i=n=this.pathPrefix+n;this.toLoad++;var s=new Image;s.crossOrigin="anonymous",s.onload=function(t){var e=r.textureLoader(s);r.assets[i]=e,r.toLoad--,r.loaded++,a&&a(n,s)},s.onerror=function(t){r.errors[n]="Couldn't load image "+n,r.toLoad--,r.loaded++,e&&e(n,"Couldn't load image "+n)},this.rawDataUris[n]&&(n=this.rawDataUris[n]),s.src=n},e.prototype.loadTextureAtlas=function(h,l,u){var c=this;void 0===l&&(l=null),void 0===u&&(u=null);var d=0<=h.lastIndexOf("/")?h.substring(0,h.lastIndexOf("/")):"";h=this.pathPrefix+h,this.toLoad++,this.downloadText(h,function(i){var s={count:0},o=new Array;try{new p.TextureAtlas(i,function(t){o.push(""==d?t:d+"/"+t);var e=document.createElement("img");return e.width=16,e.height=16,new p.FakeTexture(e)})}catch(t){var e=t;return c.errors[h]="Couldn't load texture atlas "+h+": "+e.message,u&&u(h,"Couldn't load texture atlas "+h+": "+e.message),c.toLoad--,void c.loaded++}function t(t){var r=!1;c.loadTexture(t,function(t,e){if(s.count++,s.count==o.length)if(r)c.errors[h]="Couldn't load texture atlas page "+t+"} of atlas "+h,u&&u(h,"Couldn't load texture atlas page "+t+" of atlas "+h),c.toLoad--,c.loaded++;else try{var n=new p.TextureAtlas(i,function(t){return c.get(""==d?t:d+"/"+t)});c.assets[h]=n,l&&l(h,n),c.toLoad--,c.loaded++}catch(t){var a=t;c.errors[h]="Couldn't load texture atlas "+h+": "+a.message,u&&u(h,"Couldn't load texture atlas "+h+": "+a.message),c.toLoad--,c.loaded++}},function(t,e){r=!0,s.count++,s.count==o.length&&(c.errors[h]="Couldn't load texture atlas page "+t+"} of atlas "+h,u&&u(h,"Couldn't load texture atlas page "+t+" of atlas "+h),c.toLoad--,c.loaded++)})}for(var n=0,a=o;n<a.length;n++)t(a[n])},function(t,e){c.errors[h]="Couldn't load texture atlas "+h+": status "+status+", "+e,u&&u(h,"Couldn't load texture atlas "+h+": status "+status+", "+e),c.toLoad--,c.loaded++})},e.prototype.get=function(t){return t=this.pathPrefix+t,this.assets[t]},e.prototype.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];e.dispose&&e.dispose(),this.assets[t]=null},e.prototype.removeAll=function(){for(var t in this.assets){var e=this.assets[t];e.dispose&&e.dispose()}this.assets={}},e.prototype.isLoadingComplete=function(){return 0==this.toLoad},e.prototype.getToLoad=function(){return this.toLoad},e.prototype.getLoaded=function(){return this.loaded},e.prototype.dispose=function(){this.removeAll()},e.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},e.prototype.getErrors=function(){return this.errors},e);function e(t,e){void 0===e&&(e=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=t,this.pathPrefix=e}p.AssetManager=t}(spine=spine||{}),function(i){var t=(e.prototype.newRegionAttachment=function(t,e,n){var a=this.atlas.findRegion(n);if(null==a)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");a.renderObject=a;var r=new i.RegionAttachment(e);return r.setRegion(a),r},e.prototype.newMeshAttachment=function(t,e,n){var a=this.atlas.findRegion(n);if(null==a)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");a.renderObject=a;var r=new i.MeshAttachment(e);return r.region=a,r},e.prototype.newBoundingBoxAttachment=function(t,e){return new i.BoundingBoxAttachment(e)},e.prototype.newPathAttachment=function(t,e){return new i.PathAttachment(e)},e.prototype.newPointAttachment=function(t,e){return new i.PointAttachment(e)},e.prototype.newClippingAttachment=function(t,e){return new i.ClippingAttachment(e)},e);function e(t){this.atlas=t}i.AtlasAttachmentLoader=t}(spine=spine||{}),function(t){var e;(e=t.BlendMode||(t.BlendMode={}))[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"}(spine=spine||{}),function(P){var t=(e.prototype.isActive=function(){return this.active},e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(t,e,n,a,r,i,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=a,this.ascaleY=r,this.ashearX=i,this.ashearY=s,this.appliedValid=!0;var o=this.parent;if(null==o){var h=this.skeleton,l=n+90+s,u=h.scaleX,c=h.scaleY;return this.a=P.MathUtils.cosDeg(n+i)*a*u,this.b=P.MathUtils.cosDeg(l)*r*u,this.c=P.MathUtils.sinDeg(n+i)*a*c,this.d=P.MathUtils.sinDeg(l)*r*c,this.worldX=t*u+h.x,void(this.worldY=e*c+h.y)}var d=o.a,p=o.b,f=o.c,m=o.d;switch(this.worldX=d*t+p*e+o.worldX,this.worldY=f*t+m*e+o.worldY,this.data.transformMode){case P.TransformMode.Normal:l=n+90+s;var g=P.MathUtils.cosDeg(n+i)*a,v=P.MathUtils.cosDeg(l)*r,y=P.MathUtils.sinDeg(n+i)*a,x=P.MathUtils.sinDeg(l)*r;return this.a=d*g+p*y,this.b=d*v+p*x,this.c=f*g+m*y,void(this.d=f*v+m*x);case P.TransformMode.OnlyTranslation:l=n+90+s,this.a=P.MathUtils.cosDeg(n+i)*a,this.b=P.MathUtils.cosDeg(l)*r,this.c=P.MathUtils.sinDeg(n+i)*a,this.d=P.MathUtils.sinDeg(l)*r;break;case P.TransformMode.NoRotationOrReflection:var w=0,M=n+i-(w=1e-4<(T=d*d+f*f)?(p=f*(T=Math.abs(d*m-p*f)/T),m=d*T,Math.atan2(f,d)*P.MathUtils.radDeg):(f=d=0,90-Math.atan2(m,p)*P.MathUtils.radDeg)),E=n+s-w+90;g=P.MathUtils.cosDeg(M)*a,v=P.MathUtils.cosDeg(E)*r,y=P.MathUtils.sinDeg(M)*a,x=P.MathUtils.sinDeg(E)*r,this.a=d*g-p*y,this.b=d*v-p*x,this.c=f*g+m*y,this.d=f*v+m*x;break;case P.TransformMode.NoScale:case P.TransformMode.NoScaleOrReflection:var T,A=P.MathUtils.cosDeg(n),b=P.MathUtils.sinDeg(n),S=(d*A+p*b)/this.skeleton.scaleX,I=(f*A+m*b)/this.skeleton.scaleY;1e-5<(T=Math.sqrt(S*S+I*I))&&(T=1/T),S*=T,I*=T,T=Math.sqrt(S*S+I*I),this.data.transformMode==P.TransformMode.NoScale&&d*m-p*f<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T);var C=Math.PI/2+Math.atan2(I,S),R=Math.cos(C)*T,_=Math.sin(C)*T;g=P.MathUtils.cosDeg(i)*a,v=P.MathUtils.cosDeg(90+s)*r,y=P.MathUtils.sinDeg(i)*a,x=P.MathUtils.sinDeg(90+s)*r,this.a=S*g+R*y,this.b=S*v+R*x,this.c=I*g+_*y,this.d=I*v+_*x}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*P.MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*P.MathUtils.radDeg},e.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},e.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent;if(null==t)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*P.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*P.MathUtils.radDeg);var e=t.a,n=t.b,a=t.c,r=t.d,i=1/(e*r-n*a),s=this.worldX-t.worldX,o=this.worldY-t.worldY;this.ax=s*r*i-o*n*i,this.ay=o*e*i-s*a*i;var h=i*r,l=i*e,u=i*n,c=i*a,d=h*this.a-u*this.c,p=h*this.b-u*this.d,f=l*this.c-c*this.a,m=l*this.d-c*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(d*d+f*f),1e-4<this.ascaleX){var g=d*m-p*f;this.ascaleY=g/this.ascaleX,this.ashearY=Math.atan2(d*p+f*m,g)*P.MathUtils.radDeg,this.arotation=Math.atan2(f,d)*P.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(p*p+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,p)*P.MathUtils.radDeg},e.prototype.worldToLocal=function(t){var e=this.a,n=this.b,a=this.c,r=this.d,i=1/(e*r-n*a),s=t.x-this.worldX,o=t.y-this.worldY;return t.x=s*r*i-o*n*i,t.y=o*e*i-s*a*i,t},e.prototype.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},e.prototype.worldToLocalRotation=function(t){var e=P.MathUtils.sinDeg(t),n=P.MathUtils.cosDeg(t);return Math.atan2(this.a*e-this.c*n,this.d*n-this.b*e)*P.MathUtils.radDeg+this.rotation-this.shearX},e.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=P.MathUtils.sinDeg(t),n=P.MathUtils.cosDeg(t);return Math.atan2(n*this.c+e*this.d,n*this.a+e*this.b)*P.MathUtils.radDeg},e.prototype.rotateWorld=function(t){var e=this.a,n=this.b,a=this.c,r=this.d,i=P.MathUtils.cosDeg(t),s=P.MathUtils.sinDeg(t);this.a=i*e-s*a,this.b=i*n-s*r,this.c=s*e+i*a,this.d=s*n+i*r,this.appliedValid=!1},e);function e(t,e,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}P.Bone=t}(spine=spine||{}),function(a){function t(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=r.Normal,this.skinRequired=!1,this.color=new a.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}var r,e;a.BoneData=t,(e=r=a.TransformMode||(a.TransformMode={}))[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(spine=spine||{}),(spine||(spine={})).ConstraintData=function(t,e,n){this.name=t,this.order=e,this.skinRequired=n},(spine||(spine={})).Event=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},(spine||(spine={})).EventData=function(t){this.name=t},function(ht){var t=(e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(t,e,n,a,r,i,s){t.appliedValid||t.updateAppliedTransform();var o=t.parent,h=o.a,l=o.b,u=o.c,c=o.d,d=-t.ashearX-t.arotation,p=0,f=0;switch(t.data.transformMode){case ht.TransformMode.OnlyTranslation:p=e-t.worldX,f=n-t.worldY;break;case ht.TransformMode.NoRotationOrReflection:d+=Math.atan2(u,h)*ht.MathUtils.radDeg;var m=Math.abs(h*c-l*u)/(h*h+u*u);l=-u*m,c=h*m;default:var g=e-o.worldX,v=n-o.worldY,y=h*c-l*u;p=(g*c-v*l)/y-t.ax,f=(v*h-g*u)/y-t.ay}d+=Math.atan2(f,p)*ht.MathUtils.radDeg,t.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var x=t.ascaleX,w=t.ascaleY;if(a||r){switch(t.data.transformMode){case ht.TransformMode.NoScale:case ht.TransformMode.NoScaleOrReflection:p=e-t.worldX,f=n-t.worldY}var M=t.data.length*x,E=Math.sqrt(p*p+f*f);if(a&&E<M||r&&M<E&&1e-4<M){var T=(E/M-1)*s+1;x*=T,i&&(w*=T)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*s,x,w,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,n,a,r,i,s,o){if(0!=o){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var h=t.ax,l=t.ay,u=t.ascaleX,c=u,d=t.ascaleY,p=e.ascaleX,f=0,m=0,g=0;g=u<0?(u=-u,f=180,-1):(f=0,1),d<0&&(d=-d,g=-g),m=p<0?(p=-p,180):0;var v=e.ax,y=0,x=0,w=0,M=t.a,E=t.b,T=t.c,A=t.d,b=Math.abs(u-d)<=1e-4;w=b?(x=M*v+E*(y=e.ay)+t.worldX,T*v+A*y+t.worldY):(y=0,x=M*v+t.worldX,T*v+t.worldY);var S=t.parent;M=S.a,E=S.b,T=S.c;var I,C,R=1/(M*(A=S.d)-E*T),_=x-S.worldX,P=w-S.worldY,V=(_*A-P*E)*R-h,k=(P*M-_*T)*R-l,N=Math.sqrt(V*V+k*k),F=e.data.length*p;if(N<1e-4)return this.apply1(t,n,a,!1,i,!1,o),void e.updateWorldTransformWith(v,y,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var L=((_=n-S.worldX)*A-(P=a-S.worldY)*E)*R-h,O=(P*M-_*T)*R-l,D=L*L+O*O;if(0!=s){s*=u*(p+1)/2;var U=Math.sqrt(D),B=U-N-F*u+s;if(0<B){var Y=Math.min(1,B/(2*s))-1;D=(L-=(Y=(B-s*(1-Y*Y))/U)*L)*L+(O-=Y*O)*O}}t:if(b){var X=(D-N*N-(F*=u)*F)/(2*N*F);X<-1?X=-1:1<X&&(X=1,i&&(c*=(Math.sqrt(D)/(N+F)-1)*o+1)),C=Math.acos(X)*r,M=N+F*X,E=F*Math.sin(C),I=Math.atan2(O*M-L*E,L*M+O*E)}else{var W=(M=u*F)*M,q=(E=d*F)*E,H=Math.atan2(O,L),j=-2*q*N,G=q-W;if(0<=(A=j*j-4*G*(T=q*N*N+W*D-W*q))){var z=Math.sqrt(A);j<0&&(z=-z);var Z=(z=-(j+z)/2)/G,J=T/z,Q=Math.abs(Z)<Math.abs(J)?Z:J;if(Q*Q<=D){P=Math.sqrt(D-Q*Q)*r,I=H-Math.atan2(P,Q),C=Math.atan2(P/d,(Q-N)/u);break t}}var K=ht.MathUtils.PI,$=N-M,tt=$*$,et=0,nt=0,at=N+M,rt=at*at,it=0;-1<=(T=-M*N/(W-q))&&T<=1&&(T=Math.acos(T),(A=(_=M*Math.cos(T)+N)*_+(P=E*Math.sin(T))*P)<tt&&(K=T,tt=A,$=_,et=P),rt<A&&(nt=T,rt=A,at=_,it=P)),C=D<=(tt+rt)/2?(I=H-Math.atan2(et*r,$),K*r):(I=H-Math.atan2(it*r,at),nt*r)}var st=Math.atan2(y,v)*g,ot=t.arotation;180<(I=(I-st)*ht.MathUtils.radDeg+f-ot)?I-=360:I<-180&&(I+=360),t.updateWorldTransformWith(h,l,ot+I*o,c,t.ascaleY,0,0),ot=e.arotation,180<(C=((C+st)*ht.MathUtils.radDeg-e.ashearX)*g+m-ot)?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(v,y,ot+C*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},e);function e(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}ht.IkConstraint=t}(spine=spine||{}),function(t){var n,e=(n=t.ConstraintData,__extends(a,n),a);function a(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e.bendDirection=1,e.compress=!1,e.stretch=!1,e.uniform=!1,e.mix=1,e.softness=0,e}t.IkConstraintData=e}(spine=spine||{}),function(z){var t=(Z.prototype.isActive=function(){return this.active},Z.prototype.apply=function(){this.update()},Z.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof z.PathAttachment){var e=this.rotateMix,n=this.translateMix,a=0<e;if(0<n||a){var r=this.data,i=r.spacingMode==z.SpacingMode.Percent,s=r.rotateMode,o=s==z.RotateMode.Tangent,h=s==z.RotateMode.ChainScale,l=this.bones.length,u=o?l:l+1,c=this.bones,d=z.Utils.setArraySize(this.spaces,u),p=null,f=this.spacing;if(h||!i){h&&(p=z.Utils.setArraySize(this.lengths,l));for(var m=r.spacingMode==z.SpacingMode.Length,g=0,v=u-1;g<v;){var y=(R=c[g]).data.length;if(y<Z.epsilon)h&&(p[g]=0),d[++g]=0;else if(i){if(h){var x=y*R.a,w=y*R.c,M=Math.sqrt(x*x+w*w);p[g]=M}d[++g]=f}else{x=y*R.a,w=y*R.c;var E=Math.sqrt(x*x+w*w);h&&(p[g]=E),d[++g]=(m?y+f:f)*E/y}}}else for(g=1;g<u;g++)d[g]=f;var T=this.computeWorldPositions(t,u,o,r.positionMode==z.PositionMode.Percent,i),A=T[0],b=T[1],S=r.offsetRotation,I=!1;0==S?I=s==z.RotateMode.Chain:(I=!1,S*=0<(C=this.target.bone).a*C.d-C.b*C.c?z.MathUtils.degRad:-z.MathUtils.degRad),g=0;for(var C=3;g<l;g++,C+=3){var R;(R=c[g]).worldX+=(A-R.worldX)*n,R.worldY+=(b-R.worldY)*n;var _=(x=T[C])-A,P=(w=T[C+1])-b;if(h){var V=p[g];if(0!=V){var k=(Math.sqrt(_*_+P*P)/V-1)*e+1;R.a*=k,R.c*=k}}if(A=x,b=w,a){var N=R.a,F=R.b,L=R.c,O=R.d,D=0,U=0,B=0;if(D=o?T[C-1]:0==d[g+1]?T[C+2]:Math.atan2(P,_),D-=Math.atan2(L,N),I){U=Math.cos(D),B=Math.sin(D);var Y=R.data.length;A+=(Y*(U*N-B*L)-_)*e,b+=(Y*(B*N+U*L)-P)*e}else D+=S;D>z.MathUtils.PI?D-=z.MathUtils.PI2:D<-z.MathUtils.PI&&(D+=z.MathUtils.PI2),D*=e,U=Math.cos(D),B=Math.sin(D),R.a=U*N-B*L,R.b=U*F-B*O,R.c=B*N+U*L,R.d=B*F+U*O}R.appliedValid=!1}}}},Z.prototype.computeWorldPositions=function(t,e,n,a,r){var i=this.target,s=this.position,o=this.spaces,h=z.Utils.setArraySize(this.positions,3*e+2),l=null,u=t.closed,c=t.worldVerticesLength,d=c/6,p=Z.NONE;if(!t.constantSpeed){var f=t.lengths,m=f[d-=u?1:2];if(a&&(s*=m),r)for(var g=1;g<e;g++)o[g]*=m;l=z.Utils.setArraySize(this.world,8);for(var v=g=0,y=0;g<e;g++,v+=3){var x=s+=W=o[g];if(u)(x%=m)<0&&(x+=m),y=0;else{if(x<0){p!=Z.BEFORE&&(p=Z.BEFORE,t.computeWorldVertices(i,2,4,l,0,2)),this.addBeforePosition(x,l,0,h,v);continue}if(m<x){p!=Z.AFTER&&(p=Z.AFTER,t.computeWorldVertices(i,c-6,4,l,0,2)),this.addAfterPosition(x-m,l,0,h,v);continue}}for(;;y++){var w=f[y];if(!(w<x)){0==y?x/=w:x=(x-(G=f[y-1]))/(w-G);break}}y!=p&&(p=y,u&&y==d?(t.computeWorldVertices(i,c-4,4,l,0,2),t.computeWorldVertices(i,0,4,l,4,2)):t.computeWorldVertices(i,6*y+2,8,l,0,2)),this.addCurvePosition(x,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],h,v,n||0<g&&0==W)}return h}u?(c+=2,l=z.Utils.setArraySize(this.world,c),t.computeWorldVertices(i,2,c-4,l,0,2),t.computeWorldVertices(i,0,2,l,c-4,2),l[c-2]=l[0],l[c-1]=l[1]):(d--,c-=4,l=z.Utils.setArraySize(this.world,c),t.computeWorldVertices(i,2,c,l,0,2));for(var M=z.Utils.setArraySize(this.curves,d),E=0,T=l[0],A=l[1],b=0,S=0,I=0,C=0,R=0,_=0,P=0,V=0,k=0,N=0,F=0,L=0,O=0,D=0,U=(g=0,2);g<d;g++,U+=6)b=l[U],S=l[U+1],I=l[U+2],C=l[U+3],F=2*(P=.1875*(T-2*b+I))+(k=.09375*(3*(b-I)-T+(R=l[U+4]))),L=2*(V=.1875*(A-2*S+C))+(N=.09375*(3*(S-C)-A+(_=l[U+5]))),O=.75*(b-T)+P+.16666667*k,D=.75*(S-A)+V+.16666667*N,E+=Math.sqrt(O*O+D*D),O+=F,D+=L,F+=k,L+=N,E+=Math.sqrt(O*O+D*D),O+=F,D+=L,E+=Math.sqrt(O*O+D*D),O+=F+k,D+=L+N,E+=Math.sqrt(O*O+D*D),M[g]=E,T=R,A=_;if(s*=a?E:E/t.lengths[d-1],r)for(g=1;g<e;g++)o[g]*=E;for(var B=this.segments,Y=0,X=y=v=g=0;g<e;g++,v+=3){var W;if(x=s+=W=o[g],u)(x%=E)<0&&(x+=E),y=0;else{if(x<0){this.addBeforePosition(x,l,0,h,v);continue}if(E<x){this.addAfterPosition(x-E,l,c-4,h,v);continue}}for(;;y++){var q=M[y];if(!(q<x)){0==y?x/=q:x=(x-(G=M[y-1]))/(q-G);break}}if(y!=p){var H=6*(p=y);for(T=l[H],A=l[H+1],b=l[H+2],S=l[H+3],I=l[H+4],C=l[H+5],F=2*(P=.03*(T-2*b+I))+(k=.006*(3*(b-I)-T+(R=l[H+6]))),L=2*(V=.03*(A-2*S+C))+(N=.006*(3*(S-C)-A+(_=l[H+7]))),O=.3*(b-T)+P+.16666667*k,D=.3*(S-A)+V+.16666667*N,Y=Math.sqrt(O*O+D*D),B[0]=Y,H=1;H<8;H++)O+=F,D+=L,F+=k,L+=N,Y+=Math.sqrt(O*O+D*D),B[H]=Y;O+=F,D+=L,Y+=Math.sqrt(O*O+D*D),B[8]=Y,O+=F+k,D+=L+N,Y+=Math.sqrt(O*O+D*D),B[9]=Y,X=0}for(x*=Y;;X++){var j=B[X];if(!(j<x)){var G;0==X?x/=j:x=X+(x-(G=B[X-1]))/(j-G);break}}this.addCurvePosition(.1*x,T,A,b,S,I,C,R,_,h,v,n||0<g&&0==W)}return h},Z.prototype.addBeforePosition=function(t,e,n,a,r){var i=e[n],s=e[n+1],o=e[n+2]-i,h=e[n+3]-s,l=Math.atan2(h,o);a[r]=i+t*Math.cos(l),a[r+1]=s+t*Math.sin(l),a[r+2]=l},Z.prototype.addAfterPosition=function(t,e,n,a,r){var i=e[n+2],s=e[n+3],o=i-e[n],h=s-e[n+1],l=Math.atan2(h,o);a[r]=i+t*Math.cos(l),a[r+1]=s+t*Math.sin(l),a[r+2]=l},Z.prototype.addCurvePosition=function(t,e,n,a,r,i,s,o,h,l,u,c){if(0==t||isNaN(t))return l[u]=e,l[u+1]=n,void(l[u+2]=Math.atan2(r-n,a-e));var d=t*t,p=d*t,f=1-t,m=f*f,g=m*f,v=f*t,y=3*v,x=f*y,w=y*t,M=e*g+a*x+i*w+o*p,E=n*g+r*x+s*w+h*p;l[u]=M,l[u+1]=E,c&&(l[u+2]=t<.001?Math.atan2(r-n,a-e):Math.atan2(E-(n*m+r*v*2+s*d),M-(e*m+a*v*2+i*d)))},Z.NONE=-1,Z.BEFORE=-2,Z.AFTER=-3,Z.epsilon=1e-5,Z);function Z(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,a=t.bones.length;n<a;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}z.PathConstraint=t}(spine=spine||{}),function(t){var n,e,a,r,i=(n=t.ConstraintData,__extends(s,n),s);function s(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e}t.PathConstraintData=i,(e=t.PositionMode||(t.PositionMode={}))[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent",(a=t.SpacingMode||(t.SpacingMode={}))[a.Length=0]="Length",a[a.Fixed=1]="Fixed",a[a.Percent=2]="Percent",(r=t.RotateMode||(t.RotateMode={}))[r.Tangent=0]="Tangent",r[r.Chain=1]="Chain",r[r.ChainScale=2]="ChainScale"}(spine=spine||{}),function(t){var r=(e.prototype.loaded=function(){var t=0;for(var e in this.assets)t++;return t},e);function e(t){this.toLoad=new Array,this.assets={},this.clientId=t}var n=(a.prototype.queueAsset=function(t,e,n){var a=this.clientAssets[t];return null==a&&(a=new r(t),this.clientAssets[t]=a),null!==e&&(a.textureLoader=e),a.toLoad.push(n),this.queuedAssets[n]!==n&&(this.queuedAssets[n]=n,!0)},a.prototype.loadText=function(t,e){var n=this;if(e=this.pathPrefix+e,this.queueAsset(t,null,e)){var a=new XMLHttpRequest;a.overrideMimeType("text/html"),a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&(200<=a.status&&a.status<300?n.rawAssets[e]=a.responseText:n.errors[e]="Couldn't load text "+e+": status "+a.status+", "+a.responseText)},a.open("GET",e,!0),a.send()}},a.prototype.loadJson=function(t,e){var n=this;if(e=this.pathPrefix+e,this.queueAsset(t,null,e)){var a=new XMLHttpRequest;a.overrideMimeType("text/html"),a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&(200<=a.status&&a.status<300?n.rawAssets[e]=JSON.parse(a.responseText):n.errors[e]="Couldn't load text "+e+": status "+a.status+", "+a.responseText)},a.open("GET",e,!0),a.send()}},a.prototype.loadTexture=function(t,e,n){var a=this;if(n=this.pathPrefix+n,this.queueAsset(t,e,n)){var r=new Image;r.crossOrigin="anonymous",r.onload=function(t){a.rawAssets[n]=r},r.onerror=function(t){a.errors[n]="Couldn't load image "+n},r.src=n}},a.prototype.get=function(t,e){e=this.pathPrefix+e;var n=this.clientAssets[t];return null==n||n.assets[e]},a.prototype.updateClientAssets=function(t){for(var e=0;e<t.toLoad.length;e++){var n=t.toLoad[e],a=t.assets[n];if(null==a){var r=this.rawAssets[n];if(null==r)continue;r instanceof HTMLImageElement?t.assets[n]=t.textureLoader(r):t.assets[n]=r}}},a.prototype.isLoadingComplete=function(t){var e=this.clientAssets[t];return null==e||(this.updateClientAssets(e),e.toLoad.length==e.loaded())},a.prototype.dispose=function(){},a.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},a.prototype.getErrors=function(){return this.errors},a);function a(t){void 0===t&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}t.SharedAssetManager=n}(spine=spine||{}),function(x){var t=(e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)(r=t[e]).sorted=r.data.skinRequired,r.active=!r.sorted;if(null!=this.skin){var a=this.skin.bones;for(e=0,n=this.skin.bones.length;e<n;e++)for(var r=this.bones[a[e].index];r.sorted=!1,r.active=!0,null!=(r=r.parent););}var i=this.ikConstraints,s=this.transformConstraints,o=this.pathConstraints,h=i.length,l=s.length,u=o.length,c=h+l+u;t:for(e=0;e<c;e++){for(var d=0;d<h;d++)if((p=i[d]).data.order==e){this.sortIkConstraint(p);continue t}for(d=0;d<l;d++)if((p=s[d]).data.order==e){this.sortTransformConstraint(p);continue t}for(d=0;d<u;d++){var p;if((p=o[d]).data.order==e){this.sortPathConstraint(p);continue t}}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var n=t.bones,a=n[0];if(this.sortBone(a),1<n.length){var r=n[n.length-1];-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)}this._updateCache.push(t),this.sortReset(a.children),n[n.length-1].sorted=!0}},e.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,a=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,a),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,a);for(var r=0,i=this.data.skins.length;r<i;r++)this.sortPathConstraintAttachment(this.data.skins[r],n,a);var s=e.getAttachment();s instanceof x.PathAttachment&&this.sortPathConstraintAttachmentWith(s,a);var o=t.bones,h=o.length;for(r=0;r<h;r++)this.sortBone(o[r]);for(this._updateCache.push(t),r=0;r<h;r++)this.sortReset(o[r].children);for(r=0;r<h;r++)o[r].sorted=!0}},e.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var a=0;a<n;a++){var r=e[a];this.sortBone(r.parent),-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)}else for(a=0;a<n;a++)this.sortBone(e[a]);this._updateCache.push(t);for(var i=0;i<n;i++)this.sortReset(e[i].children);for(i=0;i<n;i++)e[i].sorted=!0}},e.prototype.sortPathConstraintAttachment=function(t,e,n){var a=t.attachments[e];if(a)for(var r in a)this.sortPathConstraintAttachmentWith(a[r],n)},e.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof x.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var a=this.bones,r=0;r<n.length;)for(var i=n[r++],s=r+i;r<s;r++){var o=n[r];this.sortBone(a[o])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var a=t[e];a.active&&(a.sorted&&this.sortReset(a.children),a.sorted=!1)}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var a=t[e];a.ax=a.x,a.ay=a.y,a.arotation=a.rotation,a.ascaleX=a.scaleX,a.ascaleY=a.scaleY,a.ashearX=a.shearX,a.ashearY=a.shearY,a.appliedValid=!0}var r=this._updateCache;for(e=0,n=r.length;e<n;e++)r[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();var a=this.ikConstraints;for(e=0,n=a.length;e<n;e++)(o=a[e]).mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;var r=this.transformConstraints;for(e=0,n=r.length;e<n;e++){var i=(o=r[e]).data;o.rotateMix=i.rotateMix,o.translateMix=i.translateMix,o.scaleMix=i.scaleMix,o.shearMix=i.shearMix}var s=this.pathConstraints;for(e=0,n=s.length;e<n;e++){var o;i=(o=s[e]).data,o.position=i.position,o.spacing=i.spacing,o.rotateMix=i.rotateMix,o.translateMix=i.translateMix}},e.prototype.setSlotsToSetupPose=function(){var t=this.slots;x.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,a=e.length;n<a;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,a=e.length;n<a;n++)if(e[n].data.name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,a=e.length;n<a;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,a=e.length;n<a;n++)if(e[n].data.name==t)return n;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,a=e.length;n<a;n++){var r=e[n],i=r.data.attachmentName;if(null!=i){var s=t.getAttachment(n,i);null!=s&&r.setAttachment(s)}}this.skin=t,this.updateCache()}},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,a=0,r=n.length;a<r;a++){var i=n[a];if(i.data.name==t){var s=null;if(null!=e&&null==(s=this.getAttachment(a,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(s)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,a=e.length;n<a;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,a=e.length;n<a;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,a=e.length;n<a;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.getBounds=function(t,e,n){if(void 0===n&&(n=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var a=this.drawOrder,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=0,l=a.length;h<l;h++){var u=a[h];if(u.bone.active){var c=0,d=null,p=u.getAttachment();if(p instanceof x.RegionAttachment)c=8,d=x.Utils.setArraySize(n,c,0),p.computeWorldVertices(u.bone,d,0,2);else if(p instanceof x.MeshAttachment){var f=p;c=f.worldVerticesLength,d=x.Utils.setArraySize(n,c,0),f.computeWorldVertices(u,0,c,d,0,2)}if(null!=d)for(var m=0,g=d.length;m<g;m+=2){var v=d[m],y=d[m+1];r=Math.min(r,v),i=Math.min(i,y),s=Math.max(s,v),o=Math.max(o,y)}}}t.set(r,i),e.set(s-r,o-i)},e.prototype.update=function(t){this.time+=t},e);function e(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],a=void 0;if(null==n.parent)a=new x.Bone(n,this,null);else{var r=this.bones[n.parent.index];a=new x.Bone(n,this,r),r.children.push(a)}this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var i=t.slots[e],s=(a=this.bones[i.boneData.index],new x.Slot(i,a));this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var o=t.ikConstraints[e];this.ikConstraints.push(new x.IkConstraint(o,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var h=t.transformConstraints[e];this.transformConstraints.push(new x.TransformConstraint(h,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var l=t.pathConstraints[e];this.pathConstraints.push(new x.PathConstraint(l,this))}this.color=new x.Color(1,1,1,1),this.updateCache()}x.Skeleton=t}(spine=spine||{}),function(q){var t=(H.prototype.readSkeletonData=function(t){var e=this.scale,n=new q.SkeletonData;n.name="";var a=new x(t);if(n.hash=a.readString(),n.version=a.readString(),"3.8.75"==n.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=a.readFloat(),n.y=a.readFloat(),n.width=a.readFloat(),n.height=a.readFloat();var r=a.readBoolean();r&&(n.fps=a.readFloat(),n.imagesPath=a.readString(),n.audioPath=a.readString());var i=0;i=a.readInt(!0);for(var s=0;s<i;s++)a.strings.push(a.readString());for(i=a.readInt(!0),s=0;s<i;s++){var o=a.readString(),h=0==s?null:n.bones[a.readInt(!0)];(c=new q.BoneData(s,o,h)).rotation=a.readFloat(),c.x=a.readFloat()*e,c.y=a.readFloat()*e,c.scaleX=a.readFloat(),c.scaleY=a.readFloat(),c.shearX=a.readFloat(),c.shearY=a.readFloat(),c.length=a.readFloat()*e,c.transformMode=H.TransformModeValues[a.readInt(!0)],c.skinRequired=a.readBoolean(),r&&q.Color.rgba8888ToColor(c.color,a.readInt32()),n.bones.push(c)}for(i=a.readInt(!0),s=0;s<i;s++){var l=a.readString(),u=n.bones[a.readInt(!0)],c=new q.SlotData(s,l,u);q.Color.rgba8888ToColor(c.color,a.readInt32());var d=a.readInt32();-1!=d&&q.Color.rgb888ToColor(c.darkColor=new q.Color,d),c.attachmentName=a.readStringRef(),c.blendMode=H.BlendModeValues[a.readInt(!0)],n.slots.push(c)}i=a.readInt(!0);for(var p=void(s=0);s<i;s++){(c=new q.IkConstraintData(a.readString())).order=a.readInt(!0),c.skinRequired=a.readBoolean(),p=a.readInt(!0);for(var f=0;f<p;f++)c.bones.push(n.bones[a.readInt(!0)]);c.target=n.bones[a.readInt(!0)],c.mix=a.readFloat(),c.softness=a.readFloat()*e,c.bendDirection=a.readByte(),c.compress=a.readBoolean(),c.stretch=a.readBoolean(),c.uniform=a.readBoolean(),n.ikConstraints.push(c)}for(i=a.readInt(!0),p=void(s=0);s<i;s++){for((c=new q.TransformConstraintData(a.readString())).order=a.readInt(!0),c.skinRequired=a.readBoolean(),p=a.readInt(!0),f=0;f<p;f++)c.bones.push(n.bones[a.readInt(!0)]);c.target=n.bones[a.readInt(!0)],c.local=a.readBoolean(),c.relative=a.readBoolean(),c.offsetRotation=a.readFloat(),c.offsetX=a.readFloat()*e,c.offsetY=a.readFloat()*e,c.offsetScaleX=a.readFloat(),c.offsetScaleY=a.readFloat(),c.offsetShearY=a.readFloat(),c.rotateMix=a.readFloat(),c.translateMix=a.readFloat(),c.scaleMix=a.readFloat(),c.shearMix=a.readFloat(),n.transformConstraints.push(c)}for(i=a.readInt(!0),p=void(s=0);s<i;s++){for((c=new q.PathConstraintData(a.readString())).order=a.readInt(!0),c.skinRequired=a.readBoolean(),p=a.readInt(!0),f=0;f<p;f++)c.bones.push(n.bones[a.readInt(!0)]);c.target=n.slots[a.readInt(!0)],c.positionMode=H.PositionModeValues[a.readInt(!0)],c.spacingMode=H.SpacingModeValues[a.readInt(!0)],c.rotateMode=H.RotateModeValues[a.readInt(!0)],c.offsetRotation=a.readFloat(),c.position=a.readFloat(),c.positionMode==q.PositionMode.Fixed&&(c.position*=e),c.spacing=a.readFloat(),c.spacingMode!=q.SpacingMode.Length&&c.spacingMode!=q.SpacingMode.Fixed||(c.spacing*=e),c.rotateMix=a.readFloat(),c.translateMix=a.readFloat(),n.pathConstraints.push(c)}var m=this.readSkin(a,n,!0,r);for(null!=m&&(n.defaultSkin=m,n.skins.push(m)),s=n.skins.length,q.Utils.setArraySize(n.skins,i=s+a.readInt(!0));s<i;s++)n.skins[s]=this.readSkin(a,n,!1,r);for(i=this.linkedMeshes.length,s=0;s<i;s++){var g=this.linkedMeshes[s],v=null==g.skin?n.defaultSkin:n.findSkin(g.skin);if(null==v)throw new Error("Skin not found: "+g.skin);var y=v.getAttachment(g.slotIndex,g.parent);if(null==y)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?y:g.mesh,g.mesh.setParentMesh(y),g.mesh.updateUVs()}for(this.linkedMeshes.length=0,i=a.readInt(!0),s=0;s<i;s++)(c=new q.EventData(a.readStringRef())).intValue=a.readInt(!1),c.floatValue=a.readFloat(),c.stringValue=a.readString(),c.audioPath=a.readString(),null!=c.audioPath&&(c.volume=a.readFloat(),c.balance=a.readFloat()),n.events.push(c);for(i=a.readInt(!0),s=0;s<i;s++)n.animations.push(this.readAnimation(a,a.readString(),n));return n},H.prototype.readSkin=function(t,e,n,a){var r=null,i=0;if(n){if(0==(i=t.readInt(!0)))return null;r=new q.Skin("default")}else{(r=new q.Skin(t.readStringRef())).bones.length=t.readInt(!0);for(var s=0,o=r.bones.length;s<o;s++)r.bones[s]=e.bones[t.readInt(!0)];for(s=0,o=t.readInt(!0);s<o;s++)r.constraints.push(e.ikConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)r.constraints.push(e.transformConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)r.constraints.push(e.pathConstraints[t.readInt(!0)]);i=t.readInt(!0)}for(s=0;s<i;s++)for(var h=t.readInt(!0),l=0,u=t.readInt(!0);l<u;l++){var c=t.readStringRef(),d=this.readAttachment(t,e,r,h,c,a);null!=d&&r.setAttachment(h,c,d)}return r},H.prototype.readAttachment=function(t,e,n,a,r,i){var s=this.scale,o=t.readStringRef();null==o&&(o=r);var h=t.readByte();switch(H.AttachmentTypeValues[h]){case q.AttachmentType.Region:var l=t.readStringRef(),u=t.readFloat(),c=t.readFloat(),d=t.readFloat(),p=t.readFloat(),f=t.readFloat(),m=t.readFloat(),g=t.readFloat(),v=t.readInt32();null==l&&(l=o);var y=this.attachmentLoader.newRegionAttachment(n,o,l);return null==y?null:(y.path=l,y.x=c*s,y.y=d*s,y.scaleX=p,y.scaleY=f,y.rotation=u,y.width=m*s,y.height=g*s,q.Color.rgba8888ToColor(y.color,v),y.updateOffset(),y);case q.AttachmentType.BoundingBox:var x=t.readInt(!0),w=this.readVertices(t,x),M=(v=i?t.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(n,o));return null==M?null:(M.worldVerticesLength=x<<1,M.vertices=w.vertices,M.bones=w.bones,i&&q.Color.rgba8888ToColor(M.color,v),M);case q.AttachmentType.Mesh:l=t.readStringRef(),v=t.readInt32(),x=t.readInt(!0);var E=this.readFloatArray(t,x<<1,1),T=this.readShortArray(t),A=(w=this.readVertices(t,x),t.readInt(!0)),b=null;return g=m=0,i&&(b=this.readShortArray(t),m=t.readFloat(),g=t.readFloat()),null==l&&(l=o),null==(S=this.attachmentLoader.newMeshAttachment(n,o,l))?null:(S.path=l,q.Color.rgba8888ToColor(S.color,v),S.bones=w.bones,S.vertices=w.vertices,S.worldVerticesLength=x<<1,S.triangles=T,S.regionUVs=E,S.updateUVs(),S.hullLength=A<<1,i&&(S.edges=b,S.width=m*s,S.height=g*s),S);case q.AttachmentType.LinkedMesh:l=t.readStringRef(),v=t.readInt32();var S,I=t.readStringRef(),C=t.readStringRef(),R=t.readBoolean();return g=m=0,i&&(m=t.readFloat(),g=t.readFloat()),null==l&&(l=o),null==(S=this.attachmentLoader.newMeshAttachment(n,o,l))?null:(S.path=l,q.Color.rgba8888ToColor(S.color,v),i&&(S.width=m*s,S.height=g*s),this.linkedMeshes.push(new D(S,I,a,C,R)),S);case q.AttachmentType.Path:for(var _=t.readBoolean(),P=t.readBoolean(),V=(x=t.readInt(!0),w=this.readVertices(t,x),q.Utils.newArray(x/3,0)),k=0,N=V.length;k<N;k++)V[k]=t.readFloat()*s;return v=i?t.readInt32():0,null==(l=this.attachmentLoader.newPathAttachment(n,o))?null:(l.closed=_,l.constantSpeed=P,l.worldVerticesLength=x<<1,l.vertices=w.vertices,l.bones=w.bones,l.lengths=V,i&&q.Color.rgba8888ToColor(l.color,v),l);case q.AttachmentType.Point:u=t.readFloat(),c=t.readFloat(),d=t.readFloat(),v=i?t.readInt32():0;var F=this.attachmentLoader.newPointAttachment(n,o);return null==F?null:(F.x=c*s,F.y=d*s,F.rotation=u,i&&q.Color.rgba8888ToColor(F.color,v),F);case q.AttachmentType.Clipping:var L=t.readInt(!0),O=(x=t.readInt(!0),w=this.readVertices(t,x),v=i?t.readInt32():0,this.attachmentLoader.newClippingAttachment(n,o));return null==O?null:(O.endSlot=e.slots[L],O.worldVerticesLength=x<<1,O.vertices=w.vertices,O.bones=w.bones,i&&q.Color.rgba8888ToColor(O.color,v),O)}return null},H.prototype.readVertices=function(t,e){var n=e<<1,a=new u,r=this.scale;if(!t.readBoolean())return a.vertices=this.readFloatArray(t,n,r),a;for(var i=new Array,s=new Array,o=0;o<e;o++){var h=t.readInt(!0);s.push(h);for(var l=0;l<h;l++)s.push(t.readInt(!0)),i.push(t.readFloat()*r),i.push(t.readFloat()*r),i.push(t.readFloat())}return a.vertices=q.Utils.toFloatArray(i),a.bones=s,a},H.prototype.readFloatArray=function(t,e,n){var a=new Array(e);if(1==n)for(var r=0;r<e;r++)a[r]=t.readFloat();else for(r=0;r<e;r++)a[r]=t.readFloat()*n;return a},H.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),a=0;a<e;a++)n[a]=t.readShort();return n},H.prototype.readAnimation=function(t,e,n){for(var a=new Array,r=this.scale,i=0,s=new q.Color,o=new q.Color,h=0,l=t.readInt(!0);h<l;h++)for(var u=t.readInt(!0),c=0,d=t.readInt(!0);c<d;c++){var p=t.readByte(),f=t.readInt(!0);switch(p){case H.SLOT_ATTACHMENT:(y=new q.AttachmentTimeline(f)).slotIndex=u;for(var m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readStringRef());a.push(y),i=Math.max(i,y.frames[f-1]);break;case H.SLOT_COLOR:for((y=new q.ColorTimeline(f)).slotIndex=u,m=0;m<f;m++){var g=t.readFloat();q.Color.rgba8888ToColor(s,t.readInt32()),y.setFrame(m,g,s.r,s.g,s.b,s.a),m<f-1&&this.readCurve(t,m,y)}a.push(y),i=Math.max(i,y.frames[(f-1)*q.ColorTimeline.ENTRIES]);break;case H.SLOT_TWO_COLOR:for((y=new q.TwoColorTimeline(f)).slotIndex=u,m=0;m<f;m++)g=t.readFloat(),q.Color.rgba8888ToColor(s,t.readInt32()),q.Color.rgb888ToColor(o,t.readInt32()),y.setFrame(m,g,s.r,s.g,s.b,s.a,o.r,o.g,o.b),m<f-1&&this.readCurve(t,m,y);a.push(y),i=Math.max(i,y.frames[(f-1)*q.TwoColorTimeline.ENTRIES])}}for(h=0,l=t.readInt(!0);h<l;h++){var v=t.readInt(!0);for(c=0,d=t.readInt(!0);c<d;c++)switch(p=t.readByte(),f=t.readInt(!0),p){case H.BONE_ROTATE:for((y=new q.RotateTimeline(f)).boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);a.push(y),i=Math.max(i,y.frames[(f-1)*q.RotateTimeline.ENTRIES]);break;case H.BONE_TRANSLATE:case H.BONE_SCALE:case H.BONE_SHEAR:var y=void 0,x=1;for(p==H.BONE_SCALE?y=new q.ScaleTimeline(f):p==H.BONE_SHEAR?y=new q.ShearTimeline(f):(y=new q.TranslateTimeline(f),x=r),y.boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x,t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);a.push(y),i=Math.max(i,y.frames[(f-1)*q.TranslateTimeline.ENTRIES])}}for(h=0,l=t.readInt(!0);h<l;h++){var w=t.readInt(!0);for(f=t.readInt(!0),(y=new q.IkConstraintTimeline(f)).ikConstraintIndex=w,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()*r,t.readByte(),t.readBoolean(),t.readBoolean()),m<f-1&&this.readCurve(t,m,y);a.push(y),i=Math.max(i,y.frames[(f-1)*q.IkConstraintTimeline.ENTRIES])}for(h=0,l=t.readInt(!0);h<l;h++){for(w=t.readInt(!0),f=t.readInt(!0),(y=new q.TransformConstraintTimeline(f)).transformConstraintIndex=w,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);a.push(y),i=Math.max(i,y.frames[(f-1)*q.TransformConstraintTimeline.ENTRIES])}for(h=0,l=t.readInt(!0);h<l;h++){w=t.readInt(!0);var M=n.pathConstraints[w];for(c=0,d=t.readInt(!0);c<d;c++)switch(p=t.readByte(),f=t.readInt(!0),p){case H.PATH_POSITION:case H.PATH_SPACING:for(y=void 0,x=1,p==H.PATH_SPACING?(y=new q.PathConstraintSpacingTimeline(f),M.spacingMode!=q.SpacingMode.Length&&M.spacingMode!=q.SpacingMode.Fixed||(x=r)):(y=new q.PathConstraintPositionTimeline(f),M.positionMode==q.PositionMode.Fixed&&(x=r)),y.pathConstraintIndex=w,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);a.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintPositionTimeline.ENTRIES]);break;case H.PATH_MIX:for((y=new q.PathConstraintMixTimeline(f)).pathConstraintIndex=w,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);a.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintMixTimeline.ENTRIES])}}for(h=0,l=t.readInt(!0);h<l;h++){var E=n.skins[t.readInt(!0)];for(c=0,d=t.readInt(!0);c<d;c++){u=t.readInt(!0);for(var T=0,A=t.readInt(!0);T<A;T++){var b=E.getAttachment(u,t.readStringRef()),S=null!=b.bones,I=b.vertices,C=S?I.length/3*2:I.length;for(f=t.readInt(!0),(y=new q.DeformTimeline(f)).slotIndex=u,y.attachment=b,m=0;m<f;m++){g=t.readFloat();var R=void 0,_=t.readInt(!0);if(0==_)R=S?q.Utils.newFloatArray(C):I;else{R=q.Utils.newFloatArray(C);var P=t.readInt(!0);if(_+=P,1==r)for(var V=P;V<_;V++)R[V]=t.readFloat();else for(V=P;V<_;V++)R[V]=t.readFloat()*r;if(!S){V=0;for(var k=R.length;V<k;V++)R[V]+=I[V]}}y.setFrame(m,g,R),m<f-1&&this.readCurve(t,m,y)}a.push(y),i=Math.max(i,y.frames[f-1])}}}var N=t.readInt(!0);if(0<N){y=new q.DrawOrderTimeline(N);var F=n.slots.length;for(h=0;h<N;h++){g=t.readFloat();var L=t.readInt(!0),O=q.Utils.newArray(F,0);for(c=F-1;0<=c;c--)O[c]=-1;var D=q.Utils.newArray(F-L,0),U=0,B=0;for(c=0;c<L;c++){for(u=t.readInt(!0);U!=u;)D[B++]=U++;O[U+t.readInt(!0)]=U++}for(;U<F;)D[B++]=U++;for(c=F-1;0<=c;c--)-1==O[c]&&(O[c]=D[--B]);y.setFrame(h,g,O)}a.push(y),i=Math.max(i,y.frames[N-1])}var Y=t.readInt(!0);if(0<Y){for(y=new q.EventTimeline(Y),h=0;h<Y;h++){g=t.readFloat();var X=n.events[t.readInt(!0)],W=new q.Event(g,X);W.intValue=t.readInt(!1),W.floatValue=t.readFloat(),W.stringValue=t.readBoolean()?t.readString():X.stringValue,null!=W.data.audioPath&&(W.volume=t.readFloat(),W.balance=t.readFloat()),y.setFrame(h,W)}a.push(y),i=Math.max(i,y.frames[Y-1])}return new q.Animation(e,a,i)},H.prototype.readCurve=function(t,e,n){switch(t.readByte()){case H.CURVE_STEPPED:n.setStepped(e);break;case H.CURVE_BEZIER:this.setCurve(n,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},H.prototype.setCurve=function(t,e,n,a,r,i){t.setCurve(e,n,a,r,i)},H.AttachmentTypeValues=[0,1,2,3,4,5,6],H.TransformModeValues=[q.TransformMode.Normal,q.TransformMode.OnlyTranslation,q.TransformMode.NoRotationOrReflection,q.TransformMode.NoScale,q.TransformMode.NoScaleOrReflection],H.PositionModeValues=[q.PositionMode.Fixed,q.PositionMode.Percent],H.SpacingModeValues=[q.SpacingMode.Length,q.SpacingMode.Fixed,q.SpacingMode.Percent],H.RotateModeValues=[q.RotateMode.Tangent,q.RotateMode.Chain,q.RotateMode.ChainScale],H.BlendModeValues=[q.BlendMode.Normal,q.BlendMode.Additive,q.BlendMode.Multiply,q.BlendMode.Screen],H.BONE_ROTATE=0,H.BONE_TRANSLATE=1,H.BONE_SCALE=2,H.BONE_SHEAR=3,H.SLOT_ATTACHMENT=0,H.SLOT_COLOR=1,H.SLOT_TWO_COLOR=2,H.PATH_POSITION=0,H.PATH_SPACING=1,H.PATH_MIX=2,H.CURVE_LINEAR=0,H.CURVE_STEPPED=1,H.CURVE_BEZIER=2,H);function H(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}q.SkeletonBinary=t;var x=(e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.prototype.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<28)))),t?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var a=this.readByte();switch(a>>4){case 12:case 13:e+=String.fromCharCode((31&a)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&a)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(a),n++}}return e},e.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.prototype.readBoolean=function(){return 0!=this.readByte()},e);function e(t,e,n,a){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===a&&(a=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=a}var D=function(t,e,n,a,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=a,this.inheritDeform=r},u=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}(spine=spine||{}),function(d){var t=(e.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,a=this.polygons,r=this.polygonPool,i=t.slots,s=i.length;n.length=0,r.freeAll(a);for(var o=a.length=0;o<s;o++){var h=i[o];if(h.bone.active){var l=h.getAttachment();if(l instanceof d.BoundingBoxAttachment){var u=l;n.push(u);var c=r.obtain();c.length!=u.worldVerticesLength&&(c=d.Utils.newFloatArray(u.worldVerticesLength)),a.push(c),u.computeWorldVertices(h,0,u.worldVerticesLength,c,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=this.polygons,i=0,s=r.length;i<s;i++)for(var o=r[i],h=o,l=0,u=o.length;l<u;l+=2){var c=h[l],d=h[l+1];t=Math.min(t,c),e=Math.min(e,d),n=Math.max(n,c),a=Math.max(a,d)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=a},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,n,a){var r=this.minX,i=this.minY,s=this.maxX,o=this.maxY;if(t<=r&&n<=r||e<=i&&a<=i||s<=t&&s<=n||o<=e&&o<=a)return!1;var h=(a-e)/(n-t),l=h*(r-t)+e;if(i<l&&l<o)return!0;if(i<(l=h*(s-t)+e)&&l<o)return!0;var u=(i-e)/h+t;return r<u&&u<s||r<(u=(o-e)/h+t)&&u<s},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var n=this.polygons,a=0,r=n.length;a<r;a++)if(this.containsPointPolygon(n[a],t,e))return this.boundingBoxes[a];return null},e.prototype.containsPointPolygon=function(t,e,n){for(var a=t,r=t.length,i=r-2,s=!1,o=0;o<r;o+=2){var h=a[o+1],l=a[i+1];if(h<n&&n<=l||l<n&&n<=h){var u=a[o];u+(n-h)/(l-h)*(a[i]-u)<e&&(s=!s)}i=o}return s},e.prototype.intersectsSegment=function(t,e,n,a){for(var r=this.polygons,i=0,s=r.length;i<s;i++)if(this.intersectsSegmentPolygon(r[i],t,e,n,a))return this.boundingBoxes[i];return null},e.prototype.intersectsSegmentPolygon=function(t,e,n,a,r){for(var i=t,s=t.length,o=e-a,h=n-r,l=e*r-n*a,u=i[s-2],c=i[s-1],d=0;d<s;d+=2){var p=i[d],f=i[d+1],m=u*f-c*p,g=u-p,v=c-f,y=o*v-h*g,x=(l*g-o*m)/y;if((u<=x&&x<=p||p<=x&&x<=u)&&(e<=x&&x<=a||a<=x&&x<=e)){var w=(l*v-h*m)/y;if((c<=w&&w<=f||f<=w&&w<=c)&&(n<=w&&w<=r||r<=w&&w<=n))return!0}u=p,c=f}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e);function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new d.Pool(function(){return d.Utils.newFloatArray(16)})}d.SkeletonBounds=t}(spine=spine||{}),function(Z){var t=(l.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var n=(this.clipAttachment=e).worldVerticesLength,a=Z.Utils.setArraySize(this.clippingPolygon,n);e.computeWorldVertices(t,0,n,a,0,2);var r=this.clippingPolygon;l.makeClockwise(r);for(var i=this.clippingPolygons=this.triangulator.decompose(r,this.triangulator.triangulate(r)),s=0,o=i.length;s<o;s++){var h=i[s];l.makeClockwise(h),h.push(h[0]),h.push(h[1])}return i.length},l.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},l.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},l.prototype.isClipping=function(){return null!=this.clipAttachment},l.prototype.clipTriangles=function(t,e,n,a,r,i,s,o){var h=this.clipOutput,l=this.clippedVertices,u=this.clippedTriangles,c=this.clippingPolygons,d=this.clippingPolygons.length,p=o?12:8,f=0;l.length=0;t:for(var m=u.length=0;m<a;m+=3)for(var g=n[m]<<1,v=t[g],y=t[g+1],x=r[g],w=r[g+1],M=t[g=n[m+1]<<1],E=t[g+1],T=r[g],A=r[g+1],b=t[g=n[m+2]<<1],S=t[g+1],I=r[g],C=r[g+1],R=0;R<d;R++){var _=l.length;if(!this.clip(v,y,M,E,b,S,c[R],h)){(U=Z.Utils.setArraySize(l,_+3*p))[_]=v,U[_+1]=y,U[_+2]=i.r,U[_+3]=i.g,U[_+4]=i.b,U[_+5]=i.a,o?(U[_+6]=x,U[_+7]=w,U[_+8]=s.r,U[_+9]=s.g,U[_+10]=s.b,U[_+11]=s.a,U[_+12]=M,U[_+13]=E,U[_+14]=i.r,U[_+15]=i.g,U[_+16]=i.b,U[_+17]=i.a,U[_+18]=T,U[_+19]=A,U[_+20]=s.r,U[_+21]=s.g,U[_+22]=s.b,U[_+23]=s.a,U[_+24]=b,U[_+25]=S,U[_+26]=i.r,U[_+27]=i.g,U[_+28]=i.b,U[_+29]=i.a,U[_+30]=I,U[_+31]=C,U[_+32]=s.r,U[_+33]=s.g,U[_+34]=s.b,U[_+35]=s.a):(U[_+6]=x,U[_+7]=w,U[_+8]=M,U[_+9]=E,U[_+10]=i.r,U[_+11]=i.g,U[_+12]=i.b,U[_+13]=i.a,U[_+14]=T,U[_+15]=A,U[_+16]=b,U[_+17]=S,U[_+18]=i.r,U[_+19]=i.g,U[_+20]=i.b,U[_+21]=i.a,U[_+22]=I,U[_+23]=C),_=u.length,(z=Z.Utils.setArraySize(u,_+3))[_]=f,z[_+1]=f+1,z[_+2]=f+2,f+=3;continue t}var P=h.length;if(0!=P){for(var V=E-S,k=b-M,N=v-b,F=S-y,L=1/(V*N+k*(y-S)),O=P>>1,D=this.clipOutput,U=Z.Utils.setArraySize(l,_+O*p),B=0;B<P;B+=2){var Y=D[B],X=D[B+1];U[_]=Y,U[_+1]=X,U[_+2]=i.r,U[_+3]=i.g,U[_+4]=i.b,U[_+5]=i.a;var W=Y-b,q=X-S,H=(V*W+k*q)*L,j=(F*W+N*q)*L,G=1-H-j;U[_+6]=x*H+T*j+I*G,U[_+7]=w*H+A*j+C*G,o&&(U[_+8]=s.r,U[_+9]=s.g,U[_+10]=s.b,U[_+11]=s.a),_+=p}_=u.length;var z=Z.Utils.setArraySize(u,_+3*(O-2));for(O--,B=1;B<O;B++)z[_]=f,z[_+1]=f+B,z[_+2]=f+B+1,_+=3;f+=O+1}}},l.prototype.clip=function(t,e,n,a,r,i,s,o){var h=o,l=!1,u=null;2<=s.length%4?(u=o,o=this.scratch):u=this.scratch,u.length=0,u.push(t),u.push(e),u.push(n),u.push(a),u.push(r),u.push(i),u.push(t),u.push(e),o.length=0;for(var c=s,d=s.length-4,p=0;;p+=2){for(var f=c[p],m=c[p+1],g=c[p+2],v=c[p+3],y=f-g,x=m-v,w=u,M=u.length-2,E=o.length,T=0;T<M;T+=2){var A=w[T],b=w[T+1],S=w[T+2],I=w[T+3],C=0<y*(I-v)-x*(S-g);if(0<y*(b-v)-x*(A-g)){if(C){o.push(S),o.push(I);continue}var R=(P=I-b)*(g-f)-(V=S-A)*(v-m);if(1e-6<Math.abs(R)){var _=(V*(m-b)-P*(f-A))/R;o.push(f+(g-f)*_),o.push(m+(v-m)*_)}else o.push(f),o.push(m)}else if(C){var P,V;R=(P=I-b)*(g-f)-(V=S-A)*(v-m),1e-6<Math.abs(R)?(_=(V*(m-b)-P*(f-A))/R,o.push(f+(g-f)*_),o.push(m+(v-m)*_)):(o.push(f),o.push(m)),o.push(S),o.push(I)}l=!0}if(E==o.length)return!(h.length=0);if(o.push(o[0]),o.push(o[1]),p==d)break;var k=o;(o=u).length=0,u=k}if(h!=o){p=h.length=0;for(var N=o.length-2;p<N;p++)h[p]=o[p]}else h.length=h.length-2;return l},l.makeClockwise=function(t){for(var e=t,n=t.length,a=e[n-2]*e[1]-e[0]*e[n-1],r=0,i=0,s=0,o=0,h=n-3;o<h;o+=2)r=e[o],i=e[o+1],s=e[o+2],a+=r*e[o+3]-s*i;if(!(a<0)){o=0;var l=n-2;for(h=n>>1;o<h;o+=2){var u=e[o],c=e[o+1],d=l-o;e[o]=e[d],e[o+1]=e[1+d],e[d]=u,e[1+d]=c}}},l);function l(){this.triangulator=new Z.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}Z.SkeletonClipping=t}(spine=spine||{}),function(t){var e=(n.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,a=e.length;n<a;n++)if(e[n].name==t)return n;return-1},n.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,a=e.length;n<a;n++)if(e[n].name==t)return n;return-1},n.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,a=e.length;n<a;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,a=e.length;n<a;n++)if(e[n].name==t)return n;return-1},n);function n(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}t.SkeletonData=e}(spine=spine||{}),function(tt){var t=(N.prototype.readSkeletonData=function(t){var e=this.scale,n=new tt.SkeletonData,a="string"==typeof t?JSON.parse(t):t,r=a.skeleton;if(null!=r){if(n.hash=r.hash,n.version=r.spine,"3.8.75"==n.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height,n.fps=r.fps,n.imagesPath=r.images}if(a.bones)for(var i=0;i<a.bones.length;i++){var s=a.bones[i],o=null,h=this.getValue(s,"parent",null);if(null!=h&&null==(o=n.findBone(h)))throw new Error("Parent bone not found: "+h);(d=new tt.BoneData(n.bones.length,s.name,o)).length=this.getValue(s,"length",0)*e,d.x=this.getValue(s,"x",0)*e,d.y=this.getValue(s,"y",0)*e,d.rotation=this.getValue(s,"rotation",0),d.scaleX=this.getValue(s,"scaleX",1),d.scaleY=this.getValue(s,"scaleY",1),d.shearX=this.getValue(s,"shearX",0),d.shearY=this.getValue(s,"shearY",0),d.transformMode=N.transformModeFromString(this.getValue(s,"transform","normal")),d.skinRequired=this.getValue(s,"skin",!1),n.bones.push(d)}if(a.slots)for(i=0;i<a.slots.length;i++){var l=(A=a.slots[i]).name,u=A.bone,c=n.findBone(u);if(null==c)throw new Error("Slot bone not found: "+u);var d=new tt.SlotData(n.slots.length,l,c),p=this.getValue(A,"color",null);null!=p&&d.color.setFromString(p);var f=this.getValue(A,"dark",null);null!=f&&(d.darkColor=new tt.Color(1,1,1,1),d.darkColor.setFromString(f)),d.attachmentName=this.getValue(A,"attachment",null),d.blendMode=N.blendModeFromString(this.getValue(A,"blend","normal")),n.slots.push(d)}if(a.ik)for(i=0;i<a.ik.length;i++){var m=a.ik[i];(d=new tt.IkConstraintData(m.name)).order=this.getValue(m,"order",0),d.skinRequired=this.getValue(m,"skin",!1);for(var g=0;g<m.bones.length;g++){if(u=m.bones[g],null==(M=n.findBone(u)))throw new Error("IK bone not found: "+u);d.bones.push(M)}var v=m.target;if(d.target=n.findBone(v),null==d.target)throw new Error("IK target bone not found: "+v);d.mix=this.getValue(m,"mix",1),d.softness=this.getValue(m,"softness",0)*e,d.bendDirection=this.getValue(m,"bendPositive",!0)?1:-1,d.compress=this.getValue(m,"compress",!1),d.stretch=this.getValue(m,"stretch",!1),d.uniform=this.getValue(m,"uniform",!1),n.ikConstraints.push(d)}if(a.transform)for(i=0;i<a.transform.length;i++){for(m=a.transform[i],(d=new tt.TransformConstraintData(m.name)).order=this.getValue(m,"order",0),d.skinRequired=this.getValue(m,"skin",!1),g=0;g<m.bones.length;g++){if(u=m.bones[g],null==(M=n.findBone(u)))throw new Error("Transform constraint bone not found: "+u);d.bones.push(M)}if(v=m.target,d.target=n.findBone(v),null==d.target)throw new Error("Transform constraint target bone not found: "+v);d.local=this.getValue(m,"local",!1),d.relative=this.getValue(m,"relative",!1),d.offsetRotation=this.getValue(m,"rotation",0),d.offsetX=this.getValue(m,"x",0)*e,d.offsetY=this.getValue(m,"y",0)*e,d.offsetScaleX=this.getValue(m,"scaleX",0),d.offsetScaleY=this.getValue(m,"scaleY",0),d.offsetShearY=this.getValue(m,"shearY",0),d.rotateMix=this.getValue(m,"rotateMix",1),d.translateMix=this.getValue(m,"translateMix",1),d.scaleMix=this.getValue(m,"scaleMix",1),d.shearMix=this.getValue(m,"shearMix",1),n.transformConstraints.push(d)}if(a.path)for(i=0;i<a.path.length;i++){for(m=a.path[i],(d=new tt.PathConstraintData(m.name)).order=this.getValue(m,"order",0),d.skinRequired=this.getValue(m,"skin",!1),g=0;g<m.bones.length;g++){if(u=m.bones[g],null==(M=n.findBone(u)))throw new Error("Transform constraint bone not found: "+u);d.bones.push(M)}if(v=m.target,d.target=n.findSlot(v),null==d.target)throw new Error("Path target slot not found: "+v);d.positionMode=N.positionModeFromString(this.getValue(m,"positionMode","percent")),d.spacingMode=N.spacingModeFromString(this.getValue(m,"spacingMode","length")),d.rotateMode=N.rotateModeFromString(this.getValue(m,"rotateMode","tangent")),d.offsetRotation=this.getValue(m,"rotation",0),d.position=this.getValue(m,"position",0),d.positionMode==tt.PositionMode.Fixed&&(d.position*=e),d.spacing=this.getValue(m,"spacing",0),d.spacingMode!=tt.SpacingMode.Length&&d.spacingMode!=tt.SpacingMode.Fixed||(d.spacing*=e),d.rotateMix=this.getValue(m,"rotateMix",1),d.translateMix=this.getValue(m,"translateMix",1),n.pathConstraints.push(d)}if(a.skins)for(i=0;i<a.skins.length;i++){var y=a.skins[i],x=new tt.Skin(y.name);if(y.bones)for(var w=0;w<y.bones.length;w++){var M;if(null==(M=n.findBone(y.bones[w])))throw new Error("Skin bone not found: "+y.bones[i]);x.bones.push(M)}if(y.ik)for(w=0;w<y.ik.length;w++){if(null==(E=n.findIkConstraint(y.ik[w])))throw new Error("Skin IK constraint not found: "+y.ik[i]);x.constraints.push(E)}if(y.transform)for(w=0;w<y.transform.length;w++){if(null==(E=n.findTransformConstraint(y.transform[w])))throw new Error("Skin transform constraint not found: "+y.transform[i]);x.constraints.push(E)}if(y.path)for(w=0;w<y.path.length;w++){var E;if(null==(E=n.findPathConstraint(y.path[w])))throw new Error("Skin path constraint not found: "+y.path[i]);x.constraints.push(E)}for(var l in y.attachments){var T=n.findSlot(l);if(null==T)throw new Error("Slot not found: "+l);var A=y.attachments[l];for(var b in A){var S=this.readAttachment(A[b],x,T.index,b,n);null!=S&&x.setAttachment(T.index,b,S)}}n.skins.push(x),"default"==x.name&&(n.defaultSkin=x)}i=0;for(var I=this.linkedMeshes.length;i<I;i++){var C=this.linkedMeshes[i];if(null==(x=null==C.skin?n.defaultSkin:n.findSkin(C.skin)))throw new Error("Skin not found: "+C.skin);var R=x.getAttachment(C.slotIndex,C.parent);if(null==R)throw new Error("Parent mesh not found: "+C.parent);C.mesh.deformAttachment=C.inheritDeform?R:C.mesh,C.mesh.setParentMesh(R),C.mesh.updateUVs()}if(this.linkedMeshes.length=0,a.events)for(var _ in a.events){var P=a.events[_];(d=new tt.EventData(_)).intValue=this.getValue(P,"int",0),d.floatValue=this.getValue(P,"float",0),d.stringValue=this.getValue(P,"string",""),d.audioPath=this.getValue(P,"audio",null),null!=d.audioPath&&(d.volume=this.getValue(P,"volume",1),d.balance=this.getValue(P,"balance",0)),n.events.push(d)}if(a.animations)for(var V in a.animations){var k=a.animations[V];this.readAnimation(k,V,n)}return n},N.prototype.readAttachment=function(t,e,n,a,r){var i=this.scale;switch(a=this.getValue(t,"name",a),this.getValue(t,"type","region")){case"region":var s=this.getValue(t,"path",a),o=this.attachmentLoader.newRegionAttachment(e,a,s);return null==o?null:(o.path=s,o.x=this.getValue(t,"x",0)*i,o.y=this.getValue(t,"y",0)*i,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*i,o.height=t.height*i,null!=(v=this.getValue(t,"color",null))&&o.color.setFromString(v),o.updateOffset(),o);case"boundingbox":var h=this.attachmentLoader.newBoundingBoxAttachment(e,a);return null==h?null:(this.readVertices(t,h,t.vertexCount<<1),null!=(v=this.getValue(t,"color",null))&&h.color.setFromString(v),h);case"mesh":case"linkedmesh":s=this.getValue(t,"path",a);var l=this.attachmentLoader.newMeshAttachment(e,a,s);if(null==l)return null;l.path=s,null!=(v=this.getValue(t,"color",null))&&l.color.setFromString(v),l.width=this.getValue(t,"width",0)*i,l.height=this.getValue(t,"height",0)*i;var u=this.getValue(t,"parent",null);if(null!=u)return this.linkedMeshes.push(new w(l,this.getValue(t,"skin",null),n,u,this.getValue(t,"deform",!0))),l;var c=t.uvs;return this.readVertices(t,l,c.length),l.triangles=t.triangles,l.regionUVs=c,l.updateUVs(),l.edges=this.getValue(t,"edges",null),l.hullLength=2*this.getValue(t,"hull",0),l;case"path":if(null==(s=this.attachmentLoader.newPathAttachment(e,a)))return null;s.closed=this.getValue(t,"closed",!1),s.constantSpeed=this.getValue(t,"constantSpeed",!0);var d=t.vertexCount;this.readVertices(t,s,d<<1);for(var p=tt.Utils.newArray(d/3,0),f=0;f<t.lengths.length;f++)p[f]=t.lengths[f]*i;return s.lengths=p,null!=(v=this.getValue(t,"color",null))&&s.color.setFromString(v),s;case"point":var m=this.attachmentLoader.newPointAttachment(e,a);return null==m?null:(m.x=this.getValue(t,"x",0)*i,m.y=this.getValue(t,"y",0)*i,m.rotation=this.getValue(t,"rotation",0),null!=(v=this.getValue(t,"color",null))&&m.color.setFromString(v),m);case"clipping":var g=this.attachmentLoader.newClippingAttachment(e,a);if(null==g)return null;var v,y=this.getValue(t,"end",null);if(null!=y){var x=r.findSlot(y);if(null==x)throw new Error("Clipping end slot not found: "+y);g.endSlot=x}return d=t.vertexCount,this.readVertices(t,g,d<<1),null!=(v=this.getValue(t,"color",null))&&g.color.setFromString(v),g}return null},N.prototype.readVertices=function(t,e,n){var a=this.scale;e.worldVerticesLength=n;var r=t.vertices;if(n!=r.length){var i=new Array,s=new Array;for(u=0,c=r.length;u<c;){var o=r[u++];s.push(o);for(var h=u+4*o;u<h;u+=4)s.push(r[u]),i.push(r[u+1]*a),i.push(r[u+2]*a),i.push(r[u+3])}e.bones=s,e.vertices=tt.Utils.toFloatArray(i)}else{var l=tt.Utils.toFloatArray(r);if(1!=a)for(var u=0,c=r.length;u<c;u++)l[u]*=a;e.vertices=l}},N.prototype.readAnimation=function(t,e,n){var a=this.scale,r=new Array,i=0;if(t.slots)for(var s in t.slots){var o=t.slots[s];if(-1==(Z=n.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(var h in o){var l=o[h];if("attachment"==h){(x=new tt.AttachmentTimeline(l.length)).slotIndex=Z;for(var u=0,c=0;c<l.length;c++){var d=l[c];x.setFrame(u++,this.getValue(d,"time",0),d.name)}r.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}else if("color"==h){for((x=new tt.ColorTimeline(l.length)).slotIndex=Z,c=u=0;c<l.length;c++){d=l[c];var p=new tt.Color;p.setFromString(d.color),x.setFrame(u,this.getValue(d,"time",0),p.r,p.g,p.b,p.a),this.readCurve(d,x,u),u++}r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.ColorTimeline.ENTRIES])}else{if("twoColor"!=h)throw new Error("Invalid timeline type for a slot: "+h+" ("+s+")");for((x=new tt.TwoColorTimeline(l.length)).slotIndex=Z,c=u=0;c<l.length;c++){d=l[c];var f=new tt.Color,m=new tt.Color;f.setFromString(d.light),m.setFromString(d.dark),x.setFrame(u,this.getValue(d,"time",0),f.r,f.g,f.b,f.a,m.r,m.g,m.b),this.readCurve(d,x,u),u++}r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var g in t.bones){var v=t.bones[g],y=n.findBoneIndex(g);if(-1==y)throw new Error("Bone not found: "+g);for(var h in v)if(l=v[h],"rotate"===h){for((x=new tt.RotateTimeline(l.length)).boneIndex=y,c=u=0;c<l.length;c++)d=l[c],x.setFrame(u,this.getValue(d,"time",0),this.getValue(d,"angle",0)),this.readCurve(d,x,u),u++;r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.RotateTimeline.ENTRIES])}else{if("translate"!==h&&"scale"!==h&&"shear"!==h)throw new Error("Invalid timeline type for a bone: "+h+" ("+g+")");var x=null,w=1,M=0;for("scale"===h?(x=new tt.ScaleTimeline(l.length),M=1):"shear"===h?x=new tt.ShearTimeline(l.length):(x=new tt.TranslateTimeline(l.length),w=a),x.boneIndex=y,c=u=0;c<l.length;c++){d=l[c];var E=this.getValue(d,"x",M),T=this.getValue(d,"y",M);x.setFrame(u,this.getValue(d,"time",0),E*w,T*w),this.readCurve(d,x,u),u++}r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TranslateTimeline.ENTRIES])}}if(t.ik)for(var A in t.ik){var b=t.ik[A],S=n.findIkConstraint(A);for((x=new tt.IkConstraintTimeline(b.length)).ikConstraintIndex=n.ikConstraints.indexOf(S),c=u=0;c<b.length;c++)d=b[c],x.setFrame(u,this.getValue(d,"time",0),this.getValue(d,"mix",1),this.getValue(d,"softness",0)*a,this.getValue(d,"bendPositive",!0)?1:-1,this.getValue(d,"compress",!1),this.getValue(d,"stretch",!1)),this.readCurve(d,x,u),u++;r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var A in t.transform){for(b=t.transform[A],S=n.findTransformConstraint(A),(x=new tt.TransformConstraintTimeline(b.length)).transformConstraintIndex=n.transformConstraints.indexOf(S),c=u=0;c<b.length;c++)d=b[c],x.setFrame(u,this.getValue(d,"time",0),this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1),this.getValue(d,"scaleMix",1),this.getValue(d,"shearMix",1)),this.readCurve(d,x,u),u++;r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var A in t.path){b=t.path[A];var I=n.findPathConstraintIndex(A);if(-1==I)throw new Error("Path constraint not found: "+A);var C=n.pathConstraints[I];for(var h in b)if(l=b[h],"position"===h||"spacing"===h){for(x=null,w=1,"spacing"===h?(x=new tt.PathConstraintSpacingTimeline(l.length),C.spacingMode!=tt.SpacingMode.Length&&C.spacingMode!=tt.SpacingMode.Fixed||(w=a)):(x=new tt.PathConstraintPositionTimeline(l.length),C.positionMode==tt.PositionMode.Fixed&&(w=a)),x.pathConstraintIndex=I,c=u=0;c<l.length;c++)d=l[c],x.setFrame(u,this.getValue(d,"time",0),this.getValue(d,h,0)*w),this.readCurve(d,x,u),u++;r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===h){for((x=new tt.PathConstraintMixTimeline(l.length)).pathConstraintIndex=I,c=u=0;c<l.length;c++)d=l[c],x.setFrame(u,this.getValue(d,"time",0),this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1)),this.readCurve(d,x,u),u++;r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintMixTimeline.ENTRIES])}}if(t.deform)for(var R in t.deform){var _=t.deform[R],P=n.findSkin(R);if(null==P)throw new Error("Skin not found: "+R);for(var s in _){if(o=_[s],-1==(Z=n.findSlotIndex(s)))throw new Error("Slot not found: "+o.name);for(var h in o){l=o[h];var V=P.getAttachment(Z,h);if(null==V)throw new Error("Deform attachment not found: "+l.name);var k=null!=V.bones,N=V.vertices,F=k?N.length/3*2:N.length;(x=new tt.DeformTimeline(l.length)).slotIndex=Z,x.attachment=V;for(var L=u=0;L<l.length;L++){d=l[L];var O=void 0,D=this.getValue(d,"vertices",null);if(null==D)O=k?tt.Utils.newFloatArray(F):N;else{O=tt.Utils.newFloatArray(F);var U=this.getValue(d,"offset",0);if(tt.Utils.arrayCopy(D,0,O,U,D.length),1!=a)for(var B=(c=U)+D.length;c<B;c++)O[c]*=a;if(!k)for(c=0;c<F;c++)O[c]+=N[c]}x.setFrame(u,this.getValue(d,"time",0),O),this.readCurve(d,x,u),u++}r.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}}}var Y=t.drawOrder;if(null==Y&&(Y=t.draworder),null!=Y){x=new tt.DrawOrderTimeline(Y.length);var X=n.slots.length;for(L=u=0;L<Y.length;L++){var W=Y[L],q=null,H=this.getValue(W,"offsets",null);if(null!=H){q=tt.Utils.newArray(X,-1);var j=tt.Utils.newArray(X-H.length,0),G=0,z=0;for(c=0;c<H.length;c++){var Z,J=H[c];if(-1==(Z=n.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;G!=Z;)j[z++]=G++;q[G+J.offset]=G++}for(;G<X;)j[z++]=G++;for(c=X-1;0<=c;c--)-1==q[c]&&(q[c]=j[--z])}x.setFrame(u++,this.getValue(W,"time",0),q)}r.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(t.events){for(x=new tt.EventTimeline(t.events.length),c=u=0;c<t.events.length;c++){var Q=t.events[c],K=n.findEvent(Q.name);if(null==K)throw new Error("Event not found: "+Q.name);var $=new tt.Event(tt.Utils.toSinglePrecision(this.getValue(Q,"time",0)),K);$.intValue=this.getValue(Q,"int",K.intValue),$.floatValue=this.getValue(Q,"float",K.floatValue),$.stringValue=this.getValue(Q,"string",K.stringValue),null!=$.data.audioPath&&($.volume=this.getValue(Q,"volume",1),$.balance=this.getValue(Q,"balance",0)),x.setFrame(u++,$)}r.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new tt.Animation(e,r,i))},N.prototype.readCurve=function(t,e,n){if(t.hasOwnProperty("curve"))if("stepped"==t.curve)e.setStepped(n);else{var a=t.curve;e.setCurve(n,a,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},N.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},N.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.BlendMode.Normal;if("additive"==t)return tt.BlendMode.Additive;if("multiply"==t)return tt.BlendMode.Multiply;if("screen"==t)return tt.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},N.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return tt.PositionMode.Fixed;if("percent"==t)return tt.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},N.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return tt.SpacingMode.Length;if("fixed"==t)return tt.SpacingMode.Fixed;if("percent"==t)return tt.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},N.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return tt.RotateMode.Tangent;if("chain"==t)return tt.RotateMode.Chain;if("chainscale"==t)return tt.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},N.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.TransformMode.Normal;if("onlytranslation"==t)return tt.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return tt.TransformMode.NoRotationOrReflection;if("noscale"==t)return tt.TransformMode.NoScale;if("noscaleorreflection"==t)return tt.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},N);function N(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}tt.SkeletonJson=t;var w=function(t,e,n,a,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=a,this.inheritDeform=r}}(spine=spine||{}),function(h){var i=function(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n};h.SkinEntry=i;var t=(e.prototype.setAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var a=this.attachments;t>=a.length&&(a.length=t+1),a[t]||(a[t]={}),a[t][e]=n},e.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],a=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){a=!0;break}a||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){var i=t.constraints[e];for(a=!1,r=0;r<this.constraints.length;r++)if(this.constraints[r]==i){a=!0;break}a||this.constraints.push(i)}var s=t.getAttachments();for(e=0;e<s.length;e++){var o=s[e];this.setAttachment(o.slotIndex,o.name,o.attachment)}},e.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],a=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){a=!0;break}a||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){var i=t.constraints[e];for(a=!1,r=0;r<this.constraints.length;r++)if(this.constraints[r]==i){a=!0;break}a||this.constraints.push(i)}var s=t.getAttachments();for(e=0;e<s.length;e++){var o=s[e];null!=o.attachment&&(o.attachment instanceof h.MeshAttachment?o.attachment=o.attachment.newLinkedMesh():o.attachment=o.attachment.copy(),this.setAttachment(o.slotIndex,o.name,o.attachment))}},e.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},e.prototype.removeAttachment=function(t,e){var n=this.attachments[t];n&&(n[e]=null)},e.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var a in n){var r=n[a];r&&t.push(new i(e,a,r))}}return t},e.prototype.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var a in n){var r=n[a];r&&e.push(new i(t,a,r))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(t,e){for(var n=0,a=0;a<t.slots.length;a++){var r=t.slots[a],i=r.getAttachment();if(i&&n<e.attachments.length){var s=e.attachments[n];for(var o in s)if(i==s[o]){var h=this.getAttachment(n,o);null!=h&&r.setAttachment(h);break}}n++}},e);function e(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}h.Skin=t}(spine=spine||{}),function(n){var t=(e.prototype.getSkeleton=function(){return this.bone.skeleton},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e);function e(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new n.Color,this.darkColor=null==t.darkColor?null:new n.Color,this.setToSetupPose()}n.Slot=t}(spine=spine||{}),function(a){function t(t,e,n){if(this.color=new a.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}a.SlotData=t}(spine=spine||{}),function(t){var e,n,a,r,i=(s.prototype.getImage=function(){return this._image},s.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},s.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return a.MirroredRepeat;case"clamptoedge":return a.ClampToEdge;case"repeat":return a.Repeat;default:throw new Error("Unknown texture wrap "+t)}},s);function s(t){this._image=t}t.Texture=i,(n=e=t.TextureFilter||(t.TextureFilter={}))[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear",(r=a=t.TextureWrap||(t.TextureWrap={}))[r.MirroredRepeat=33648]="MirroredRepeat",r[r.ClampToEdge=33071]="ClampToEdge",r[r.Repeat=10497]="Repeat";function o(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}t.TextureRegion=o;var h,l=(__extends(u,h=i),u.prototype.setFilters=function(t,e){},u.prototype.setWraps=function(t,e){},u.prototype.dispose=function(){},u);function u(){return null!==h&&h.apply(this,arguments)||this}t.FakeTexture=l}(spine=spine||{}),function(p){var t=(e.prototype.load=function(t,e){if(null==e)throw new Error("textureLoader cannot be null.");for(var n=new f(t),a=new Array(4),r=null;;){var i=n.readLine();if(null==i)break;if(0==(i=i.trim()).length)r=null;else if(r){var s=new g;s.name=i,s.page=r;var o=n.readValue();"true"==o.toLocaleLowerCase()?s.degrees=90:"false"==o.toLocaleLowerCase()?s.degrees=0:s.degrees=parseFloat(o),s.rotate=90==s.degrees,n.readTuple(a);var h=parseInt(a[0]),l=parseInt(a[1]);n.readTuple(a);var u=parseInt(a[0]),c=parseInt(a[1]);s.u=h/r.width,s.v=l/r.height,s.rotate?(s.u2=(h+c)/r.width,s.v2=(l+u)/r.height):(s.u2=(h+u)/r.width,s.v2=(l+c)/r.height),s.x=h,s.y=l,s.width=Math.abs(u),s.height=Math.abs(c),4==n.readTuple(a)&&4==n.readTuple(a)&&n.readTuple(a),s.originalWidth=parseInt(a[0]),s.originalHeight=parseInt(a[1]),n.readTuple(a),s.offsetX=parseInt(a[0]),s.offsetY=parseInt(a[1]),s.index=parseInt(n.readValue()),s.texture=r.texture,this.regions.push(s)}else{(r=new m).name=i,2==n.readTuple(a)&&(r.width=parseInt(a[0]),r.height=parseInt(a[1]),n.readTuple(a)),n.readTuple(a),r.minFilter=p.Texture.filterFromString(a[0]),r.magFilter=p.Texture.filterFromString(a[1]);var d=n.readValue();r.uWrap=p.TextureWrap.ClampToEdge,r.vWrap=p.TextureWrap.ClampToEdge,"x"==d?r.uWrap=p.TextureWrap.Repeat:"y"==d?r.vWrap=p.TextureWrap.Repeat:"xy"==d&&(r.uWrap=r.vWrap=p.TextureWrap.Repeat),r.texture=e(i),r.texture.setFilters(r.minFilter,r.magFilter),r.texture.setWraps(r.uWrap,r.vWrap),r.width=r.texture.getImage().width,r.height=r.texture.getImage().height,this.pages.push(r)}}},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},e);function e(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}p.TextureAtlas=t;var f=(n.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},n.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},n.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var a=0,r=n+1;a<3;a++){var i=e.indexOf(",",r);if(-1==i)break;t[a]=e.substr(r,i-r).trim(),r=i+1}return t[a]=e.substring(r).trim(),a+1},n);function n(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var m=function(){};p.TextureAtlasPage=m;var a,g=(a=p.TextureRegion,__extends(r,a),r);function r(){return null!==a&&a.apply(this,arguments)||this}p.TextureAtlasRegion=g}(spine=spine||{}),function(C){var t=(e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,a=this.shearMix,r=this.target,i=r.a,s=r.b,o=r.c,h=r.d,l=0<i*h-s*o?C.MathUtils.degRad:-C.MathUtils.degRad,u=this.data.offsetRotation*l,c=this.data.offsetShearY*l,d=this.bones,p=0,f=d.length;p<f;p++){var m=d[p],g=!1;if(0!=t){var v=m.a,y=m.b,x=m.c,w=m.d;(S=Math.atan2(o,i)-Math.atan2(x,v)+u)>C.MathUtils.PI?S-=C.MathUtils.PI2:S<-C.MathUtils.PI&&(S+=C.MathUtils.PI2),S*=t;var M=Math.cos(S),E=Math.sin(S);m.a=M*v-E*x,m.b=M*y-E*w,m.c=E*v+M*x,m.d=E*y+M*w,g=!0}if(0!=e){var T=this.temp;r.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),m.worldX+=(T.x-m.worldX)*e,m.worldY+=(T.y-m.worldY)*e,g=!0}if(0<n){var A=Math.sqrt(m.a*m.a+m.c*m.c),b=Math.sqrt(i*i+o*o);1e-5<A&&(A=(A+(b-A+this.data.offsetScaleX)*n)/A),m.a*=A,m.c*=A,A=Math.sqrt(m.b*m.b+m.d*m.d),b=Math.sqrt(s*s+h*h),1e-5<A&&(A=(A+(b-A+this.data.offsetScaleY)*n)/A),m.b*=A,m.d*=A,g=!0}if(0<a){y=m.b,w=m.d;var S,I=Math.atan2(w,y);(S=Math.atan2(h,s)-Math.atan2(o,i)-(I-Math.atan2(m.c,m.a)))>C.MathUtils.PI?S-=C.MathUtils.PI2:S<-C.MathUtils.PI&&(S+=C.MathUtils.PI2),S=I+(S+c)*a,A=Math.sqrt(y*y+w*w),m.b=Math.cos(S)*A,m.d=Math.sin(S)*A,g=!0}g&&(m.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,a=this.shearMix,r=this.target,i=r.a,s=r.b,o=r.c,h=r.d,l=0<i*h-s*o?C.MathUtils.degRad:-C.MathUtils.degRad,u=this.data.offsetRotation*l,c=this.data.offsetShearY*l,d=this.bones,p=0,f=d.length;p<f;p++){var m,g=d[p],v=!1;if(0!=t){var y=g.a,x=g.b,w=g.c,M=g.d;(m=Math.atan2(o,i)+u)>C.MathUtils.PI?m-=C.MathUtils.PI2:m<-C.MathUtils.PI&&(m+=C.MathUtils.PI2),m*=t;var E=Math.cos(m),T=Math.sin(m);g.a=E*y-T*w,g.b=E*x-T*M,g.c=T*y+E*w,g.d=T*x+E*M,v=!0}if(0!=e){var A=this.temp;r.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),g.worldX+=A.x*e,g.worldY+=A.y*e,v=!0}if(0<n){var b=(Math.sqrt(i*i+o*o)-1+this.data.offsetScaleX)*n+1;g.a*=b,g.c*=b,b=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleY)*n+1,g.b*=b,g.d*=b,v=!0}if(0<a)(m=Math.atan2(h,s)-Math.atan2(o,i))>C.MathUtils.PI?m-=C.MathUtils.PI2:m<-C.MathUtils.PI&&(m+=C.MathUtils.PI2),x=g.b,M=g.d,m=Math.atan2(M,x)+(m-C.MathUtils.PI/2+c)*a,b=Math.sqrt(x*x+M*M),g.b=Math.cos(m)*b,g.d=Math.sin(m)*b,v=!0;v&&(g.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,a=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var i=this.bones,s=0,o=i.length;s<o;s++){var h=i[s];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;if(0!=t){var u=r.arotation-l+this.data.offsetRotation;l+=(u-=360*(16384-(16384.499999999996-u/360|0)))*t}var c=h.ax,d=h.ay;0!=e&&(c+=(r.ax-c+this.data.offsetX)*e,d+=(r.ay-d+this.data.offsetY)*e);var p=h.ascaleX,f=h.ascaleY;0!=n&&(1e-5<p&&(p=(p+(r.ascaleX-p+this.data.offsetScaleX)*n)/p),1e-5<f&&(f=(f+(r.ascaleY-f+this.data.offsetScaleY)*n)/f));var m=h.ashearY;0!=a&&(u=r.ashearY-m+this.data.offsetShearY,u-=360*(16384-(16384.499999999996-u/360|0)),h.shearY+=u*a),h.updateWorldTransformWith(c,d,l,p,f,h.ashearX,m)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,a=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var i=this.bones,s=0,o=i.length;s<o;s++){var h=i[s];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;0!=t&&(l+=(r.arotation+this.data.offsetRotation)*t);var u=h.ax,c=h.ay;0!=e&&(u+=(r.ax+this.data.offsetX)*e,c+=(r.ay+this.data.offsetY)*e);var d=h.ascaleX,p=h.ascaleY;0!=n&&(1e-5<d&&(d*=(r.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<p&&(p*=(r.ascaleY-1+this.data.offsetScaleY)*n+1));var f=h.ashearY;0!=a&&(f+=(r.ashearY+this.data.offsetShearY)*a),h.updateWorldTransformWith(u,c,l,d,p,h.ashearX,f)}},e);function e(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new C.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}C.TransformConstraint=t}(spine=spine||{}),function(t){var n,e=(n=t.ConstraintData,__extends(a,n),a);function a(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e.rotateMix=0,e.translateMix=0,e.scaleMix=0,e.shearMix=0,e.offsetRotation=0,e.offsetX=0,e.offsetY=0,e.offsetScaleX=0,e.offsetScaleY=0,e.offsetShearY=0,e.relative=!1,e.local=!1,e}t.TransformConstraintData=e}(spine=spine||{}),function(t){var e=(Y.prototype.triangulate=function(t){for(var e=t,n=t.length>>1,a=this.indicesArray,r=a.length=0;r<n;r++)a[r]=r;for(var i=this.isConcaveArray,s=(r=i.length=0,n);r<s;++r)i[r]=Y.isConcave(r,n,e,a);var o=this.triangles;for(o.length=0;3<n;){for(var h=n-1,l=(r=0,1);;){t:if(!i[r]){for(var u=a[h]<<1,c=a[r]<<1,d=a[l]<<1,p=e[u],f=e[1+u],m=e[c],g=e[1+c],v=e[d],y=e[1+d],x=(l+1)%n;x!=h;x=(x+1)%n)if(i[x]){var w=a[x]<<1,M=e[w],E=e[1+w];if(Y.positiveArea(v,y,p,f,M,E)&&Y.positiveArea(p,f,m,g,M,E)&&Y.positiveArea(m,g,v,y,M,E))break t}break}if(0==l){do{if(!i[r])break;r--}while(0<r);break}h=r,l=((r=l)+1)%n}o.push(a[(n+r-1)%n]),o.push(a[r]),o.push(a[(r+1)%n]),a.splice(r,1),i.splice(r,1);var T=(--n+r-1)%n,A=r==n?0:r;i[T]=Y.isConcave(T,n,e,a),i[A]=Y.isConcave(A,n,e,a)}return 3==n&&(o.push(a[2]),o.push(a[0]),o.push(a[1])),o},Y.prototype.decompose=function(t,e){var n=t,a=this.convexPolygons;this.polygonPool.freeAll(a),a.length=0;var r=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(r),r.length=0;var i=this.polygonIndicesPool.obtain();i.length=0;for(var s=this.polygonPool.obtain(),o=-1,h=s.length=0,l=0,u=e.length;l<u;l+=3){var c=e[l]<<1,d=e[l+1]<<1,p=e[l+2]<<1,f=n[c],m=n[1+c],g=n[d],v=n[1+d],y=n[p],x=n[1+p],w=!1;if(o==c){var M=s.length-4,E=Y.winding(s[M],s[M+1],s[M+2],s[M+3],y,x),T=Y.winding(y,x,s[0],s[1],s[2],s[3]);E==h&&T==h&&(s.push(y),s.push(x),i.push(p),w=!0)}w||(0<s.length?(a.push(s),r.push(i)):(this.polygonPool.free(s),this.polygonIndicesPool.free(i)),(s=this.polygonPool.obtain()).length=0,s.push(f),s.push(m),s.push(g),s.push(v),s.push(y),s.push(x),(i=this.polygonIndicesPool.obtain()).length=0,i.push(c),i.push(d),i.push(p),h=Y.winding(f,m,g,v,y,x),o=c)}for(0<s.length&&(a.push(s),r.push(i)),l=0,u=a.length;l<u;l++)if(0!=(i=r[l]).length)for(var A=i[0],b=i[i.length-1],S=(s=a[l])[M=s.length-4],I=s[M+1],C=s[M+2],R=s[M+3],_=s[0],P=s[1],V=s[2],k=s[3],N=Y.winding(S,I,C,R,_,P),F=0;F<u;F++)if(F!=l){var L=r[F];if(3==L.length){var O=L[0],D=L[1],U=L[2],B=a[F];y=B[B.length-2],x=B[B.length-1],O==A&&D==b&&(E=Y.winding(S,I,C,R,y,x),T=Y.winding(y,x,_,P,V,k),E==N&&T==N&&(B.length=0,L.length=0,s.push(y),s.push(x),i.push(U),S=C,I=R,C=y,R=x,F=0))}}for(l=a.length-1;0<=l;l--)0==(s=a[l]).length&&(a.splice(l,1),this.polygonPool.free(s),i=r[l],r.splice(l,1),this.polygonIndicesPool.free(i));return a},Y.isConcave=function(t,e,n,a){var r=a[(e+t-1)%e]<<1,i=a[t]<<1,s=a[(t+1)%e]<<1;return!this.positiveArea(n[r],n[1+r],n[i],n[1+i],n[s],n[1+s])},Y.positiveArea=function(t,e,n,a,r,i){return 0<=t*(i-a)+n*(e-i)+r*(a-e)},Y.winding=function(t,e,n,a,r,i){var s=n-t,o=a-e;return 0<=r*o-i*s+s*e-t*o?1:-1},Y);function Y(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(function(){return new Array}),this.polygonIndicesPool=new t.Pool(function(){return new Array})}t.Triangulator=e}(spine=spine||{}),function(t){var e=(n.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},n.prototype.contains=function(t){return null!=this.array[0|t]},n.prototype.remove=function(t){this.array[0|t]=void 0},n.prototype.clear=function(){this.array.length=0},n);function n(){this.array=new Array}t.IntSet=e;var a=(r.prototype.set=function(t,e,n,a){return this.r=t,this.g=e,this.b=n,this.a=a,this.clamp(),this},r.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},r.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},r.prototype.add=function(t,e,n,a){return this.r+=t,this.g+=e,this.b+=n,this.a+=a,this.clamp(),this},r.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},r.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},r.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},r.WHITE=new r(1,1,1,1),r.RED=new r(1,0,0,1),r.GREEN=new r(0,1,0,1),r.BLUE=new r(0,0,1,1),r.MAGENTA=new r(1,0,1,1),r);function r(t,e,n,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===a&&(a=0),this.r=t,this.g=e,this.b=n,this.a=a}t.Color=a;var i=(s.clamp=function(t,e,n){return t<e?e:n<t?n:t},s.cosDeg=function(t){return Math.cos(t*s.degRad)},s.sinDeg=function(t){return Math.sin(t*s.degRad)},s.signum=function(t){return 0<t?1:t<0?-1:0},s.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},s.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},s.randomTriangular=function(t,e){return s.randomTriangularWith(t,e,.5*(t+e))},s.randomTriangularWith=function(t,e,n){var a=Math.random(),r=e-t;return a<=(n-t)/r?t+Math.sqrt(a*r*(n-t)):e-Math.sqrt((1-a)*r*(e-n))},s.PI2=2*(s.PI=3.1415927),s.radDeg=s.radiansToDegrees=180/s.PI,s.degRad=s.degreesToRadians=s.PI/180,s);function s(){}t.MathUtils=i;var o=(h.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},h);function h(){}t.Interpolation=o;var l,u=(__extends(c,l=o),c.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},c);function c(t){var e=l.call(this)||this;return e.power=2,e.power=t,e}t.Pow=u;var d,p=(__extends(f,d=u),f.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},f);function f(t){return d.call(this,t)||this}t.PowOut=p;var m=(g.arrayCopy=function(t,e,n,a,r){for(var i=e,s=a;i<e+r;i++,s++)n[s]=t[i]},g.setArraySize=function(t,e,n){void 0===n&&(n=0);var a=t.length;if(a==e)return t;if(a<(t.length=e))for(var r=a;r<e;r++)t[r]=n;return t},g.ensureArrayCapacity=function(t,e,n){return void 0===n&&(n=0),t.length>=e?t:g.setArraySize(t,e,n)},g.newArray=function(t,e){for(var n=new Array(t),a=0;a<t;a++)n[a]=e;return n},g.newFloatArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},g.newShortArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},g.toFloatArray=function(t){return g.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},g.toSinglePrecision=function(t){return g.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},g.webkit602BugfixHelper=function(t,e){},g.contains=function(t,e,n){void 0===n&&(n=!0);for(var a=0;a<t.length;a++)if(t[a]==e)return!0;return!1},g.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,g);function g(){}t.Utils=m;var v=(y.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}},y);function y(){}t.DebugUtils=v;var x=(w.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},w.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},w.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},w.prototype.clear=function(){this.items.length=0},w);function w(t){this.items=new Array,this.instantiator=t}t.Pool=x;var M=(E.prototype.set=function(t,e){return this.x=t,this.y=e,this},E.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},E.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},E);function E(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}t.Vector2=M;var T=(A.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},A);function A(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.TimeKeeper=T;var b=(S.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},S.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},S.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},S);function S(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.WindowedMean=b}(spine=spine||{}),function(){var e;Math.fround||(Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(e){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}e.Attachment=t;var n,a=(__extends(r,n=t),r.prototype.computeWorldVertices=function(t,e,n,a,r,i){n=r+(n>>1)*i;var s=t.bone.skeleton,o=t.deform,h=this.vertices,l=this.bones;if(null!=l){for(var u=0,c=0,d=0;d<e;d+=2)u+=(g=l[u])+1,c+=g;var p=s.bones;if(0==o.length)for(C=r,A=3*c;C<n;C+=i){var f=0,m=0,g=l[u++];for(g+=u;u<g;u++,A+=3){w=p[l[u]],R=h[A],_=h[A+1];var v=h[A+2];f+=(R*w.a+_*w.b+w.worldX)*v,m+=(R*w.c+_*w.d+w.worldY)*v}a[C]=f,a[C+1]=m}else for(var y=o,x=(C=r,A=3*c,c<<1);C<n;C+=i){for(m=f=0,g=l[u++],g+=u;u<g;u++,A+=3,x+=2)w=p[l[u]],R=h[A]+y[x],_=h[A+1]+y[x+1],v=h[A+2],f+=(R*w.a+_*w.b+w.worldX)*v,m+=(R*w.c+_*w.d+w.worldY)*v;a[C]=f,a[C+1]=m}}else{0<o.length&&(h=o);for(var w,M=(w=t.bone).worldX,E=w.worldY,T=w.a,A=w.b,b=w.c,S=w.d,I=e,C=r;C<n;I+=2,C+=i){var R=h[I],_=h[I+1];a[C]=R*T+_*A+M,a[C+1]=R*b+_*S+E}}},r.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},r.nextID=0,r);function r(t){var e=n.call(this,t)||this;return e.id=(65535&r.nextID++)<<11,e.worldVerticesLength=0,e.deformAttachment=e}e.VertexAttachment=a}(spine=spine||{}),function(t){var e;(e=t.AttachmentType||(t.AttachmentType={}))[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"}(spine=spine||{}),function(n){var a,t=(a=n.VertexAttachment,__extends(e,a),e.prototype.copy=function(){var t=new e(name);return this.copyTo(t),t.color.setFromColor(this.color),t},e);function e(t){var e=a.call(this,t)||this;return e.color=new n.Color(1,1,1,1),e}n.BoundingBoxAttachment=t}(spine=spine||{}),function(n){var a,t=(a=n.VertexAttachment,__extends(e,a),e.prototype.copy=function(){var t=new e(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e);function e(t){var e=a.call(this,t)||this;return e.color=new n.Color(.2275,.2275,.8078,1),e}n.ClippingAttachment=t}(spine=spine||{}),function(c){var n,t=(n=c.VertexAttachment,__extends(e,n),e.prototype.updateUVs=function(){var t=this.regionUVs;null!=this.uvs&&this.uvs.length==t.length||(this.uvs=c.Utils.newFloatArray(t.length));var e=this.uvs,n=this.uvs.length,a=this.region.u,r=this.region.v,i=0,s=0;if(this.region instanceof c.TextureAtlasRegion){var o=this.region,h=o.texture.getImage().width,l=o.texture.getImage().height;switch(o.degrees){case 90:a-=(o.originalHeight-o.offsetY-o.height)/h,r-=(o.originalWidth-o.offsetX-o.width)/l,i=o.originalHeight/h,s=o.originalWidth/l;for(var u=0;u<n;u+=2)e[u]=a+t[u+1]*i,e[u+1]=r+(1-t[u])*s;return;case 180:for(a-=(o.originalWidth-o.offsetX-o.width)/h,r-=o.offsetY/l,i=o.originalWidth/h,s=o.originalHeight/l,u=0;u<n;u+=2)e[u]=a+(1-t[u])*i,e[u+1]=r+(1-t[u+1])*s;return;case 270:for(a-=o.offsetY/h,r-=o.offsetX/l,i=o.originalHeight/h,s=o.originalWidth/l,u=0;u<n;u+=2)e[u]=a+(1-t[u+1])*i,e[u+1]=r+t[u]*s;return}a-=o.offsetX/h,r-=(o.originalHeight-o.offsetY-o.height)/l,i=o.originalWidth/h,s=o.originalHeight/l}else null==this.region?(a=r=0,i=s=1):(i=this.region.u2-a,s=this.region.v2-r);for(u=0;u<n;u+=2)e[u]=a+t[u]*i,e[u+1]=r+t[u+1]*s},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),c.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),c.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),c.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),c.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},e.prototype.newLinkedMesh=function(){var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t.updateUVs(),t},e);function e(t){var e=n.call(this,t)||this;return e.color=new c.Color(1,1,1,1),e.tempColor=new c.Color(0,0,0,0),e}c.MeshAttachment=t}(spine=spine||{}),function(n){var a,t=(a=n.VertexAttachment,__extends(e,a),e.prototype.copy=function(){var t=new e(name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),n.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e);function e(t){var e=a.call(this,t)||this;return e.closed=!1,e.constantSpeed=!1,e.color=new n.Color(1,1,1,1),e}n.PathAttachment=t}(spine=spine||{}),function(i){var n,t=(n=i.VertexAttachment,__extends(e,n),e.prototype.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},e.prototype.computeWorldRotation=function(t){var e=i.MathUtils.cosDeg(this.rotation),n=i.MathUtils.sinDeg(this.rotation),a=e*t.a+n*t.b,r=e*t.c+n*t.d;return Math.atan2(r,a)*i.MathUtils.radDeg},e.prototype.copy=function(){var t=new e(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e);function e(t){var e=n.call(this,t)||this;return e.color=new i.Color(.38,.94,0,1),e}i.PointAttachment=t}(spine=spine||{}),function(n){var a,t=(a=n.Attachment,__extends(y,a),y.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,a=-this.height/2*this.scaleY+this.region.offsetY*e,r=n+this.region.width*t,i=a+this.region.height*e,s=this.rotation*Math.PI/180,o=Math.cos(s),h=Math.sin(s),l=n*o+this.x,u=n*h,c=a*o+this.y,d=a*h,p=r*o+this.x,f=r*h,m=i*o+this.y,g=i*h,v=this.offset;v[y.OX1]=l-d,v[y.OY1]=c+u,v[y.OX2]=l-g,v[y.OY2]=m+u,v[y.OX3]=p-g,v[y.OY3]=m+f,v[y.OX4]=p-d,v[y.OY4]=c+f},y.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},y.prototype.computeWorldVertices=function(t,e,n,a){var r=this.offset,i=t.worldX,s=t.worldY,o=t.a,h=t.b,l=t.c,u=t.d,c=0,d=0;c=r[y.OX1],d=r[y.OY1],e[n]=c*o+d*h+i,e[n+1]=c*l+d*u+s,n+=a,c=r[y.OX2],d=r[y.OY2],e[n]=c*o+d*h+i,e[n+1]=c*l+d*u+s,n+=a,c=r[y.OX3],d=r[y.OY3],e[n]=c*o+d*h+i,e[n+1]=c*l+d*u+s,n+=a,c=r[y.OX4],d=r[y.OY4],e[n]=c*o+d*h+i,e[n+1]=c*l+d*u+s},y.prototype.copy=function(){var t=new y(name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,n.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),n.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},y.OX1=0,y.OY1=1,y.OX2=2,y.OY2=3,y.OX3=4,y.OY3=5,y.OX4=6,y.OY4=7,y.X1=0,y.Y1=1,y.C1R=2,y.C1G=3,y.C1B=4,y.C1A=5,y.U1=6,y.V1=7,y.X2=8,y.Y2=9,y.C2R=10,y.C2G=11,y.C2B=12,y.C2A=13,y.U2=14,y.V2=15,y.X3=16,y.Y3=17,y.C3R=18,y.C3G=19,y.C3B=20,y.C3A=21,y.U3=22,y.V3=23,y.X4=24,y.Y4=25,y.C4R=26,y.C4G=27,y.C4B=28,y.C4A=29,y.U4=30,y.V4=31,y);function y(t){var e=a.call(this,t)||this;return e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.width=0,e.height=0,e.color=new n.Color(1,1,1,1),e.offset=n.Utils.newFloatArray(8),e.uvs=n.Utils.newFloatArray(8),e.tempColor=new n.Color(1,1,1,1),e}n.RegionAttachment=t}(spine=spine||{}),function(r){var t=(e.prototype.begin=function(t){},e.prototype.transform=function(t,e,n,a){t.x+=r.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=r.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e);function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}r.JitterEffect=t}(spine=spine||{}),function(c){var t=(d.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},d.prototype.transform=function(t,e,n,a){var r=this.angle*c.MathUtils.degreesToRadians,i=t.x-this.worldX,s=t.y-this.worldY,o=Math.sqrt(i*i+s*s);if(o<this.radius){var h=d.interpolation.apply(0,r,(this.radius-o)/this.radius),l=Math.cos(h),u=Math.sin(h);t.x=l*i-u*s+this.worldX,t.y=u*i+l*s+this.worldY}},d.prototype.end=function(){},d.interpolation=new c.PowOut(2),d);function d(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}c.SwirlEffect=t}(spine=spine||{}),pc.extend(pc,function(){function o(t,e,n){var a=n&&n.lexicographical,r=n&&n.zeroExtend,i=t.split("."),s=e.split(".");function o(t){return(a?/^\d+[A-Za-z]*$/:/^\d+$/).test(t)}if(!i.every(o)||!s.every(o))return NaN;if(r){for(;i.length<s.length;)i.push("0");for(;s.length<i.length;)s.push("0")}a||(i=i.map(Number),s=s.map(Number));for(var h=0;h<i.length;++h){if(s.length==h)return 1;if(i[h]!=s[h])return i[h]>s[h]?1:-1}return i.length!=s.length?-1:0}function h(t){this._image={width:t.width,height:t.height},this.pcTexture=t}var l=0,u=1,c=2,n={9728:pc.FILTER_NEAREST,9729:pc.FILTER_LINEAR,9984:pc.FILTER_NEAREST_MIPMAP_NEAREST,9985:pc.FILTER_LINEAR_MIPMAP_NEAREST,9986:pc.FILTER_NEAREST_MIPMAP_LINEAR,9987:pc.FILTER_LINEAR_MIPMAP_LINEAR},a={33648:pc.ADDRESS_MIRRORED_REPEAT,33071:pc.ADDRESS_CLAMP_TO_EDGE,10487:pc.ADDRESS_REPEAT},d=[0,1,2,2,3,0];h.prototype={setFilters:function(t,e){this.pcTexture.minFilter=n[t],this.pcTexture.magFilter=n[e]},setWraps:function(t,e){this.pcTexture.addressU=a[t],this.pcTexture.addressV=a[e]},getImage:function(){return this._image}};function t(t,e,n,a){this._app=t,this._position=new pc.Vec3;var r=new spine.TextureAtlas(e,function(t){return new h(a[t])}),i=new spine.SkeletonJson(new spine.AtlasAttachmentLoader(r));i.scale*=.01;var s=i.readSkeletonData(n);this.skeletonVersion=s.version,this._spine_3_6_0=o(this.skeletonVersion,"3.6.0")<=0,this._spine_3_7_99=o(this.skeletonVersion,"3.7.99")<=0,this.skeleton=new spine.Skeleton(s),this.skeleton.updateWorldTransform(),this.stateData=new spine.AnimationStateData(this.skeleton.data),this.states=[new spine.AnimationState(this.stateData)],this.clipper=new spine.SkeletonClipping,this._node=new pc.GraphNode,this._meshes=[],this._meshInstances=[],this._materials={},this._tint={},this._aabb=new pc.BoundingBox,this._aabbTempArray=[],this._aabbTempOffset=new pc.Vec2,this._aabbTempSize=new pc.Vec2,this._renderCounts={vertexCount:0,indexCount:0},this._vertexFormat=null,this._vertexBuffer=null,this._indexBuffer=null,this._priority=0,this._timeScale=1,this._layers=[pc.LAYERID_UI],this.init(),this.autoUpdate=!0,this._model=new pc.Model,this._model.graph=this._node,this._model.meshInstances=this._meshInstances,this._hidden=!1}return t.prototype.destroy=function(){this._model&&this.removeFromLayers();for(var t=0;t<this._meshInstances.length;t++)this._meshInstances[t].mesh.vertexBuffer=null,this._meshInstances[t].mesh.indexBuffer.length=0,this._meshInstances[t].material=null;this._vertexBuffer&&(this._vertexBuffer.destroy(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer.destroy(),this._indexBuffer=null),this._model=null,this._meshInstances=[],this.skeleton=null,this.stateData=null,this.state=null,this._materials={},this._node=null},t.prototype.hide=function(){if(!this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!1;this._hidden=!0}},t.prototype.show=function(){if(this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!0;this._hidden=!1}},t.prototype.init=function(){this._vertexFormat=new pc.VertexFormat(this._app.graphicsDevice,[{semantic:pc.SEMANTIC_POSITION,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_NORMAL,components:4,type:pc.TYPE_UINT8,normalize:!0},{semantic:pc.SEMANTIC_TEXCOORD0,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_COLOR,components:4,type:pc.TYPE_UINT8,normalize:!0}]);for(var t=this.skeleton.drawOrder,e=0,n=t.length;e<n;e++)this.initSlot(t[e])},t.prototype.initSlot=function(t){t.positions=[],t.uvs=[],t.indices=[],t.vertexColor={},t._active={name:"",type:l},this.initAttachment(t)},t.prototype.createMaterial=function(t){var e=new pc.StandardMaterial;if(e.shadingModel=pc.SPECULAR_BLINN,e.diffuse=new pc.Color(1,1,1),e.emissiveMap=t,e.emissiveMapChannel="rgb",e.emissiveVertexColor=!0,e.emissiveVertexColorChannel="rgb",e.opacityMap=t,e.opacityMapChannel="a",e.opacityVertexColor=!0,e.opacityVertexColorChannel="a",e.depthWrite=!1,e.cull=pc.CULLFACE_NONE,e.blendType=pc.BLEND_PREMULTIPLIED,this._spine_3_6_0){var n=["gl_FragColor.rgb *= vVertexColor.a;","gl_FragColor.a = dAlpha;"].join("\n");e.chunks.outputAlphaPremulPS=n}return e.update(),e},t.prototype.initAttachment=function(t){var e=t.attachment;if(e&&(t._active.name=e.name,e instanceof spine.RegionAttachment?t._active.type=c:e instanceof spine.MeshAttachment&&(t._active.type=u),e.region&&e.region.texture)){var n=e.region.texture.pcTexture;if(n)if(n instanceof pc.StandardMaterial)this._materials[n.name]=n,t.material=n.name;else{var a=null;if(n.name?a=n.name:n.getSource()instanceof Image&&(a=n.getSource().getAttribute("src")),a){if(void 0===this._materials[a]){var r=this.createMaterial(n);this._materials[a]=r}t.material=a}}}},t.prototype.updateSlot=function(t,e){var n=t.attachment,a=n.name,r=n instanceof spine.RegionAttachment?c:n instanceof spine.MeshAttachment?u:l;t._active.name===a&&t._active.type==r||this.initAttachment(t),t.positions.length=0,n instanceof spine.RegionAttachment?n.computeWorldVertices(t.bone,t.positions,0,2):n instanceof spine.MeshAttachment&&n.computeWorldVertices(t,0,n.worldVerticesLength,t.positions,0,2);var i=this._tint[a];t.vertexColor={r:Math.round(255*t.color.r*(i?i.r:1)),g:Math.round(255*t.color.g*(i?i.g:1)),b:Math.round(255*t.color.b*(i?i.b:1)),a:Math.round(255*t.color.a*(i?i.a:1))};var s,o,h=n.triangles||d;if(e.isClipping()){e.clipTriangles(t.positions,0,h,h.length,n.uvs,spine.Color.WHITE,spine.Color.WHITE,!1),t.positions.length=0,t.uvs.length=0;for(o=e.clippedVertices.length,s=0;s<o;s+=8)t.positions.push(e.clippedVertices[s],e.clippedVertices[s+1]),t.uvs.push(e.clippedVertices[s+6],1-e.clippedVertices[s+7]);t.indices=e.clippedTriangles.slice()}else{for(t.uvs.length=0,o=t.positions.length,s=0;s<o;s+=2)t.uvs.push(n.uvs[s],1-n.uvs[s+1]);t.indices=h}this._renderCounts.vertexCount+=t.positions.length/2,this._renderCounts.indexCount+=t.indices.length},t.prototype.updateSkeleton=function(t){this._renderCounts.vertexCount=0,this._renderCounts.indexCount=0;var e=this.clipper,n=!1;n=!0;for(var a=this.skeleton.drawOrder,r=a.length,i=0;i<r;i++){var s=a[i];if(this._spine_3_7_99||s.bone.active)if(0,n){0;var o=s.getAttachment();o instanceof spine.ClippingAttachment?e.clipStart(s,o):o instanceof spine.RegionAttachment||o instanceof spine.MeshAttachment?this.updateSlot(s,e):this._spine_3_7_99||e.clipEndWithSlot(s)}else e.clipEndWithSlot(s);else e.clipEndWithSlot(s)}},t.prototype.render=function(){if(this._meshInstances.forEach(function(t){t.material=null}),this.removeFromLayers(),this._meshes=[],(this._meshInstances.length=0)<this._renderCounts.indexCount&&0<this._renderCounts.vertexCount){this.skeleton.getBounds(this._aabbTempOffset,this._aabbTempSize,this._aabbTempArray),this._aabb.center=new pc.Vec3(this._aabbTempOffset.x,this._aabbTempOffset.y,0),this._aabb.halfExtents=new pc.Vec3(.5*this._aabbTempSize.x,.5*this._aabbTempSize.y,0),(!this._vertexBuffer||this._vertexBuffer.getNumVertices()<this._renderCounts.vertexCount)&&(this._vertexBuffer&&this._vertexBuffer.destroy(),this._vertexBuffer=new pc.VertexBuffer(this._app.graphicsDevice,this._vertexFormat,this._renderCounts.vertexCount)),(!this._indexBuffer||this._indexBuffer.getNumIndices()<this._renderCounts.indexCount)&&(this._indexBuffer&&this._indexBuffer.destroy(),this._indexBuffer=new pc.IndexBuffer(this._app.graphicsDevice,pc.INDEXFORMAT_UINT16,this._renderCounts.indexCount));for(var t=null,e=0,n=0,a=new pc.VertexIterator(this._vertexBuffer),r=new Uint16Array(this._indexBuffer.lock()),i=0,s=0,o=this.skeleton.drawOrder,h=o.length,l=0;l<h;l++){var u=o[l];if(u.attachment&&u.material&&0<u.positions.length&&0<u.indices.length){t&&t!==u.material&&(this.SubmitBatch(e,n,t),t=u.material,e=i,n=0),t=u.material;var c,d=u.positions,p=u.vertexColor.r,f=u.vertexColor.g,m=u.vertexColor.b,g=u.vertexColor.a,v=u.uvs,y=d.length/2;for(c=0;c<y;c++)a.element[pc.SEMANTIC_POSITION].set(d[2*c],d[2*c+1]),a.element[pc.SEMANTIC_NORMAL].set(0,255,0,0),a.element[pc.SEMANTIC_COLOR].set(p,f,m,g),a.element[pc.SEMANTIC_TEXCOORD0].set(v[2*c],v[2*c+1]),a.next();var x=u.indices,w=x.length;for(c=0;c<w;c++)r[i+c]=x[c]+s;n+=w,i+=w,s+=y}}a.end(),this._indexBuffer.unlock(),this.SubmitBatch(e,n,t)}this.addToLayers()},t.prototype.SubmitBatch=function(t,e,n){if(0<e){var a=new pc.Mesh;a.vertexBuffer=this._vertexBuffer,a.indexBuffer[0]=this._indexBuffer,a.primitive[0].type=pc.PRIMITIVE_TRIANGLES,a.primitive[0].base=t,a.primitive[0].count=e,a.primitive[0].indexed=!0,a.aabb=this._aabb,this._meshes.push(a);var r=new pc.MeshInstance(this._node,a,this._materials[n]);r.drawOrder=this.priority+this._meshInstances.length,r.visible=!this._hidden,this._meshInstances.push(r)}},t.prototype.update=function(t){if(!this._hidden){t*=this._timeScale;var e,n=this.states.length;for(e=0;e<n;e++)this.states[e].update(t);for(e=0;e<n;e++)this.states[e].apply(this.skeleton);this.autoUpdate&&this.skeleton.updateWorldTransform(),this.updateSkeleton(),this.render()}},t.prototype.setPosition=function(t){this._position.copy(t)},t.prototype.setTint=function(t,e){this._tint[t]=e},t.prototype.removeFromLayers=function(){if(this._model)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.removeMeshInstances(this._model.meshInstances)}},t.prototype.addToLayers=function(){if(this._model)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.addMeshInstances(this._model.meshInstances)}},Object.defineProperty(t.prototype,"state",{get:function(){return this.states[0]}}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},set:function(t){this._priority=t}}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale=t}}),Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},set:function(t){this._model&&this.removeFromLayers(),this._layers=t||[],this._model&&this.addToLayers()}}),{Spine:t}}()),pc.extend(pc,function(){function t(t){pc.ComponentSystem.call(this,t),this.id="spine",this.ComponentType=pc.SpineComponent,this.DataType=pc.SpineComponentData,this.schema=["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","speed","spine"],pc.ComponentSystem.bind("update",this.onUpdate,this)}return(t.prototype=Object.create(pc.ComponentSystem.prototype)).constructor=t,Object.assign(t.prototype,{initializeComponentData:function(t,e,n){n=["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","spine"],pc.ComponentSystem.prototype.initializeComponentData.call(this.system,t,e,n)},removeComponent:function(t){var e=t.spine.data;e.spine&&e.spine.destroy(),t.spine.removeComponent()},onUpdate:function(t){var e=this.store;for(var n in e)if(e.hasOwnProperty(n)){var a=e[n],r=a.data;r.enabled&&a.entity.enabled&&r.spine&&(r.spine.setPosition(a.entity.getPosition()),r.spine.update(r.speed*t))}}}),{SpineComponentSystem:t}}()),pc.extend(pc,function(){function t(t,e){pc.Component.call(this,t,e),this.on("set_atlasAsset",this.onSetAsset,this),this.on("set_textureAssets",this.onSetAssets,this),this.on("set_skeletonAsset",this.onSetAsset,this),this.on("set_atlasData",this.onSetResource,this),this.on("set_textures",this.onSetResource,this),this.on("set_skeletonData",this.onSetResource,this)}return(t.prototype=Object.create(pc.Component.prototype)).constructor=t,Object.assign(t.prototype,{_createSpine:function(){this.data.spine&&(this.data.spine.destroy(),this.data.spine=null);for(var t={},e=0,n=this.textureAssets.length;e<n;e++){var a=this.system.app.assets.get(this.textureAssets[e]),r=pc.path.getBasename(a.file.url),i=r.indexOf("?");-1!==i&&(r=r.substring(0,i)),t[r]=a.resource}this.data.spine=new pc.Spine(this.system.app,this.atlasData,this.skeletonData,t),this.state=this.data.spine.state,this.states=this.data.spine.states,this.skeleton=this.data.spine.skeleton,this.entity.addChild(this.data.spine._node)},_onAssetReady:function(t){"texture"===t.type&&this.textures.push(t.resource),"json"===t.type&&(this.skeletonData=t.resource),"text"===t.type&&(this.atlasData=t.resource)},_onAssetAdd:function(t){t.off("change",this.onAssetChanged,this),t.on("change",this.onAssetChanged,this),t.off("remove",this.onAssetRemoved,this),t.on("remove",this.onAssetRemoved,this),t.ready(this._onAssetReady,this),this.system.app.assets.load(t)},onSetResource:function(){this.data.atlasData&&this.data.textures.length&&this.data.skeletonData&&this._createSpine()},onSetAsset:function(t,e,n){var a=this.system.app.assets,r=null;if(e&&(r=a.get(e))&&(r.off("change",this.onAssetChanged),r.off("remove",this.onAssetRemoved)),n){var i=n;n instanceof pc.Asset&&(i=n.id,this.data[t]=i),(r=a.get(i))?this._onAssetAdd(r):a.on("add:"+i)}},onSetAssets:function(t,e,n){var a,r,i=this.system.app.assets,s=null;if(e.length)for(a=0,r=e.length;a<r;a++)(s=i.get(e[a]))&&(s.off("change",this.onAssetChanged),s.off("remove",this.onAssetRemoved));if(n&&n.length){var o=n.map(function(t){return t instanceof pc.Asset?t.id:t});for(a=0,r=n.length;a<r;a++)(s=i.get(o[a]))?this._onAssetAdd(s):i.on("add:"+o[a])}},onAssetChanged:function(t,e,n,a){},onAssetRemoved:function(t){},onEnable:function(){pc.Component.prototype.onEnable.call(this);var t=this.data.spine;t&&t.addToLayers()},onDisable:function(){pc.Component.prototype.onDisable.call(this);var t=this.data.spine;t&&t.removeFromLayers()},hide:function(){this.data.spine&&this.data.spine.hide()},show:function(){this.data.spine&&this.data.spine.show()},removeComponent:function(){var t;if(this.atlasAsset&&(t=this.system.app.assets.get(this.atlasAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.skeletonAsset&&(t=this.system.app.assets.get(this.skeletonAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.textureAssets&&this.textureAssets.length)for(var e=0;e<this.textureAssets.length;e++)(t=this.system.app.assets.get(this.textureAssets[e]))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved))}}),{SpineComponent:t}}()),pc.extend(pc,{SpineComponentData:function(){this.enabled=!0,this.atlasAsset=null,this.textureAssets=[],this.skeletonAsset=null,this.speed=1,this.spine=null,this.atlasData=null,this.textures=[],this.skeletonData=null}}),function(){if(pc.Application.registerPlugin){pc.Application.registerPlugin("spine",function(t){new pc.SpineComponentSystem(t)})}else{var t=pc.Application.getApplication(),e=new pc.SpineComponentSystem(t);t.systems.add(e)}}();