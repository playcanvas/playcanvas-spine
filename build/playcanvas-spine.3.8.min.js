/* Copyright 2015-2021 PlayCanvas Ltd */
var spine,__extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(D){e.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},e.prototype.apply=function(t,e,n,i,a,r,s,o){if(null==t)throw new Error("skeleton cannot be null.");i&&0!=this.duration&&(n%=this.duration,0<e&&(e%=this.duration));for(var h=this.timelines,l=0,u=h.length;l<u;l++)h[l].apply(t,e,n,a,r,s,o)},e.binarySearch=function(t,e,n){var i=0,a=t.length/(n=void 0===n?1:n)-2;if(0==a)return n;for(var r=a>>>1;;){if(t[(r+1)*n]<=e?i=r+1:a=r,i==a)return(i+1)*n;r=i+a>>>1}},e.linearSearch=function(t,e,n){for(var i=0,a=t.length-n;i<=a;i+=n)if(t[i]>e)return i;return-1};var B,f,t,U=e;function e(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var i=0;i<e.length;i++)this.timelineIds[e[i].getPropertyId()]=!0;this.duration=n}D.Animation=U,(n=B=D.MixBlend||(D.MixBlend={}))[n.setup=0]="setup",n[n.first=1]="first",n[n.replace=2]="replace",n[n.add=3]="add",(n=f=D.MixDirection||(D.MixDirection={}))[n.mixIn=0]="mixIn",n[n.mixOut=1]="mixOut",(n=t=D.TimelineType||(D.TimelineType={}))[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(t){this.curves[t*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(t){this.curves[t*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(t){t*=y.BEZIER_SIZE;if(t==this.curves.length)return y.LINEAR;t=this.curves[t];return t==y.LINEAR?y.LINEAR:t==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(t,e,n,i,a){for(var r=.03*(2*-e+i),s=.03*(2*-n+a),o=.006*(3*(e-i)+1),h=.006*(3*(n-a)+1),l=2*r+o,u=2*s+h,c=.3*e+r+.16666667*o,d=.3*n+s+.16666667*h,p=t*y.BEZIER_SIZE,f=this.curves,m=(f[p++]=y.BEZIER,c),g=d,v=p+y.BEZIER_SIZE-1;p<v;p+=2)f[p]=m,f[p+1]=g,c+=l,d+=u,l+=o,u+=h,m+=c,g+=d},y.prototype.getCurvePercent=function(t,e){e=D.MathUtils.clamp(e,0,1);var n=this.curves,i=t*y.BEZIER_SIZE,t=n[i];if(t==y.LINEAR)return e;if(t==y.STEPPED)return 0;for(var a,r,s=0,o=++i,h=i+y.BEZIER_SIZE-1;i<h;i+=2)if(e<=(s=n[i]))return r=a=void 0,(r=i==o?a=0:(a=n[i-2],n[i-1]))+(n[i+1]-r)*(e-a)/(s-a);t=n[i-1];return t+(1-t)*(e-s)/(1-s)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19;var n=y;function y(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=D.Utils.newFloatArray((t-1)*y.BEZIER_SIZE)}D.CurveTimeline=n;__extends(m,i=n),m.prototype.getPropertyId=function(){return(t.rotate<<24)+this.boneIndex},m.prototype.setFrame=function(t,e,n){this.frames[t<<=1]=e,this.frames[t+m.ROTATION]=n},m.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(r){case B.setup:return void(h.rotation=h.data.rotation);case B.first:var l=h.data.rotation-h.rotation;h.rotation+=(l-360*(16384-(16384.499999999996-l/360|0)))*a}else if(n>=o[o.length-m.ENTRIES]){var u=o[o.length+m.PREV_ROTATION];switch(r){case B.setup:h.rotation=h.data.rotation+u*a;break;case B.first:case B.replace:u=(u+=h.data.rotation-h.rotation)-360*(16384-(16384.499999999996-u/360|0));case B.add:h.rotation+=u*a}}else{var t=U.binarySearch(o,n,m.ENTRIES),c=o[t+m.PREV_ROTATION],d=o[t],n=this.getCurvePercent((t>>1)-1,1-(n-d)/(o[t+m.PREV_TIME]-d)),p=c+((p=o[t+m.ROTATION]-c)-360*(16384-(16384.499999999996-p/360|0)))*n;switch(r){case B.setup:h.rotation=h.data.rotation+(p-360*(16384-(16384.499999999996-p/360|0)))*a;break;case B.first:case B.replace:p+=h.data.rotation-h.rotation;case B.add:h.rotation+=(p-360*(16384-(16384.499999999996-p/360|0)))*a}}},m.ENTRIES=2,m.PREV_TIME=-2,m.PREV_ROTATION=-1,m.ROTATION=1;var i,a=m;function m(t){var e=i.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t<<1),e}D.RotateTimeline=a;__extends(d,r=n),d.prototype.getPropertyId=function(){return(t.translate<<24)+this.boneIndex},d.prototype.setFrame=function(t,e,n,i){this.frames[t*=d.ENTRIES]=e,this.frames[t+d.X]=n,this.frames[t+d.Y]=i},d.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(r){case B.setup:return h.x=h.data.x,void(h.y=h.data.y);case B.first:h.x+=(h.data.x-h.x)*a,h.y+=(h.data.y-h.y)*a}else{var l,u=0,c=0;switch(n>=o[o.length-d.ENTRIES]?(u=o[o.length+d.PREV_X],c=o[o.length+d.PREV_Y]):(u=o[(t=U.binarySearch(o,n,d.ENTRIES))+d.PREV_X],c=o[t+d.PREV_Y],l=o[t],n=this.getCurvePercent(t/d.ENTRIES-1,1-(n-l)/(o[t+d.PREV_TIME]-l)),u+=(o[t+d.X]-u)*n,c+=(o[t+d.Y]-c)*n),r){case B.setup:h.x=h.data.x+u*a,h.y=h.data.y+c*a;break;case B.first:case B.replace:h.x+=(h.data.x+u-h.x)*a,h.y+=(h.data.y+c-h.y)*a;break;case B.add:h.x+=u*a,h.y+=c*a}}},d.ENTRIES=3,d.PREV_TIME=-3,d.PREV_X=-2,d.PREV_Y=-1,d.X=1,d.Y=2;var r,a=d;function d(t){var e=r.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*d.ENTRIES),e}D.TranslateTimeline=a;__extends(g,s=a),g.prototype.getPropertyId=function(){return(t.scale<<24)+this.boneIndex},g.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(r){case B.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case B.first:h.scaleX+=(h.data.scaleX-h.scaleX)*a,h.scaleY+=(h.data.scaleY-h.scaleY)*a}else{var l,u=0,c=0;if(c=n>=o[o.length-g.ENTRIES]?(u=o[o.length+g.PREV_X]*h.data.scaleX,o[o.length+g.PREV_Y]*h.data.scaleY):(u=o[(t=U.binarySearch(o,n,g.ENTRIES))+g.PREV_X],c=o[t+g.PREV_Y],l=o[t],n=this.getCurvePercent(t/g.ENTRIES-1,1-(n-l)/(o[t+g.PREV_TIME]-l)),u=(u+(o[t+g.X]-u)*n)*h.data.scaleX,(c+(o[t+g.Y]-c)*n)*h.data.scaleY),1==a)r==B.add?(h.scaleX+=u-h.data.scaleX,h.scaleY+=c-h.data.scaleY):(h.scaleX=u,h.scaleY=c);else{var d=0,p=0;if(s==f.mixOut)switch(r){case B.setup:d=h.data.scaleX,p=h.data.scaleY,h.scaleX=d+(Math.abs(u)*D.MathUtils.signum(d)-d)*a,h.scaleY=p+(Math.abs(c)*D.MathUtils.signum(p)-p)*a;break;case B.first:case B.replace:d=h.scaleX,p=h.scaleY,h.scaleX=d+(Math.abs(u)*D.MathUtils.signum(d)-d)*a,h.scaleY=p+(Math.abs(c)*D.MathUtils.signum(p)-p)*a;break;case B.add:d=h.scaleX,p=h.scaleY,h.scaleX=d+(Math.abs(u)*D.MathUtils.signum(d)-h.data.scaleX)*a,h.scaleY=p+(Math.abs(c)*D.MathUtils.signum(p)-h.data.scaleY)*a}else switch(r){case B.setup:d=Math.abs(h.data.scaleX)*D.MathUtils.signum(u),p=Math.abs(h.data.scaleY)*D.MathUtils.signum(c),h.scaleX=d+(u-d)*a,h.scaleY=p+(c-p)*a;break;case B.first:case B.replace:d=Math.abs(h.scaleX)*D.MathUtils.signum(u),p=Math.abs(h.scaleY)*D.MathUtils.signum(c),h.scaleX=d+(u-d)*a,h.scaleY=p+(c-p)*a;break;case B.add:d=D.MathUtils.signum(u),p=D.MathUtils.signum(c),h.scaleX=Math.abs(h.scaleX)*d+(u-Math.abs(h.data.scaleX)*d)*a,h.scaleY=Math.abs(h.scaleY)*p+(c-Math.abs(h.data.scaleY)*p)*a}}}};var s,o=g;function g(t){return s.call(this,t)||this}D.ScaleTimeline=o;__extends(p,h=a),p.prototype.getPropertyId=function(){return(t.shear<<24)+this.boneIndex},p.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(r){case B.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case B.first:h.shearX+=(h.data.shearX-h.shearX)*a,h.shearY+=(h.data.shearY-h.shearY)*a}else{var l,u=0,c=0;switch(n>=o[o.length-p.ENTRIES]?(u=o[o.length+p.PREV_X],c=o[o.length+p.PREV_Y]):(u=o[(t=U.binarySearch(o,n,p.ENTRIES))+p.PREV_X],c=o[t+p.PREV_Y],l=o[t],n=this.getCurvePercent(t/p.ENTRIES-1,1-(n-l)/(o[t+p.PREV_TIME]-l)),u+=(o[t+p.X]-u)*n,c+=(o[t+p.Y]-c)*n),r){case B.setup:h.shearX=h.data.shearX+u*a,h.shearY=h.data.shearY+c*a;break;case B.first:case B.replace:h.shearX+=(h.data.shearX+u-h.shearX)*a,h.shearY+=(h.data.shearY+c-h.shearY)*a;break;case B.add:h.shearX+=u*a,h.shearY+=c*a}}};var h,o=p;function p(t){return h.call(this,t)||this}D.ShearTimeline=o;__extends(v,l=n),v.prototype.getPropertyId=function(){return(t.color<<24)+this.slotIndex},v.prototype.setFrame=function(t,e,n,i,a,r){this.frames[t*=v.ENTRIES]=e,this.frames[t+v.R]=n,this.frames[t+v.G]=i,this.frames[t+v.B]=a,this.frames[t+v.A]=r},v.prototype.apply=function(t,e,n,i,a,r,s){var o=t.slots[this.slotIndex];if(o.bone.active){t=this.frames;if(n<t[0])switch(r){case B.setup:return void o.color.setFromColor(o.data.color);case B.first:var h=o.color,l=o.data.color;h.add((l.r-h.r)*a,(l.g-h.g)*a,(l.b-h.b)*a,(l.a-h.a)*a)}else{var u,c,d=0,p=0,f=0,m=0;n>=t[t.length-v.ENTRIES]?(d=t[(u=t.length)+v.PREV_R],p=t[u+v.PREV_G],f=t[u+v.PREV_B],m=t[u+v.PREV_A]):(d=t[(u=U.binarySearch(t,n,v.ENTRIES))+v.PREV_R],p=t[u+v.PREV_G],f=t[u+v.PREV_B],m=t[u+v.PREV_A],c=t[u],n=this.getCurvePercent(u/v.ENTRIES-1,1-(n-c)/(t[u+v.PREV_TIME]-c)),d+=(t[u+v.R]-d)*n,p+=(t[u+v.G]-p)*n,f+=(t[u+v.B]-f)*n,m+=(t[u+v.A]-m)*n),1==a?o.color.set(d,p,f,m):(h=o.color,r==B.setup&&h.setFromColor(o.data.color),h.add((d-h.r)*a,(p-h.g)*a,(f-h.b)*a,(m-h.a)*a))}}},v.ENTRIES=5,v.PREV_TIME=-5,v.PREV_R=-4,v.PREV_G=-3,v.PREV_B=-2,v.PREV_A=-1,v.R=1,v.G=2,v.B=3,v.A=4;var l,a=v;function v(t){var e=l.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*v.ENTRIES),e}D.ColorTimeline=a;__extends(M,u=n),M.prototype.getPropertyId=function(){return(t.twoColor<<24)+this.slotIndex},M.prototype.setFrame=function(t,e,n,i,a,r,s,o,h){this.frames[t*=M.ENTRIES]=e,this.frames[t+M.R]=n,this.frames[t+M.G]=i,this.frames[t+M.B]=a,this.frames[t+M.A]=r,this.frames[t+M.R2]=s,this.frames[t+M.G2]=o,this.frames[t+M.B2]=h},M.prototype.apply=function(t,e,n,i,a,r,s){var o=t.slots[this.slotIndex];if(o.bone.active){t=this.frames;if(n<t[0])switch(r){case B.setup:return o.color.setFromColor(o.data.color),void o.darkColor.setFromColor(o.data.darkColor);case B.first:var h=o.color,l=o.darkColor,u=o.data.color,c=o.data.darkColor;h.add((u.r-h.r)*a,(u.g-h.g)*a,(u.b-h.b)*a,(u.a-h.a)*a),l.add((c.r-l.r)*a,(c.g-l.g)*a,(c.b-l.b)*a,0)}else{var d,p,f=0,m=0,g=0,v=0,y=0,x=0,w=0;n>=t[t.length-M.ENTRIES]?(f=t[(d=t.length)+M.PREV_R],m=t[d+M.PREV_G],g=t[d+M.PREV_B],v=t[d+M.PREV_A],y=t[d+M.PREV_R2],x=t[d+M.PREV_G2],w=t[d+M.PREV_B2]):(f=t[(d=U.binarySearch(t,n,M.ENTRIES))+M.PREV_R],m=t[d+M.PREV_G],g=t[d+M.PREV_B],v=t[d+M.PREV_A],y=t[d+M.PREV_R2],x=t[d+M.PREV_G2],w=t[d+M.PREV_B2],p=t[d],n=this.getCurvePercent(d/M.ENTRIES-1,1-(n-p)/(t[d+M.PREV_TIME]-p)),f+=(t[d+M.R]-f)*n,m+=(t[d+M.G]-m)*n,g+=(t[d+M.B]-g)*n,v+=(t[d+M.A]-v)*n,y+=(t[d+M.R2]-y)*n,x+=(t[d+M.G2]-x)*n,w+=(t[d+M.B2]-w)*n),1==a?(o.color.set(f,m,g,v),o.darkColor.set(y,x,w,1)):(h=o.color,l=o.darkColor,r==B.setup&&(h.setFromColor(o.data.color),l.setFromColor(o.data.darkColor)),h.add((f-h.r)*a,(m-h.g)*a,(g-h.b)*a,(v-h.a)*a),l.add((y-l.r)*a,(x-l.g)*a,(w-l.b)*a,0))}}},M.ENTRIES=8,M.PREV_TIME=-8,M.PREV_R=-7,M.PREV_G=-6,M.PREV_B=-5,M.PREV_A=-4,M.PREV_R2=-3,M.PREV_G2=-2,M.PREV_B2=-1,M.R=1,M.G=2,M.B=3,M.A=4,M.R2=5,M.G2=6,M.B2=7;var u,o=M;function M(t){var e=u.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*M.ENTRIES),e}function c(t){this.frames=D.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}D.TwoColorTimeline=o,c.prototype.getPropertyId=function(){return(t.attachment<<24)+this.slotIndex},c.prototype.getFrameCount=function(){return this.frames.length},c.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},c.prototype.apply=function(t,e,n,i,a,r,s){var o=t.slots[this.slotIndex];if(o.bone.active){if(s==f.mixOut&&r==B.setup)return s=o.data.attachmentName,void o.setAttachment(null==s?null:t.getAttachment(this.slotIndex,s));s=this.frames;n<s[0]?r!=B.setup&&r!=B.first||(r=o.data.attachmentName,o.setAttachment(null==r?null:t.getAttachment(this.slotIndex,r))):(o=0,o=n>=s[s.length-1]?s.length-1:U.binarySearch(s,n,1)-1,r=this.attachmentNames[o],t.slots[this.slotIndex].setAttachment(null==r?null:t.getAttachment(this.slotIndex,r)))}},D.AttachmentTimeline=c;var x,w=null,a=(__extends(E,x=n),E.prototype.getPropertyId=function(){return(t.deform<<27)+ +this.attachment.id+this.slotIndex},E.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},E.prototype.apply=function(t,F,e,L,n,i,O){t=t.slots[this.slotIndex];if(t.bone.active){var a=t.getAttachment();if(a instanceof D.VertexAttachment&&a.deformAttachment==this.attachment){var r=t.deform,t=(0==r.length&&(i=B.setup),this.frameVertices),s=t[0].length,o=this.frames;if(e<o[0]){var h=a;switch(i){case B.setup:return void(r.length=0);case B.first:if(1==n){r.length=0;break}var l=D.Utils.setArraySize(r,s);if(null==h.bones)for(var u=h.vertices,c=0;c<s;c++)l[c]+=(u[c]-l[c])*n;else{n=1-n;for(c=0;c<s;c++)l[c]*=n}}}else{var d=D.Utils.setArraySize(r,s);if(e>=o[o.length-1]){var p=t[o.length-1];if(1==n)if(i==B.add)if(null==(h=a).bones)for(var u=h.vertices,f=0;f<s;f++)d[f]+=p[f]-u[f];else for(var m=0;m<s;m++)d[m]+=p[m];else D.Utils.arrayCopy(p,0,d,0,s);else switch(i){case B.setup:if(null==a.bones)for(var u=a.vertices,g=0;g<s;g++){var v=u[g];d[g]=v+(p[g]-v)*n}else for(var y=0;y<s;y++)d[y]=p[y]*n;break;case B.first:case B.replace:for(var x=0;x<s;x++)d[x]+=(p[x]-d[x])*n;break;case B.add:if(null==(h=a).bones)for(var u=h.vertices,w=0;w<s;w++)d[w]+=(p[w]-u[w])*n;else for(var M=0;M<s;M++)d[M]+=p[M]*n}}else{var E=U.binarySearch(o,e),T=t[E-1],A=t[E],t=o[E],b=this.getCurvePercent(E-1,1-(e-t)/(o[E-1]-t));if(1==n)if(i==B.add)if(null==(h=a).bones)for(var u=h.vertices,S=0;S<s;S++){var I=T[S];d[S]+=I+(A[S]-I)*b-u[S]}else for(var C=0;C<s;C++){I=T[C];d[C]+=I+(A[C]-I)*b}else for(var R=0;R<s;R++){I=T[R];d[R]=I+(A[R]-I)*b}else switch(i){case B.setup:if(null==a.bones)for(var u=a.vertices,_=0;_<s;_++){I=T[_],v=u[_];d[_]=v+(I+(A[_]-I)*b-v)*n}else for(var P=0;P<s;P++){I=T[P];d[P]=(I+(A[P]-I)*b)*n}break;case B.first:case B.replace:for(var V=0;V<s;V++){I=T[V];d[V]+=(I+(A[V]-I)*b-d[V])*n}break;case B.add:if(null==(h=a).bones)for(var u=h.vertices,k=0;k<s;k++){I=T[k];d[k]+=(I+(A[k]-I)*b-u[k])*n}else for(var N=0;N<s;N++){I=T[N];d[N]+=(I+(A[N]-I)*b)*n}}}}}}},E);function E(t){var e=x.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==w&&(w=D.Utils.newFloatArray(64)),e}function T(t){this.frames=D.Utils.newFloatArray(t),this.events=new Array(t)}function A(t){this.frames=D.Utils.newFloatArray(t),this.drawOrders=new Array(t)}D.DeformTimeline=a,T.prototype.getPropertyId=function(){return t.event<<24},T.prototype.getFrameCount=function(){return this.frames.length},T.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},T.prototype.apply=function(t,e,n,i,a,r,s){if(null!=i){var o=this.frames,h=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,i,a,r,s),e=-1;else if(e>=o[h-1])return;if(!(n<o[0])){var l=0;if(e<o[0])l=0;else for(var u=o[l=U.binarySearch(o,e)];0<l&&o[l-1]==u;)l--;for(;l<h&&n>=o[l];l++)i.push(this.events[l])}}},D.EventTimeline=T,A.prototype.getPropertyId=function(){return t.drawOrder<<24},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},A.prototype.apply=function(t,e,n,i,a,r,s){var o=t.drawOrder,h=t.slots;if(s==f.mixOut&&r==B.setup)D.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{s=this.frames;if(n<s[0])r!=B.setup&&r!=B.first||D.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var r=0,r=n>=s[s.length-1]?s.length-1:U.binarySearch(s,n)-1,l=this.drawOrders[r];if(null==l)D.Utils.arrayCopy(h,0,o,0,h.length);else for(var u=0,c=l.length;u<c;u++)o[u]=h[l[u]]}}},D.DrawOrderTimeline=A;__extends(S,b=n),S.prototype.getPropertyId=function(){return(t.ikConstraint<<24)+this.ikConstraintIndex},S.prototype.setFrame=function(t,e,n,i,a,r,s){this.frames[t*=S.ENTRIES]=e,this.frames[t+S.MIX]=n,this.frames[t+S.SOFTNESS]=i,this.frames[t+S.BEND_DIRECTION]=a,this.frames[t+S.COMPRESS]=r?1:0,this.frames[t+S.STRETCH]=s?1:0},S.prototype.apply=function(t,e,n,i,a,r,s){var o,h,l,u=this.frames,c=t.ikConstraints[this.ikConstraintIndex];if(c.active)if(n<u[0])switch(r){case B.setup:return c.mix=c.data.mix,c.softness=c.data.softness,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,void(c.stretch=c.data.stretch);case B.first:c.mix+=(c.data.mix-c.mix)*a,c.softness+=(c.data.softness-c.softness)*a,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}else n>=u[u.length-S.ENTRIES]?r==B.setup?(c.mix=c.data.mix+(u[u.length+S.PREV_MIX]-c.data.mix)*a,c.softness=c.data.softness+(u[u.length+S.PREV_SOFTNESS]-c.data.softness)*a,s==f.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[u.length+S.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+S.PREV_COMPRESS],c.stretch=0!=u[u.length+S.PREV_STRETCH])):(c.mix+=(u[u.length+S.PREV_MIX]-c.mix)*a,c.softness+=(u[u.length+S.PREV_SOFTNESS]-c.softness)*a,s==f.mixIn&&(c.bendDirection=u[u.length+S.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+S.PREV_COMPRESS],c.stretch=0!=u[u.length+S.PREV_STRETCH])):(o=u[(t=U.binarySearch(u,n,S.ENTRIES))+S.PREV_MIX],h=u[t+S.PREV_SOFTNESS],l=u[t],n=this.getCurvePercent(t/S.ENTRIES-1,1-(n-l)/(u[t+S.PREV_TIME]-l)),r==B.setup?(c.mix=c.data.mix+(o+(u[t+S.MIX]-o)*n-c.data.mix)*a,c.softness=c.data.softness+(h+(u[t+S.SOFTNESS]-h)*n-c.data.softness)*a,s==f.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[t+S.PREV_BEND_DIRECTION],c.compress=0!=u[t+S.PREV_COMPRESS],c.stretch=0!=u[t+S.PREV_STRETCH])):(c.mix+=(o+(u[t+S.MIX]-o)*n-c.mix)*a,c.softness+=(h+(u[t+S.SOFTNESS]-h)*n-c.softness)*a,s==f.mixIn&&(c.bendDirection=u[t+S.PREV_BEND_DIRECTION],c.compress=0!=u[t+S.PREV_COMPRESS],c.stretch=0!=u[t+S.PREV_STRETCH])))},S.ENTRIES=6,S.PREV_TIME=-6,S.PREV_MIX=-5,S.PREV_SOFTNESS=-4,S.PREV_BEND_DIRECTION=-3,S.PREV_COMPRESS=-2,S.PREV_STRETCH=-1,S.MIX=1,S.SOFTNESS=2,S.BEND_DIRECTION=3,S.COMPRESS=4,S.STRETCH=5;var b,o=S;function S(t){var e=b.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*S.ENTRIES),e}D.IkConstraintTimeline=o;__extends(C,I=n),C.prototype.getPropertyId=function(){return(t.transformConstraint<<24)+this.transformConstraintIndex},C.prototype.setFrame=function(t,e,n,i,a,r){this.frames[t*=C.ENTRIES]=e,this.frames[t+C.ROTATE]=n,this.frames[t+C.TRANSLATE]=i,this.frames[t+C.SCALE]=a,this.frames[t+C.SHEAR]=r},C.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(h.active)if(n<o[0]){var l=h.data;switch(r){case B.setup:return h.rotateMix=l.rotateMix,h.translateMix=l.translateMix,h.scaleMix=l.scaleMix,void(h.shearMix=l.shearMix);case B.first:h.rotateMix+=(l.rotateMix-h.rotateMix)*a,h.translateMix+=(l.translateMix-h.translateMix)*a,h.scaleMix+=(l.scaleMix-h.scaleMix)*a,h.shearMix+=(l.shearMix-h.shearMix)*a}}else{var u,c,t=0,d=0,p=0,f=0;n>=o[o.length-C.ENTRIES]?(t=o[(u=o.length)+C.PREV_ROTATE],d=o[u+C.PREV_TRANSLATE],p=o[u+C.PREV_SCALE],f=o[u+C.PREV_SHEAR]):(t=o[(u=U.binarySearch(o,n,C.ENTRIES))+C.PREV_ROTATE],d=o[u+C.PREV_TRANSLATE],p=o[u+C.PREV_SCALE],f=o[u+C.PREV_SHEAR],c=o[u],n=this.getCurvePercent(u/C.ENTRIES-1,1-(n-c)/(o[u+C.PREV_TIME]-c)),t+=(o[u+C.ROTATE]-t)*n,d+=(o[u+C.TRANSLATE]-d)*n,p+=(o[u+C.SCALE]-p)*n,f+=(o[u+C.SHEAR]-f)*n),r==B.setup?(l=h.data,h.rotateMix=l.rotateMix+(t-l.rotateMix)*a,h.translateMix=l.translateMix+(d-l.translateMix)*a,h.scaleMix=l.scaleMix+(p-l.scaleMix)*a,h.shearMix=l.shearMix+(f-l.shearMix)*a):(h.rotateMix+=(t-h.rotateMix)*a,h.translateMix+=(d-h.translateMix)*a,h.scaleMix+=(p-h.scaleMix)*a,h.shearMix+=(f-h.shearMix)*a)}},C.ENTRIES=5,C.PREV_TIME=-5,C.PREV_ROTATE=-4,C.PREV_TRANSLATE=-3,C.PREV_SCALE=-2,C.PREV_SHEAR=-1,C.ROTATE=1,C.TRANSLATE=2,C.SCALE=3,C.SHEAR=4;var I,a=C;function C(t){var e=I.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*C.ENTRIES),e}D.TransformConstraintTimeline=a;__extends(_,R=n),_.prototype.getPropertyId=function(){return(t.pathConstraintPosition<<24)+this.pathConstraintIndex},_.prototype.setFrame=function(t,e,n){this.frames[t*=_.ENTRIES]=e,this.frames[t+_.VALUE]=n},_.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(r){case B.setup:return void(h.position=h.data.position);case B.first:h.position+=(h.data.position-h.position)*a}else{var l,u,t=0;n>=o[o.length-_.ENTRIES]?t=o[o.length+_.PREV_VALUE]:(t=o[(l=U.binarySearch(o,n,_.ENTRIES))+_.PREV_VALUE],u=o[l],n=this.getCurvePercent(l/_.ENTRIES-1,1-(n-u)/(o[l+_.PREV_TIME]-u)),t+=(o[l+_.VALUE]-t)*n),r==B.setup?h.position=h.data.position+(t-h.data.position)*a:h.position+=(t-h.position)*a}},_.ENTRIES=2,_.PREV_TIME=-2,_.PREV_VALUE=-1,_.VALUE=1;var R,o=_;function _(t){var e=R.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*_.ENTRIES),e}D.PathConstraintPositionTimeline=o;__extends(P,k=o),P.prototype.getPropertyId=function(){return(t.pathConstraintSpacing<<24)+this.pathConstraintIndex},P.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(r){case B.setup:return void(h.spacing=h.data.spacing);case B.first:h.spacing+=(h.data.spacing-h.spacing)*a}else{var l,u,t=0;n>=o[o.length-P.ENTRIES]?t=o[o.length+P.PREV_VALUE]:(t=o[(l=U.binarySearch(o,n,P.ENTRIES))+P.PREV_VALUE],u=o[l],n=this.getCurvePercent(l/P.ENTRIES-1,1-(n-u)/(o[l+P.PREV_TIME]-u)),t+=(o[l+P.VALUE]-t)*n),r==B.setup?h.spacing=h.data.spacing+(t-h.data.spacing)*a:h.spacing+=(t-h.spacing)*a}};var k,a=P;function P(t){return k.call(this,t)||this}D.PathConstraintSpacingTimeline=a;__extends(V,N=n),V.prototype.getPropertyId=function(){return(t.pathConstraintMix<<24)+this.pathConstraintIndex},V.prototype.setFrame=function(t,e,n,i){this.frames[t*=V.ENTRIES]=e,this.frames[t+V.ROTATE]=n,this.frames[t+V.TRANSLATE]=i},V.prototype.apply=function(t,e,n,i,a,r,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(r){case B.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case B.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*a,h.translateMix+=(h.data.translateMix-h.translateMix)*a}else{var l,u,t=0,c=0;n>=o[o.length-V.ENTRIES]?(t=o[o.length+V.PREV_ROTATE],c=o[o.length+V.PREV_TRANSLATE]):(t=o[(l=U.binarySearch(o,n,V.ENTRIES))+V.PREV_ROTATE],c=o[l+V.PREV_TRANSLATE],u=o[l],n=this.getCurvePercent(l/V.ENTRIES-1,1-(n-u)/(o[l+V.PREV_TIME]-u)),t+=(o[l+V.ROTATE]-t)*n,c+=(o[l+V.TRANSLATE]-c)*n),r==B.setup?(h.rotateMix=h.data.rotateMix+(t-h.data.rotateMix)*a,h.translateMix=h.data.translateMix+(c-h.data.translateMix)*a):(h.rotateMix+=(t-h.rotateMix)*a,h.translateMix+=(c-h.translateMix)*a)}},V.ENTRIES=3,V.PREV_TIME=-3,V.PREV_ROTATE=-2,V.PREV_TRANSLATE=-1,V.ROTATE=1,V.TRANSLATE=2;var N,o=V;function V(t){var e=N.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*V.ENTRIES),e}D.PathConstraintMixTimeline=o}(spine=spine||{}),function(A){b.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var a=e[n];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var r=t*a.timeScale;if(0<a.delay){if(a.delay-=r,0<a.delay)continue;r=-a.delay,a.delay=0}var s=a.next;if(null!=s){var o=a.trackLast-s.delay;if(0<=o){for(s.delay=0,s.trackTime+=0==a.timeScale?0:(o/a.timeScale+t)*s.timeScale,a.trackTime+=r,this.setCurrent(n,s,!0);null!=s.mixingFrom;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){e[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,t)){var h=a.mixingFrom;for((a.mixingFrom=null)!=h&&(h.mixingTo=null);null!=h;)this.queue.end(h),h=h.mixingFrom}a.trackTime+=r}}this.queue.drain()},b.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},b.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,i=!1,a=0,r=n.length;a<r;a++){var s=n[a];if(!(null==s||0<s.delay)){var i=!0,o=0==a?A.MixBlend.first:s.mixBlend,h=s.alpha,l=(null!=s.mixingFrom?h*=this.applyMixingFrom(s,t,o):s.trackTime>=s.trackEnd&&null==s.next&&(h=0),s.animationLast),u=s.getAnimationTime(),c=s.animation.timelines.length,d=s.animation.timelines;if(0==a&&1==h||o==A.MixBlend.add)for(var p=0;p<c;p++)A.Utils.webkit602BugfixHelper(h,o),d[p].apply(t,l,u,e,h,o,A.MixDirection.mixIn);else for(var f=s.timelineMode,m=0==s.timelinesRotation.length,g=(m&&A.Utils.setArraySize(s.timelinesRotation,c<<1,null),s.timelinesRotation),p=0;p<c;p++){var v=d[p],y=(f[p]&b.NOT_LAST-1)==b.SUBSEQUENT?o:A.MixBlend.setup;v instanceof A.RotateTimeline?this.applyRotateTimeline(v,t,u,h,y,g,p<<1,m):(A.Utils.webkit602BugfixHelper(h,o),v.apply(t,l,u,e,h,y,A.MixDirection.mixIn))}this.queueEvents(s,u),e.length=0,s.nextAnimationLast=u,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},b.prototype.applyMixingFrom=function(t,e,n){var i=t.mixingFrom,a=(null!=i.mixingFrom&&this.applyMixingFrom(i,e,n),0),r=(0==t.mixDuration?(a=1,n==A.MixBlend.first&&(n=A.MixBlend.setup)):(1<(a=t.mixTime/t.mixDuration)&&(a=1),n!=A.MixBlend.first&&(n=i.mixBlend)),a<i.eventThreshold?this.events:null),s=a<i.attachmentThreshold,o=a<i.drawOrderThreshold,h=i.animationLast,l=i.getAnimationTime(),u=i.animation.timelines.length,c=i.animation.timelines,d=i.alpha*t.interruptAlpha,p=d*(1-a);if(n==A.MixBlend.add)for(var f=0;f<u;f++)c[f].apply(e,h,l,r,p,n,A.MixDirection.mixOut);else for(var m=i.timelineMode,g=i.timelineHoldMix,v=0==i.timelinesRotation.length,y=(v&&A.Utils.setArraySize(i.timelinesRotation,u<<1,null),i.timelinesRotation),f=i.totalAlpha=0;f<u;f++){var x=c[f],w=A.MixDirection.mixOut,M=void 0,E=0;switch(m[f]&b.NOT_LAST-1){case b.SUBSEQUENT:if(M=n,!s&&x instanceof A.AttachmentTimeline){if((m[f]&b.NOT_LAST)==b.NOT_LAST)continue;M=A.MixBlend.setup}if(!o&&x instanceof A.DrawOrderTimeline)continue;E=p;break;case b.FIRST:M=A.MixBlend.setup,E=p;break;case b.HOLD:M=A.MixBlend.setup,E=d;break;default:var M=A.MixBlend.setup,T=g[f],E=d*Math.max(0,1-T.mixTime/T.mixDuration)}i.totalAlpha+=E,x instanceof A.RotateTimeline?this.applyRotateTimeline(x,e,l,E,M,y,f<<1,v):(A.Utils.webkit602BugfixHelper(E,n),M==A.MixBlend.setup&&(x instanceof A.AttachmentTimeline?!s&&(m[f]&b.NOT_LAST)!=b.NOT_LAST||(w=A.MixDirection.mixIn):x instanceof A.DrawOrderTimeline&&o&&(w=A.MixDirection.mixIn)),x.apply(e,h,l,r,E,M,w))}return 0<t.mixDuration&&this.queueEvents(i,l),this.events.length=0,i.nextAnimationLast=l,i.nextTrackLast=i.trackTime,a},b.prototype.applyRotateTimeline=function(t,e,n,i,a,r,s,o){if(o&&(r[s]=0),1==i)t.apply(e,0,n,null,1,a,A.MixDirection.mixIn);else{var h=t.frames,l=e.bones[t.boneIndex];if(l.active){var u=0,c=0;if(n<h[0])switch(a){case A.MixBlend.setup:l.rotation=l.data.rotation;default:return;case A.MixBlend.first:u=l.rotation,c=l.data.rotation}else{u=(a==A.MixBlend.setup?l.data:l).rotation;n>=h[h.length-A.RotateTimeline.ENTRIES]?c=l.data.rotation+h[h.length+A.RotateTimeline.PREV_ROTATION]:(a=h[(e=A.Animation.binarySearch(h,n,A.RotateTimeline.ENTRIES))+A.RotateTimeline.PREV_ROTATION],d=h[e],t=t.getCurvePercent((e>>1)-1,1-(n-d)/(h[e+A.RotateTimeline.PREV_TIME]-d)),c=h[e+A.RotateTimeline.ROTATION]-a,c=a+(c-=360*(16384-(16384.499999999996-c/360|0)))*t+l.data.rotation,c-=360*(16384-(16384.499999999996-c/360|0)))}var n=0,d=c-u;0==(d-=360*(16384-(16384.499999999996-d/360|0)))?n=r[s]:(e=h=0,e=o?(h=0,d):(h=r[s],r[s+1]),a=0<d,t=0<=h,A.MathUtils.signum(e)!=A.MathUtils.signum(d)&&Math.abs(e)<=90&&(180<Math.abs(h)&&(h+=360*A.MathUtils.signum(h)),t=a),n=d+h-h%360,t!=a&&(n+=360*A.MathUtils.signum(h)),r[s]=n),r[s+1]=d,l.rotation=(u+=n*i)-360*(16384-(16384.499999999996-u/360|0))}}},b.prototype.queueEvents=function(t,e){for(var n=t.animationStart,i=t.animationEnd,a=i-n,r=t.trackLast%a,s=this.events,o=0,h=s.length;o<h;o++){var l=s[o];if(l.time<r)break;l.time>i||this.queue.event(t,l)}for((t.loop?0==a||r>t.trackTime%a:i<=e&&t.animationLast<i)&&this.queue.complete(t);o<h;o++)s[o].time<n||this.queue.event(t,s[o])},b.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},b.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){t=this.tracks[t];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var e=t;;){var n=e.mixingFrom;if(null==n)break;this.queue.end(n),e.mixingFrom=null,e.mixingTo=null,e=n}this.tracks[t.trackIndex]=null,this.queue.drain()}}},b.prototype.setCurrent=function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,null!=i&&(n&&this.queue.interrupt(i),((e.mixingFrom=i).mixingTo=e).mixTime=0,null!=i.mixingFrom&&0<i.mixDuration&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)},b.prototype.setAnimation=function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)},b.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var i=!0,a=this.expandToIndex(t),e=(null!=a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,i=!1):this.disposeNext(a)),this.trackEntry(t,e,n,a));return this.setCurrent(t,e,i),this.queue.drain(),e},b.prototype.addAnimation=function(t,e,n,i){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,i)},b.prototype.addAnimationWith=function(t,e,n,i){if(null==e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(null!=a)for(;null!=a.next;)a=a.next;n=this.trackEntry(t,e,n,a);return null==a?(this.setCurrent(t,n,!0),this.queue.drain()):(a.next=n,i<=0&&(0!=(t=a.animationEnd-a.animationStart)?(a.loop?i+=t*(1+(a.trackTime/t|0)):i+=Math.max(t,a.trackTime),i-=this.data.getMix(a.animation,e)):i=a.trackTime)),n.delay=i,n},b.prototype.setEmptyAnimation=function(t,e){t=this.setAnimationWith(t,b.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t},b.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);t=this.addAnimationWith(t,b.emptyAnimation,!1,n);return t.mixDuration=e,t.trackEnd=e,t},b.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var a=this.tracks[n];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},b.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(A.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},b.prototype.trackEntry=function(t,e,n,i){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==i?0:this.data.getMix(i.animation,e),a.mixBlend=A.MixBlend.replace,a},b.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},b.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==A.MixBlend.add||this.computeHold(n),null!=(n=n.mixingTo););}}this.propertyIDs.clear();for(t=this.tracks.length-1;0<=t;t--)for(n=this.tracks[t];null!=n;)this.computeNotLast(n),n=n.mixingFrom},b.prototype.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,i=t.animation.timelines.length,a=A.Utils.setArraySize(t.timelineMode,i),r=(t.timelineHoldMix.length=0,A.Utils.setArraySize(t.timelineHoldMix,i)),s=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var o=0;o<i;o++)s.add(n[o].getPropertyId()),a[o]=b.HOLD;else t:for(o=0;o<i;o++){var h=n[o],l=h.getPropertyId();if(s.add(l))if(null==e||h instanceof A.AttachmentTimeline||h instanceof A.DrawOrderTimeline||h instanceof A.EventTimeline||!e.animation.hasTimeline(l))a[o]=b.FIRST;else{for(var u=e.mixingTo;null!=u;u=u.mixingTo)if(!u.animation.hasTimeline(l)){if(0<t.mixDuration){a[o]=b.HOLD_MIX,r[o]=u;continue t}break}a[o]=b.HOLD}else a[o]=b.SUBSEQUENT}},b.prototype.computeNotLast=function(t){for(var e,n=t.animation.timelines,i=t.animation.timelines.length,a=t.timelineMode,r=this.propertyIDs,s=0;s<i;s++)n[s]instanceof A.AttachmentTimeline&&(e=n[s],r.add(e.slotIndex)||(a[s]|=b.NOT_LAST))},b.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},b.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},b.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0<=t&&this.listeners.splice(t,1)},b.prototype.clearListeners=function(){this.listeners.length=0},b.prototype.clearListenerNotifications=function(){this.queue.clear()},b.emptyAnimation=new A.Animation("<empty>",[],0),b.SUBSEQUENT=0,b.FIRST=1,b.HOLD=2,b.HOLD_MIX=3,b.NOT_LAST=4;var t=b;function b(t){this.tracks=new Array,this.timeScale=1,this.events=new Array,this.listeners=new Array,this.queue=new i(this),this.propertyIDs=new A.IntSet,this.animationsChanged=!1,this.trackEntryPool=new A.Pool(function(){return new e}),this.data=t}A.AnimationState=t;n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},n.prototype.getAnimationTime=function(){var t;return this.loop?0==(t=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%t+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0};var e=n;function n(){this.mixBlend=A.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}A.TrackEntry=e;a.prototype.start=function(t){this.objects.push(o.start),this.objects.push(t),this.animState.animationsChanged=!0},a.prototype.interrupt=function(t){this.objects.push(o.interrupt),this.objects.push(t)},a.prototype.end=function(t){this.objects.push(o.end),this.objects.push(t),this.animState.animationsChanged=!0},a.prototype.dispose=function(t){this.objects.push(o.dispose),this.objects.push(t)},a.prototype.complete=function(t){this.objects.push(o.complete),this.objects.push(t)},a.prototype.event=function(t,e){this.objects.push(o.event),this.objects.push(t),this.objects.push(e)},a.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],a=t[n+1];switch(i){case o.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var r=0;r<e.length;r++)e[r].start&&e[r].start(a);break;case o.interrupt:null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(r=0;r<e.length;r++)e[r].interrupt&&e[r].interrupt(a);break;case o.end:null!=a.listener&&a.listener.end&&a.listener.end(a);for(r=0;r<e.length;r++)e[r].end&&e[r].end(a);case o.dispose:null!=a.listener&&a.listener.dispose&&a.listener.dispose(a);for(r=0;r<e.length;r++)e[r].dispose&&e[r].dispose(a);this.animState.trackEntryPool.free(a);break;case o.complete:null!=a.listener&&a.listener.complete&&a.listener.complete(a);for(r=0;r<e.length;r++)e[r].complete&&e[r].complete(a);break;case o.event:var s=t[2+n++];null!=a.listener&&a.listener.event&&a.listener.event(a,s);for(r=0;r<e.length;r++)e[r].event&&e[r].event(a,s)}}this.clear(),this.drainDisabled=!1}},a.prototype.clear=function(){this.objects.length=0};var o,i=a;function a(t){this.objects=[],this.drainDisabled=!1,this.animState=t}function r(){}A.EventQueue=i,(t=o=A.EventType||(A.EventType={}))[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",r.prototype.start=function(t){},r.prototype.interrupt=function(t){},r.prototype.end=function(t){},r.prototype.dispose=function(t){},r.prototype.complete=function(t){},r.prototype.event=function(t,e){},A.AnimationStateAdapter=r}(spine=spine||{}),function(t){function e(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}e.prototype.setMix=function(t,e,n){var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: "+t);t=this.skeletonData.findAnimation(e);if(null==t)throw new Error("Animation not found: "+e);this.setMixWith(i,t,n)},e.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");t=t.name+"."+e.name;this.animationToMixTime[t]=n},e.prototype.getMix=function(t,e){t=t.name+"."+e.name,e=this.animationToMixTime[t];return void 0===e?this.defaultMix:e},t.AnimationStateData=e}(spine=spine||{}),function(d){function t(t,e){void 0===e&&(e=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=t,this.pathPrefix=e}t.prototype.downloadText=function(t,e,n){var i=new XMLHttpRequest;i.overrideMimeType("text/html"),this.rawDataUris[t]&&(t=this.rawDataUris[t]),i.open("GET",t,!0),i.onload=function(){200==i.status?e(i.responseText):n(i.status,i.responseText)},i.onerror=function(){n(i.status,i.responseText)},i.send()},t.prototype.downloadBinary=function(t,e,n){var i=new XMLHttpRequest;this.rawDataUris[t]&&(t=this.rawDataUris[t]),i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status?e(new Uint8Array(i.response)):n(i.status,i.responseText)},i.onerror=function(){n(i.status,i.responseText)},i.send()},t.prototype.setRawDataURI=function(t,e){this.rawDataUris[this.pathPrefix+t]=e},t.prototype.loadBinary=function(n,e,i){var a=this;void 0===e&&(e=null),void 0===i&&(i=null),n=this.pathPrefix+n,this.toLoad++,this.downloadBinary(n,function(t){a.assets[n]=t,e&&e(n,t),a.toLoad--,a.loaded++},function(t,e){a.errors[n]="Couldn't load binary "+n+": status "+status+", "+e,i&&i(n,"Couldn't load binary "+n+": status "+status+", "+e),a.toLoad--,a.loaded++})},t.prototype.loadText=function(n,e,i){var a=this;void 0===e&&(e=null),void 0===i&&(i=null),n=this.pathPrefix+n,this.toLoad++,this.downloadText(n,function(t){a.assets[n]=t,e&&e(n,t),a.toLoad--,a.loaded++},function(t,e){a.errors[n]="Couldn't load text "+n+": status "+status+", "+e,i&&i(n,"Couldn't load text "+n+": status "+status+", "+e),a.toLoad--,a.loaded++})},t.prototype.loadTexture=function(n,i,e){var a=this,r=(void 0===i&&(i=null),void 0===e&&(e=null),n=this.pathPrefix+n),s=(this.toLoad++,new Image);s.crossOrigin="anonymous",s.onload=function(t){var e=a.textureLoader(s);a.assets[r]=e,a.toLoad--,a.loaded++,i&&i(n,s)},s.onerror=function(t){a.errors[n]="Couldn't load image "+n,a.toLoad--,a.loaded++,e&&e(n,"Couldn't load image "+n)},this.rawDataUris[n]&&(n=this.rawDataUris[n]),s.src=n},t.prototype.loadTextureAtlas=function(o,h,l){var u=this,c=(void 0===h&&(h=null),void 0===l&&(l=null),0<=o.lastIndexOf("/")?o.substring(0,o.lastIndexOf("/")):"");o=this.pathPrefix+o,this.toLoad++,this.downloadText(o,function(a){var r={count:0},s=new Array;try{new d.TextureAtlas(a,function(t){s.push(""==c?t:c+"/"+t);t=document.createElement("img");return t.width=16,t.height=16,new d.FakeTexture(t)})}catch(t){var e=t;return u.errors[o]="Couldn't load texture atlas "+o+": "+e.message,l&&l(o,"Couldn't load texture atlas "+o+": "+e.message),u.toLoad--,void u.loaded++}for(var t=0,n=s;t<n.length;t++)!function(t){var i=!1;u.loadTexture(t,function(e,t){if(r.count++,r.count==s.length)if(i)u.errors[o]="Couldn't load texture atlas page "+e+"} of atlas "+o,l&&l(o,"Couldn't load texture atlas page "+e+" of atlas "+o),u.toLoad--,u.loaded++;else try{var n=new d.TextureAtlas(a,function(t){return u.get(""==c?t:c+"/"+t)});u.assets[o]=n,h&&h(o,n),u.toLoad--,u.loaded++}catch(t){e=t;u.errors[o]="Couldn't load texture atlas "+o+": "+e.message,l&&l(o,"Couldn't load texture atlas "+o+": "+e.message),u.toLoad--,u.loaded++}},function(t,e){i=!0,r.count++,r.count==s.length&&(u.errors[o]="Couldn't load texture atlas page "+t+"} of atlas "+o,l&&l(o,"Couldn't load texture atlas page "+t+" of atlas "+o),u.toLoad--,u.loaded++)})}(n[t])},function(t,e){u.errors[o]="Couldn't load texture atlas "+o+": status "+status+", "+e,l&&l(o,"Couldn't load texture atlas "+o+": status "+status+", "+e),u.toLoad--,u.loaded++})},t.prototype.get=function(t){return t=this.pathPrefix+t,this.assets[t]},t.prototype.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];e.dispose&&e.dispose(),this.assets[t]=null},t.prototype.removeAll=function(){for(var t in this.assets){t=this.assets[t];t.dispose&&t.dispose()}this.assets={}},t.prototype.isLoadingComplete=function(){return 0==this.toLoad},t.prototype.getToLoad=function(){return this.toLoad},t.prototype.getLoaded=function(){return this.loaded},t.prototype.dispose=function(){this.removeAll()},t.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},t.prototype.getErrors=function(){return this.errors},d.AssetManager=t}(spine=spine||{}),function(a){function t(t){this.atlas=t}t.prototype.newRegionAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");i.renderObject=i;n=new a.RegionAttachment(e);return n.setRegion(i),n},t.prototype.newMeshAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");i.renderObject=i;n=new a.MeshAttachment(e);return n.region=i,n},t.prototype.newBoundingBoxAttachment=function(t,e){return new a.BoundingBoxAttachment(e)},t.prototype.newPathAttachment=function(t,e){return new a.PathAttachment(e)},t.prototype.newPointAttachment=function(t,e){return new a.PointAttachment(e)},t.prototype.newClippingAttachment=function(t,e){return new a.ClippingAttachment(e)},a.AtlasAttachmentLoader=t}(spine=spine||{}),function(t){(t=t.BlendMode||(t.BlendMode={}))[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(spine=spine||{}),function(b){function t(t,e,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,n,i,a,r,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=a,this.ashearX=r,this.ashearY=s,this.appliedValid=!0;var o,h,l,u=this.parent;if(null==u)return m=n+90+s,h=(o=this.skeleton).scaleX,l=o.scaleY,this.a=b.MathUtils.cosDeg(n+r)*i*h,this.b=b.MathUtils.cosDeg(m)*a*h,this.c=b.MathUtils.sinDeg(n+r)*i*l,this.d=b.MathUtils.sinDeg(m)*a*l,this.worldX=t*h+o.x,void(this.worldY=e*l+o.y);var c=u.a,d=u.b,p=u.c,f=u.d;switch(this.worldX=c*t+d*e+u.worldX,this.worldY=p*t+f*e+u.worldY,this.data.transformMode){case b.TransformMode.Normal:var m=n+90+s,g=b.MathUtils.cosDeg(n+r)*i,v=b.MathUtils.cosDeg(m)*a,y=b.MathUtils.sinDeg(n+r)*i,x=b.MathUtils.sinDeg(m)*a;return this.a=c*g+d*y,this.b=c*v+d*x,this.c=p*g+f*y,void(this.d=p*v+f*x);case b.TransformMode.OnlyTranslation:m=n+90+s;this.a=b.MathUtils.cosDeg(n+r)*i,this.b=b.MathUtils.cosDeg(m)*a,this.c=b.MathUtils.sinDeg(n+r)*i,this.d=b.MathUtils.sinDeg(m)*a;break;case b.TransformMode.NoRotationOrReflection:var w=0,M=n+r-(w=1e-4<(E=c*c+p*p)?(d=p*(E=Math.abs(c*f-d*p)/E),f=c*E,Math.atan2(p,c)*b.MathUtils.radDeg):(p=c=0,90-Math.atan2(f,d)*b.MathUtils.radDeg)),w=n+s-w+90,g=b.MathUtils.cosDeg(M)*i,v=b.MathUtils.cosDeg(w)*a,y=b.MathUtils.sinDeg(M)*i,x=b.MathUtils.sinDeg(w)*a;this.a=c*g-d*y,this.b=c*v-d*x,this.c=p*g+f*y,this.d=p*v+f*x;break;case b.TransformMode.NoScale:case b.TransformMode.NoScaleOrReflection:var E,M=b.MathUtils.cosDeg(n),w=b.MathUtils.sinDeg(n),T=(c*M+d*w)/this.skeleton.scaleX,M=(p*M+f*w)/this.skeleton.scaleY,w=(T*=E=1e-5<(E=Math.sqrt(T*T+M*M))?1/E:E,M*=E,E=Math.sqrt(T*T+M*M),this.data.transformMode==b.TransformMode.NoScale&&c*f-d*p<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(E=-E),Math.PI/2+Math.atan2(M,T)),A=Math.cos(w)*E,w=Math.sin(w)*E,g=b.MathUtils.cosDeg(r)*i,v=b.MathUtils.cosDeg(90+s)*a,y=b.MathUtils.sinDeg(r)*i,x=b.MathUtils.sinDeg(90+s)*a;this.a=T*g+A*y,this.b=T*v+A*x,this.c=M*g+w*y,this.d=M*v+w*x}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*b.MathUtils.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*b.MathUtils.radDeg},t.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},t.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent;if(null==t)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*b.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*b.MathUtils.radDeg);var e=t.a,n=t.b,i=t.c,a=t.d,r=1/(e*a-n*i),s=this.worldX-t.worldX,t=this.worldY-t.worldY,t=(this.ax=s*a*r-t*n*r,this.ay=t*e*r-s*i*r,r*a),s=r*e,a=r*n,e=r*i,n=t*this.a-a*this.c,r=t*this.b-a*this.d,i=s*this.c-e*this.a,t=s*this.d-e*this.b;this.ashearX=0,this.ascaleX=Math.sqrt(n*n+i*i),1e-4<this.ascaleX?(this.ascaleY=(a=n*t-r*i)/this.ascaleX,this.ashearY=Math.atan2(n*r+i*t,a)*b.MathUtils.radDeg,this.arotation=Math.atan2(i,n)*b.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(r*r+t*t),this.ashearY=0,this.arotation=90-Math.atan2(t,r)*b.MathUtils.radDeg)},t.prototype.worldToLocal=function(t){var e=this.a,n=this.b,i=this.c,a=this.d,r=1/(e*a-n*i),s=t.x-this.worldX,o=t.y-this.worldY;return t.x=s*a*r-o*n*r,t.y=o*e*r-s*i*r,t},t.prototype.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},t.prototype.worldToLocalRotation=function(t){var e=b.MathUtils.sinDeg(t),t=b.MathUtils.cosDeg(t);return Math.atan2(this.a*e-this.c*t,this.d*t-this.b*e)*b.MathUtils.radDeg+this.rotation-this.shearX},t.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=b.MathUtils.sinDeg(t),t=b.MathUtils.cosDeg(t);return Math.atan2(t*this.c+e*this.d,t*this.a+e*this.b)*b.MathUtils.radDeg},t.prototype.rotateWorld=function(t){var e=this.a,n=this.b,i=this.c,a=this.d,r=b.MathUtils.cosDeg(t),t=b.MathUtils.sinDeg(t);this.a=r*e-t*i,this.b=r*n-t*a,this.c=t*e+r*i,this.d=t*n+r*a,this.appliedValid=!1},b.Bone=t}(spine=spine||{}),function(i){var a,t;i.BoneData=function(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=a.Normal,this.skinRequired=!1,this.color=new i.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n},(t=a=i.TransformMode||(i.TransformMode={}))[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(spine=spine||{}),(spine||(spine={})).ConstraintData=function(t,e,n){this.name=t,this.order=e,this.skinRequired=n},(spine||(spine={})).Event=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},(spine||(spine={})).EventData=function(t){this.name=t},function(z){function t(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},t.prototype.apply1=function(t,e,n,i,a,r,s){t.appliedValid||t.updateAppliedTransform();var o=t.parent,h=o.a,l=o.b,u=o.c,c=o.d,d=-t.ashearX-t.arotation,p=0,f=0;switch(t.data.transformMode){case z.TransformMode.OnlyTranslation:p=e-t.worldX,f=n-t.worldY;break;case z.TransformMode.NoRotationOrReflection:d+=Math.atan2(u,h)*z.MathUtils.radDeg;var m=Math.abs(h*c-l*u)/(h*h+u*u),l=-u*m,c=h*m;default:var m=e-o.worldX,g=n-o.worldY,v=h*c-l*u,p=(m*c-g*l)/v-t.ax,f=(g*h-m*u)/v-t.ay}d+=Math.atan2(f,p)*z.MathUtils.radDeg,t.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var y=t.ascaleX,x=t.ascaleY;if(i||a){switch(t.data.transformMode){case z.TransformMode.NoScale:case z.TransformMode.NoScaleOrReflection:p=e-t.worldX,f=n-t.worldY}var w=t.data.length*y,M=Math.sqrt(p*p+f*f);(i&&M<w||a&&w<M&&1e-4<w)&&(y*=i=(M/w-1)*s+1,r&&(x*=i))}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*s,y,x,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,n,i,a,L,r,s){if(0==s)e.updateWorldTransform();else{t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var o,O=t.ax,D=t.ay,h=t.ascaleX,B=h,l=t.ascaleY,u=e.ascaleX,U=0,Y=0,c=0,c=h<0?(h=-h,U=180,-1):(U=0,1),Y=(l<0&&(l=-l,c=-c),u<0?(u=-u,180):0),d=e.ax,p=0,f=0,m=0,g=t.a,v=t.b,y=t.c,x=t.d,X=Math.abs(h-l)<=1e-4,m=X?(f=g*d+v*(p=e.ay)+t.worldX,y*d+x*p+t.worldY):(p=0,f=g*d+t.worldX,y*d+t.worldY),w=t.parent,M=(g=w.a,v=w.b,y=w.c,1/(g*(x=w.d)-v*y)),E=f-w.worldX,T=m-w.worldY,f=(E*x-T*v)*M-O,m=(T*g-E*y)*M-D,A=Math.sqrt(f*f+m*m),b=e.data.length*u;if(A<1e-4)return this.apply1(t,n,i,!1,L,!1,s),void e.updateWorldTransformWith(d,p,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var S=((E=n-w.worldX)*x-(T=i-w.worldY)*v)*M-O,I=(T*g-E*y)*M-D,C=S*S+I*I;0!=r&&(r*=h*(u+1)/2,0<(m=(f=Math.sqrt(C))-A-b*h+r)&&(C=(S-=(n=(m-r*(1-(n=Math.min(1,m/(2*r))-1)*n))/f)*S)*S+(I-=n*I)*I));t:if(X){var R=(C-A*A-(b*=h)*b)/(2*A*b);R<-1?R=-1:1<R&&(R=1,L&&(B*=(Math.sqrt(C)/(A+b)-1)*s+1)),o=Math.acos(R)*a,g=A+b*R,v=b*Math.sin(o),F=Math.atan2(I*g-S*v,S*g+I*v)}else{var R=(g=h*b)*g,_=(v=l*b)*v,W=Math.atan2(I,S),P=-2*_*A,V=_-R;if(0<=(x=P*P-4*V*(y=_*A*A+R*C-R*_))){var k=Math.sqrt(x),P=(k=-(P+(k=P<0?-k:k))/2)/V,V=y/k,k=Math.abs(P)<Math.abs(V)?P:V;if(k*k<=C){T=Math.sqrt(C-k*k)*a,F=W-Math.atan2(T,k),o=Math.atan2(T/l,(k-A)/h);break t}}var P=z.MathUtils.PI,V=A-g,k=V*V,q=0,H=0,N=A+g,j=N*N,G=0;-1<=(y=-g*A/(R-_))&&y<=1&&(y=Math.acos(y),(x=(E=g*Math.cos(y)+A)*E+(T=v*Math.sin(y))*T)<k&&(P=y,k=x,V=E,q=T),j<x&&(H=y,j=x,N=E,G=T)),o=C<=(k+j)/2?(F=W-Math.atan2(q*a,V),P*a):(F=W-Math.atan2(G*a,N),H*a)}var F,i=Math.atan2(p,d)*c,w=t.arotation;180<(F=(F-i)*z.MathUtils.radDeg+U-w)?F-=360:F<-180&&(F+=360),t.updateWorldTransformWith(O,D,w+F*s,B,t.ascaleY,0,0),w=e.arotation,180<(o=((o+i)*z.MathUtils.radDeg-e.ashearX)*c+Y-w)?o-=360:o<-180&&(o+=360),e.updateWorldTransformWith(d,p,w+o*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},z.IkConstraint=t}(spine=spine||{}),function(t){e=t.ConstraintData,__extends(i,e);var e,n=i;function i(t){t=e.call(this,t,0,!1)||this;return t.bones=new Array,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}t.IkConstraintData=n}(spine=spine||{}),function(z){function Z(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,i=t.bones.length;n<i;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}Z.prototype.isActive=function(){return this.active},Z.prototype.apply=function(){this.update()},Z.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof z.PathAttachment){var e=this.rotateMix,n=this.translateMix,i=0<e;if(0<n||i){var a=this.data,r=a.spacingMode==z.SpacingMode.Percent,s=a.rotateMode,o=s==z.RotateMode.Tangent,h=s==z.RotateMode.ChainScale,l=this.bones.length,u=o?l:l+1,c=this.bones,d=z.Utils.setArraySize(this.spaces,u),p=null,f=this.spacing;if(h||!r){h&&(p=z.Utils.setArraySize(this.lengths,l));for(var L=a.spacingMode==z.SpacingMode.Length,m=0,O=u-1;m<O;){var g,v=(T=c[m]).data.length;v<Z.epsilon?(h&&(p[m]=0),d[++m]=0):r?(h&&(b=v*T.a,S=v*T.c,g=Math.sqrt(b*b+S*S),p[m]=g),d[++m]=f):(b=v*T.a,S=v*T.c,g=Math.sqrt(b*b+S*S),h&&(p[m]=g),d[++m]=(L?v+f:f)*g/v)}}else for(m=1;m<u;m++)d[m]=f;var y=this.computeWorldPositions(t,u,o,a.positionMode==z.PositionMode.Percent,r),x=y[0],w=y[1],M=a.offsetRotation,E=!1;0==M?E=s==z.RotateMode.Chain:(E=!1,M*=0<(A=this.target.bone).a*A.d-A.b*A.c?z.MathUtils.degRad:-z.MathUtils.degRad);for(var T,m=0,A=3;m<l;m++,A+=3){(T=c[m]).worldX+=(x-T.worldX)*n,T.worldY+=(w-T.worldY)*n;var b,S,I,C,R,_,P,V,D,k,N=(b=y[A])-x,F=(S=y[A+1])-w;!h||0!=(I=p[m])&&(I=(Math.sqrt(N*N+F*F)/I-1)*e+1,T.a*=I,T.c*=I),x=b,w=S,i&&(I=T.a,C=T.b,R=T.c,_=T.d,V=P=k=0,k=o?y[A-1]:0==d[m+1]?y[A+2]:Math.atan2(F,N),k-=Math.atan2(R,I),E?(P=Math.cos(k),V=Math.sin(k),x+=((D=T.data.length)*(P*I-V*R)-N)*e,w+=(D*(V*I+P*R)-F)*e):k+=M,k>z.MathUtils.PI?k-=z.MathUtils.PI2:k<-z.MathUtils.PI&&(k+=z.MathUtils.PI2),k*=e,P=Math.cos(k),V=Math.sin(k),T.a=P*I-V*R,T.b=P*C-V*_,T.c=V*I+P*R,T.d=V*C+P*_),T.appliedValid=!1}}}},Z.prototype.computeWorldPositions=function(t,e,L,O,D){var n=this.target,i=this.position,a=this.spaces,r=z.Utils.setArraySize(this.positions,3*e+2),s=null,o=t.closed,h=t.worldVerticesLength,l=h/6,u=Z.NONE;if(!t.constantSpeed){var B=t.lengths,c=B[l-=o?1:2];if(O&&(i*=c),D)for(var d=1;d<e;d++)a[d]*=c;for(var s=z.Utils.setArraySize(this.world,8),d=0,p=0,f=0;d<e;d++,p+=3){var m=i+=H=a[d];if(o)(m%=c)<0&&(m+=c),f=0;else{if(m<0){u!=Z.BEFORE&&(u=Z.BEFORE,t.computeWorldVertices(n,2,4,s,0,2)),this.addBeforePosition(m,s,0,r,p);continue}if(c<m){u!=Z.AFTER&&(u=Z.AFTER,t.computeWorldVertices(n,h-6,4,s,0,2)),this.addAfterPosition(m-c,s,0,r,p);continue}}for(;;f++){var U=B[f];if(!(U<m)){0==f?m/=U:m=(m-(F=B[f-1]))/(U-F);break}}f!=u&&(u=f,o&&f==l?(t.computeWorldVertices(n,h-4,4,s,0,2),t.computeWorldVertices(n,0,4,s,4,2)):t.computeWorldVertices(n,6*f+2,8,s,0,2)),this.addCurvePosition(m,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],r,p,L||0<d&&0==H)}return r}o?(s=z.Utils.setArraySize(this.world,h+=2),t.computeWorldVertices(n,2,h-4,s,0,2),t.computeWorldVertices(n,0,2,s,h-4,2),s[h-2]=s[0],s[h-1]=s[1]):(l--,s=z.Utils.setArraySize(this.world,h-=4),t.computeWorldVertices(n,2,h,s,0,2));for(var Y=z.Utils.setArraySize(this.curves,l),g=0,v=s[0],y=s[1],x=0,w=0,M=0,E=0,T=0,X=0,W=0,q=0,A=0,b=0,S=0,I=0,C=0,R=0,d=0,_=2;d<l;d++,_+=6)x=s[_],w=s[_+1],M=s[_+2],E=s[_+3],S=2*(W=.1875*(v-2*x+M))+(A=.09375*(3*(x-M)-v+(T=s[_+4]))),I=2*(q=.1875*(y-2*w+E))+(b=.09375*(3*(w-E)-y+(X=s[_+5]))),C=.75*(x-v)+W+.16666667*A,R=.75*(w-y)+q+.16666667*b,g+=Math.sqrt(C*C+R*R),C+=S,R+=I,S+=A,I+=b,g+=Math.sqrt(C*C+R*R),C+=S,R+=I,g+=Math.sqrt(C*C+R*R),C+=S+A,R+=I+b,g+=Math.sqrt(C*C+R*R),Y[d]=g,v=T,y=X;if(i*=O?g:g/t.lengths[l-1],D)for(d=1;d<e;d++)a[d]*=g;for(var P=this.segments,V=0,d=0,p=0,f=0,k=0;d<e;d++,p+=3){var H,m=i+=H=a[d];if(o)(m%=g)<0&&(m+=g),f=0;else{if(m<0){this.addBeforePosition(m,s,0,r,p);continue}if(g<m){this.addAfterPosition(m-g,s,h-4,r,p);continue}}for(;;f++){var j=Y[f];if(!(j<m)){0==f?m/=j:m=(m-(F=Y[f-1]))/(j-F);break}}if(f!=u){var u=f,N=6*f,v=s[N],y=s[N+1],x=s[N+2],w=s[N+3],M=s[N+4],E=s[N+5],S=2*(W=.03*(v-2*x+M))+(A=.006*(3*(x-M)-v+(T=s[N+6]))),I=2*(q=.03*(y-2*w+E))+(b=.006*(3*(w-E)-y+(X=s[N+7]))),C=.3*(x-v)+W+.16666667*A,R=.3*(w-y)+q+.16666667*b,V=Math.sqrt(C*C+R*R);for(P[0]=V,N=1;N<8;N++)C+=S,R+=I,S+=A,I+=b,V+=Math.sqrt(C*C+R*R),P[N]=V;C+=S,R+=I,V+=Math.sqrt(C*C+R*R),P[8]=V,C+=S+A,R+=I+b,V+=Math.sqrt(C*C+R*R),P[9]=V,k=0}for(m*=V;;k++){var F,G=P[k];if(!(G<m)){0==k?m/=G:m=k+(m-(F=P[k-1]))/(G-F);break}}this.addCurvePosition(.1*m,v,y,x,w,M,E,T,X,r,p,L||0<d&&0==H)}return r},Z.prototype.addBeforePosition=function(t,e,n,i,a){var r=e[n],s=e[n+1],o=e[n+2]-r,e=e[n+3]-s,n=Math.atan2(e,o);i[a]=r+t*Math.cos(n),i[a+1]=s+t*Math.sin(n),i[a+2]=n},Z.prototype.addAfterPosition=function(t,e,n,i,a){var r=e[n+2],s=e[n+3],o=r-e[n],e=s-e[n+1],n=Math.atan2(e,o);i[a]=r+t*Math.cos(n),i[a+1]=s+t*Math.sin(n),i[a+2]=n},Z.prototype.addCurvePosition=function(t,e,n,i,a,r,s,o,h,l,u,c){if(0==t||isNaN(t))return l[u]=e,l[u+1]=n,void(l[u+2]=Math.atan2(a-n,i-e));var d=t*t,p=d*t,f=1-t,m=f*f,g=m*f,v=f*t,y=3*v,f=f*y,y=y*t,o=e*g+i*f+r*y+o*p,g=n*g+a*f+s*y+h*p;l[u]=o,l[u+1]=g,c&&(l[u+2]=t<.001?Math.atan2(a-n,i-e):Math.atan2(g-(n*m+a*v*2+s*d),o-(e*m+i*v*2+r*d)))},Z.NONE=-1,Z.BEFORE=-2,Z.AFTER=-3,Z.epsilon=1e-5,z.PathConstraint=Z}(spine=spine||{}),function(t){e=t.ConstraintData,__extends(i,e);var e,n=i;function i(t){t=e.call(this,t,0,!1)||this;return t.bones=new Array,t}t.PathConstraintData=n,(n=t.PositionMode||(t.PositionMode={}))[n.Fixed=0]="Fixed",n[n.Percent=1]="Percent",(n=t.SpacingMode||(t.SpacingMode={}))[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",(n=t.RotateMode||(t.RotateMode={}))[n.Tangent=0]="Tangent",n[n.Chain=1]="Chain",n[n.ChainScale=2]="ChainScale"}(spine=spine||{}),function(t){e.prototype.loaded=function(){var t,e=0;for(t in this.assets)e++;return e};var a=e;function e(t){this.toLoad=new Array,this.assets={},this.clientId=t}function n(t){void 0===t&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}n.prototype.queueAsset=function(t,e,n){var i=this.clientAssets[t];return null==i&&(i=new a(t),this.clientAssets[t]=i),null!==e&&(i.textureLoader=e),i.toLoad.push(n),this.queuedAssets[n]!==n&&(this.queuedAssets[n]=n,!0)},n.prototype.loadText=function(t,e){var n,i=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).overrideMimeType("text/html"),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?i.rawAssets[e]=n.responseText:i.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},n.prototype.loadJson=function(t,e){var n,i=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).overrideMimeType("text/html"),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?i.rawAssets[e]=JSON.parse(n.responseText):i.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},n.prototype.loadTexture=function(t,e,n){var i,a=this;n=this.pathPrefix+n,this.queueAsset(t,e,n)&&((i=new Image).crossOrigin="anonymous",i.onload=function(t){a.rawAssets[n]=i},i.onerror=function(t){a.errors[n]="Couldn't load image "+n},i.src=n)},n.prototype.get=function(t,e){e=this.pathPrefix+e;t=this.clientAssets[t];return null==t||t.assets[e]},n.prototype.updateClientAssets=function(t){for(var e=0;e<t.toLoad.length;e++){var n=t.toLoad[e],i=t.assets[n];null!=i||null!=(i=this.rawAssets[n])&&(i instanceof HTMLImageElement?t.assets[n]=t.textureLoader(i):t.assets[n]=i)}},n.prototype.isLoadingComplete=function(t){t=this.clientAssets[t];return null==t||(this.updateClientAssets(t),t.toLoad.length==t.loaded())},n.prototype.dispose=function(){},n.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},n.prototype.getErrors=function(){return this.errors},t.SharedAssetManager=n}(spine=spine||{}),function(y){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n,i=t.bones[e],a=void 0;null==i.parent?a=new y.Bone(i,this,null):(n=this.bones[i.parent.index],a=new y.Bone(i,this,n),n.children.push(a)),this.bones.push(a)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var r=t.slots[e],a=this.bones[r.boneData.index],r=new y.Slot(r,a);this.slots.push(r),this.drawOrder.push(r)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new y.IkConstraint(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var o=t.transformConstraints[e];this.transformConstraints.push(new y.TransformConstraint(o,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new y.PathConstraint(h,this))}this.color=new y.Color(1,1,1,1),this.updateCache()}t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)(a=t[e]).sorted=a.data.skinRequired,a.active=!a.sorted;if(null!=this.skin)for(var i=this.skin.bones,e=0,n=this.skin.bones.length;e<n;e++)for(var a=this.bones[i[e].index];a.sorted=!1,a.active=!0,null!=(a=a.parent););var r=this.ikConstraints,s=this.transformConstraints,o=this.pathConstraints,h=r.length,l=s.length,u=o.length,c=h+l+u;t:for(e=0;e<c;e++){for(var d=0;d<h;d++)if((p=r[d]).data.order==e){this.sortIkConstraint(p);continue t}for(d=0;d<l;d++)if((p=s[d]).data.order==e){this.sortTransformConstraint(p);continue t}for(var p,d=0;d<u;d++)if((p=o[d]).data.order==e){this.sortPathConstraint(p);continue t}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){var e,n,i;t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active&&(e=t.target,this.sortBone(e),n=(e=t.bones)[0],this.sortBone(n),1<e.length&&(i=e[e.length-1],-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)),this._updateCache.push(t),this.sortReset(n.children),e[e.length-1].sorted=!0)},t.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,i=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var a=0,r=this.data.skins.length;a<r;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,i);for(var e=e.getAttachment(),s=(e instanceof y.PathAttachment&&this.sortPathConstraintAttachmentWith(e,i),t.bones),o=s.length,a=0;a<o;a++)this.sortBone(s[a]);this._updateCache.push(t);for(a=0;a<o;a++)this.sortReset(s[a].children);for(a=0;a<o;a++)s[a].sorted=!0}},t.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var a=e[i];this.sortBone(a.parent),-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)}else for(i=0;i<n;i++)this.sortBone(e[i]);this._updateCache.push(t);for(var r=0;r<n;r++)this.sortReset(e[r].children);for(r=0;r<n;r++)e[r].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(t,e,n){var i=t.attachments[e];if(i)for(var a in i)this.sortPathConstraintAttachmentWith(i[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof y.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var i=this.bones,a=0;a<n.length;)for(var r=n[a++],s=a+r;a<s;a++){var o=n[a];this.sortBone(i[o])}}},t.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},t.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var a=this._updateCache,e=0,n=a.length;e<n;e++)a[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,e=0,n=i.length;e<n;e++)(o=i[e]).mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;for(var a=this.transformConstraints,e=0,n=a.length;e<n;e++){var r=(o=a[e]).data;o.rotateMix=r.rotateMix,o.translateMix=r.translateMix,o.scaleMix=r.scaleMix,o.shearMix=r.shearMix}for(var s=this.pathConstraints,e=0,n=s.length;e<n;e++){var o,r=(o=s[e]).data;o.position=r.position,o.spacing=r.spacing,o.rotateMix=r.rotateMix,o.translateMix=r.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;y.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n],r=a.data.attachmentName;null==r||null!=(r=t.getAttachment(n,r))&&a.setAttachment(r)}this.skin=t,this.updateCache()}},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,a=n.length;i<a;i++){var r=n[i];if(r.data.name==t){var s=null;if(null!=e&&null==(s=this.getAttachment(i,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void r.setAttachment(s)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.getBounds=function(t,e,n){if(void 0===n&&(n=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=0,l=i.length;h<l;h++){var u=i[h];if(u.bone.active){var c=0,d=null,p=u.getAttachment();if(p instanceof y.RegionAttachment?(d=y.Utils.setArraySize(n,c=8,0),p.computeWorldVertices(u.bone,d,0,2)):p instanceof y.MeshAttachment&&(c=(p=p).worldVerticesLength,d=y.Utils.setArraySize(n,c,0),p.computeWorldVertices(u,0,c,d,0,2)),null!=d)for(var f=0,m=d.length;f<m;f+=2)var g=d[f],v=d[f+1],a=Math.min(a,g),r=Math.min(r,v),s=Math.max(s,g),o=Math.max(o,v)}}t.set(a,r),e.set(s-a,o-r)},t.prototype.update=function(t){this.time+=t},y.Skeleton=t}(spine=spine||{}),function(q){H.prototype.readSkeletonData=function(t){var e=this.scale,n=new q.SkeletonData,i=(n.name="",new g(t));if(n.hash=i.readString(),n.version=i.readString(),"3.8.75"==n.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();for(var a=i.readBoolean(),r=(a&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString()),0),r=i.readInt(!0),s=0;s<r;s++)i.strings.push(i.readString());r=i.readInt(!0);for(s=0;s<r;s++){var o=i.readString(),h=0==s?null:n.bones[i.readInt(!0)];(c=new q.BoneData(s,o,h)).rotation=i.readFloat(),c.x=i.readFloat()*e,c.y=i.readFloat()*e,c.scaleX=i.readFloat(),c.scaleY=i.readFloat(),c.shearX=i.readFloat(),c.shearY=i.readFloat(),c.length=i.readFloat()*e,c.transformMode=H.TransformModeValues[i.readInt(!0)],c.skinRequired=i.readBoolean(),a&&q.Color.rgba8888ToColor(c.color,i.readInt32()),n.bones.push(c)}r=i.readInt(!0);for(s=0;s<r;s++){var l=i.readString(),u=n.bones[i.readInt(!0)],c=new q.SlotData(s,l,u),l=(q.Color.rgba8888ToColor(c.color,i.readInt32()),i.readInt32());-1!=l&&q.Color.rgb888ToColor(c.darkColor=new q.Color,l),c.attachmentName=i.readStringRef(),c.blendMode=H.BlendModeValues[i.readInt(!0)],n.slots.push(c)}r=i.readInt(!0);for(var s=0,d=void 0;s<r;s++){(c=new q.IkConstraintData(i.readString())).order=i.readInt(!0),c.skinRequired=i.readBoolean(),d=i.readInt(!0);for(var p=0;p<d;p++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.mix=i.readFloat(),c.softness=i.readFloat()*e,c.bendDirection=i.readByte(),c.compress=i.readBoolean(),c.stretch=i.readBoolean(),c.uniform=i.readBoolean(),n.ikConstraints.push(c)}r=i.readInt(!0);for(s=0,d=void 0;s<r;s++){(c=new q.TransformConstraintData(i.readString())).order=i.readInt(!0),c.skinRequired=i.readBoolean(),d=i.readInt(!0);for(p=0;p<d;p++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.bones[i.readInt(!0)],c.local=i.readBoolean(),c.relative=i.readBoolean(),c.offsetRotation=i.readFloat(),c.offsetX=i.readFloat()*e,c.offsetY=i.readFloat()*e,c.offsetScaleX=i.readFloat(),c.offsetScaleY=i.readFloat(),c.offsetShearY=i.readFloat(),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),c.scaleMix=i.readFloat(),c.shearMix=i.readFloat(),n.transformConstraints.push(c)}r=i.readInt(!0);for(s=0,d=void 0;s<r;s++){(c=new q.PathConstraintData(i.readString())).order=i.readInt(!0),c.skinRequired=i.readBoolean(),d=i.readInt(!0);for(p=0;p<d;p++)c.bones.push(n.bones[i.readInt(!0)]);c.target=n.slots[i.readInt(!0)],c.positionMode=H.PositionModeValues[i.readInt(!0)],c.spacingMode=H.SpacingModeValues[i.readInt(!0)],c.rotateMode=H.RotateModeValues[i.readInt(!0)],c.offsetRotation=i.readFloat(),c.position=i.readFloat(),c.positionMode==q.PositionMode.Fixed&&(c.position*=e),c.spacing=i.readFloat(),c.spacingMode!=q.SpacingMode.Length&&c.spacingMode!=q.SpacingMode.Fixed||(c.spacing*=e),c.rotateMix=i.readFloat(),c.translateMix=i.readFloat(),n.pathConstraints.push(c)}var t=this.readSkin(i,n,!0,a),s=(null!=t&&(n.defaultSkin=t,n.skins.push(t)),n.skins.length);for(q.Utils.setArraySize(n.skins,r=s+i.readInt(!0));s<r;s++)n.skins[s]=this.readSkin(i,n,!1,a);r=this.linkedMeshes.length;for(s=0;s<r;s++){var f=this.linkedMeshes[s],m=null==f.skin?n.defaultSkin:n.findSkin(f.skin);if(null==m)throw new Error("Skin not found: "+f.skin);m=m.getAttachment(f.slotIndex,f.parent);if(null==m)throw new Error("Parent mesh not found: "+f.parent);f.mesh.deformAttachment=f.inheritDeform?m:f.mesh,f.mesh.setParentMesh(m),f.mesh.updateUVs()}this.linkedMeshes.length=0,r=i.readInt(!0);for(s=0;s<r;s++)(c=new q.EventData(i.readStringRef())).intValue=i.readInt(!1),c.floatValue=i.readFloat(),c.stringValue=i.readString(),c.audioPath=i.readString(),null!=c.audioPath&&(c.volume=i.readFloat(),c.balance=i.readFloat()),n.events.push(c);r=i.readInt(!0);for(s=0;s<r;s++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},H.prototype.readSkin=function(t,e,n,i){var a=null,r=0;if(n){if(0==(r=t.readInt(!0)))return null;a=new q.Skin("default")}else{(a=new q.Skin(t.readStringRef())).bones.length=t.readInt(!0);for(var s=0,o=a.bones.length;s<o;s++)a.bones[s]=e.bones[t.readInt(!0)];for(s=0,o=t.readInt(!0);s<o;s++)a.constraints.push(e.ikConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)a.constraints.push(e.transformConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)a.constraints.push(e.pathConstraints[t.readInt(!0)]);r=t.readInt(!0)}for(s=0;s<r;s++)for(var h=t.readInt(!0),l=0,u=t.readInt(!0);l<u;l++){var c=t.readStringRef(),d=this.readAttachment(t,e,a,h,c,i);null!=d&&a.setAttachment(h,c,d)}return a},H.prototype.readAttachment=function(t,e,n,i,a,r){var s=this.scale,o=t.readStringRef(),a=(null==o&&(o=a),t.readByte());switch(H.AttachmentTypeValues[a]){case q.AttachmentType.Region:var h=t.readStringRef(),l=t.readFloat(),u=t.readFloat(),c=t.readFloat(),d=t.readFloat(),p=t.readFloat(),f=t.readFloat(),m=t.readFloat(),g=t.readInt32(),v=(null==h&&(h=o),this.attachmentLoader.newRegionAttachment(n,o,h));return null==v?null:(v.path=h,v.x=u*s,v.y=c*s,v.scaleX=d,v.scaleY=p,v.rotation=l,v.width=f*s,v.height=m*s,q.Color.rgba8888ToColor(v.color,g),v.updateOffset(),v);case q.AttachmentType.BoundingBox:var y=t.readInt(!0),x=this.readVertices(t,y),g=r?t.readInt32():0,d=this.attachmentLoader.newBoundingBoxAttachment(n,o);return null==d?null:(d.worldVerticesLength=y<<1,d.vertices=x.vertices,d.bones=x.bones,r&&q.Color.rgba8888ToColor(d.color,g),d);case q.AttachmentType.Mesh:var h=t.readStringRef(),g=t.readInt32(),y=t.readInt(!0),p=this.readFloatArray(t,y<<1,1),v=this.readShortArray(t),x=this.readVertices(t,y),d=t.readInt(!0),w=null,f=0,m=0;return r&&(w=this.readShortArray(t),f=t.readFloat(),m=t.readFloat()),null==h&&(h=o),null==(M=this.attachmentLoader.newMeshAttachment(n,o,h))?null:(M.path=h,q.Color.rgba8888ToColor(M.color,g),M.bones=x.bones,M.vertices=x.vertices,M.worldVerticesLength=y<<1,M.triangles=v,M.regionUVs=p,M.updateUVs(),M.hullLength=d<<1,r&&(M.edges=w,M.width=f*s,M.height=m*s),M);case q.AttachmentType.LinkedMesh:var M,h=t.readStringRef(),g=t.readInt32(),v=t.readStringRef(),p=t.readStringRef(),d=t.readBoolean(),f=0,m=0;return r&&(f=t.readFloat(),m=t.readFloat()),null==h&&(h=o),null==(M=this.attachmentLoader.newMeshAttachment(n,o,h))?null:(M.path=h,q.Color.rgba8888ToColor(M.color,g),r&&(M.width=f*s,M.height=m*s),this.linkedMeshes.push(new b(M,v,i,p,d)),M);case q.AttachmentType.Path:for(var w=t.readBoolean(),f=t.readBoolean(),y=t.readInt(!0),x=this.readVertices(t,y),E=q.Utils.newArray(y/3,0),T=0,A=E.length;T<A;T++)E[T]=t.readFloat()*s;g=r?t.readInt32():0;return null==(h=this.attachmentLoader.newPathAttachment(n,o))?null:(h.closed=w,h.constantSpeed=f,h.worldVerticesLength=y<<1,h.vertices=x.vertices,h.bones=x.bones,h.lengths=E,r&&q.Color.rgba8888ToColor(h.color,g),h);case q.AttachmentType.Point:l=t.readFloat(),u=t.readFloat(),c=t.readFloat(),g=r?t.readInt32():0,m=this.attachmentLoader.newPointAttachment(n,o);return null==m?null:(m.x=u*s,m.y=c*s,m.rotation=l,r&&q.Color.rgba8888ToColor(m.color,g),m);case q.AttachmentType.Clipping:v=t.readInt(!0),y=t.readInt(!0),x=this.readVertices(t,y),g=r?t.readInt32():0,p=this.attachmentLoader.newClippingAttachment(n,o);return null==p?null:(p.endSlot=e.slots[v],p.worldVerticesLength=y<<1,p.vertices=x.vertices,p.bones=x.bones,r&&q.Color.rgba8888ToColor(p.color,g),p)}return null},H.prototype.readVertices=function(t,e){var n=e<<1,i=new u,a=this.scale;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,n,a),i;for(var r=new Array,s=new Array,o=0;o<e;o++){var h=t.readInt(!0);s.push(h);for(var l=0;l<h;l++)s.push(t.readInt(!0)),r.push(t.readFloat()*a),r.push(t.readFloat()*a),r.push(t.readFloat())}return i.vertices=q.Utils.toFloatArray(r),i.bones=s,i},H.prototype.readFloatArray=function(t,e,n){var i=new Array(e);if(1==n)for(var a=0;a<e;a++)i[a]=t.readFloat();else for(a=0;a<e;a++)i[a]=t.readFloat()*n;return i},H.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),i=0;i<e;i++)n[i]=t.readShort();return n},H.prototype.readAnimation=function(t,L,e){for(var n=new Array,i=this.scale,a=0,r=new q.Color,s=new q.Color,o=0,h=t.readInt(!0);o<h;o++)for(var l=t.readInt(!0),u=0,c=t.readInt(!0);u<c;u++){var d=t.readByte(),p=t.readInt(!0);switch(d){case H.SLOT_ATTACHMENT:(v=new q.AttachmentTimeline(p)).slotIndex=l;for(var f=0;f<p;f++)v.setFrame(f,t.readFloat(),t.readStringRef());n.push(v),a=Math.max(a,v.frames[p-1]);break;case H.SLOT_COLOR:(v=new q.ColorTimeline(p)).slotIndex=l;for(f=0;f<p;f++){var m=t.readFloat();q.Color.rgba8888ToColor(r,t.readInt32()),v.setFrame(f,m,r.r,r.g,r.b,r.a),f<p-1&&this.readCurve(t,f,v)}n.push(v),a=Math.max(a,v.frames[(p-1)*q.ColorTimeline.ENTRIES]);break;case H.SLOT_TWO_COLOR:(v=new q.TwoColorTimeline(p)).slotIndex=l;for(f=0;f<p;f++){m=t.readFloat();q.Color.rgba8888ToColor(r,t.readInt32()),q.Color.rgb888ToColor(s,t.readInt32()),v.setFrame(f,m,r.r,r.g,r.b,r.a,s.r,s.g,s.b),f<p-1&&this.readCurve(t,f,v)}n.push(v),a=Math.max(a,v.frames[(p-1)*q.TwoColorTimeline.ENTRIES])}}for(o=0,h=t.readInt(!0);o<h;o++)for(var g=t.readInt(!0),u=0,c=t.readInt(!0);u<c;u++){d=t.readByte(),p=t.readInt(!0);switch(d){case H.BONE_ROTATE:(v=new q.RotateTimeline(p)).boneIndex=g;for(f=0;f<p;f++)v.setFrame(f,t.readFloat(),t.readFloat()),f<p-1&&this.readCurve(t,f,v);n.push(v),a=Math.max(a,v.frames[(p-1)*q.RotateTimeline.ENTRIES]);break;case H.BONE_TRANSLATE:case H.BONE_SCALE:case H.BONE_SHEAR:var v=void 0,y=1;d==H.BONE_SCALE?v=new q.ScaleTimeline(p):d==H.BONE_SHEAR?v=new q.ShearTimeline(p):(v=new q.TranslateTimeline(p),y=i),v.boneIndex=g;for(f=0;f<p;f++)v.setFrame(f,t.readFloat(),t.readFloat()*y,t.readFloat()*y),f<p-1&&this.readCurve(t,f,v);n.push(v),a=Math.max(a,v.frames[(p-1)*q.TranslateTimeline.ENTRIES])}}for(o=0,h=t.readInt(!0);o<h;o++){var x=t.readInt(!0),p=t.readInt(!0);(v=new q.IkConstraintTimeline(p)).ikConstraintIndex=x;for(f=0;f<p;f++)v.setFrame(f,t.readFloat(),t.readFloat(),t.readFloat()*i,t.readByte(),t.readBoolean(),t.readBoolean()),f<p-1&&this.readCurve(t,f,v);n.push(v),a=Math.max(a,v.frames[(p-1)*q.IkConstraintTimeline.ENTRIES])}for(o=0,h=t.readInt(!0);o<h;o++){x=t.readInt(!0),p=t.readInt(!0);(v=new q.TransformConstraintTimeline(p)).transformConstraintIndex=x;for(f=0;f<p;f++)v.setFrame(f,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),f<p-1&&this.readCurve(t,f,v);n.push(v),a=Math.max(a,v.frames[(p-1)*q.TransformConstraintTimeline.ENTRIES])}for(o=0,h=t.readInt(!0);o<h;o++)for(var x=t.readInt(!0),w=e.pathConstraints[x],u=0,c=t.readInt(!0);u<c;u++){d=t.readByte(),p=t.readInt(!0);switch(d){case H.PATH_POSITION:case H.PATH_SPACING:var v=void 0,y=1;d==H.PATH_SPACING?(v=new q.PathConstraintSpacingTimeline(p),w.spacingMode!=q.SpacingMode.Length&&w.spacingMode!=q.SpacingMode.Fixed||(y=i)):(v=new q.PathConstraintPositionTimeline(p),w.positionMode==q.PositionMode.Fixed&&(y=i)),v.pathConstraintIndex=x;for(f=0;f<p;f++)v.setFrame(f,t.readFloat(),t.readFloat()*y),f<p-1&&this.readCurve(t,f,v);n.push(v),a=Math.max(a,v.frames[(p-1)*q.PathConstraintPositionTimeline.ENTRIES]);break;case H.PATH_MIX:(v=new q.PathConstraintMixTimeline(p)).pathConstraintIndex=x;for(f=0;f<p;f++)v.setFrame(f,t.readFloat(),t.readFloat(),t.readFloat()),f<p-1&&this.readCurve(t,f,v);n.push(v),a=Math.max(a,v.frames[(p-1)*q.PathConstraintMixTimeline.ENTRIES])}}for(o=0,h=t.readInt(!0);o<h;o++)for(var O=e.skins[t.readInt(!0)],u=0,c=t.readInt(!0);u<c;u++)for(var l=t.readInt(!0),D=0,B=t.readInt(!0);D<B;D++){var M=O.getAttachment(l,t.readStringRef()),E=null!=M.bones,T=M.vertices,U=E?T.length/3*2:T.length,p=t.readInt(!0);(v=new q.DeformTimeline(p)).slotIndex=l,v.attachment=M;for(f=0;f<p;f++){var m=t.readFloat(),A=void 0,b=t.readInt(!0);if(0==b)A=E?q.Utils.newFloatArray(U):T;else{var A=q.Utils.newFloatArray(U),S=t.readInt(!0);if(b+=S,1==i)for(var I=S;I<b;I++)A[I]=t.readFloat();else for(I=S;I<b;I++)A[I]=t.readFloat()*i;if(!E)for(var I=0,Y=A.length;I<Y;I++)A[I]+=T[I]}v.setFrame(f,m,A),f<p-1&&this.readCurve(t,f,v)}n.push(v),a=Math.max(a,v.frames[p-1])}var C=t.readInt(!0);if(0<C){for(var v=new q.DrawOrderTimeline(C),R=e.slots.length,o=0;o<C;o++){for(var m=t.readFloat(),X=t.readInt(!0),_=q.Utils.newArray(R,0),u=R-1;0<=u;u--)_[u]=-1;for(var P=q.Utils.newArray(R-X,0),V=0,k=0,u=0;u<X;u++){for(l=t.readInt(!0);V!=l;)P[k++]=V++;_[V+t.readInt(!0)]=V++}for(;V<R;)P[k++]=V++;for(u=R-1;0<=u;u--)-1==_[u]&&(_[u]=P[--k]);v.setFrame(o,m,_)}n.push(v),a=Math.max(a,v.frames[C-1])}var N=t.readInt(!0);if(0<N){for(v=new q.EventTimeline(N),o=0;o<N;o++){var m=t.readFloat(),W=e.events[t.readInt(!0)],F=new q.Event(m,W);F.intValue=t.readInt(!1),F.floatValue=t.readFloat(),F.stringValue=t.readBoolean()?t.readString():W.stringValue,null!=F.data.audioPath&&(F.volume=t.readFloat(),F.balance=t.readFloat()),v.setFrame(o,F)}n.push(v),a=Math.max(a,v.frames[N-1])}return new q.Animation(L,n,a)},H.prototype.readCurve=function(t,e,n){switch(t.readByte()){case H.CURVE_STEPPED:n.setStepped(e);break;case H.CURVE_BEZIER:this.setCurve(n,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},H.prototype.setCurve=function(t,e,n,i,a,r){t.setCurve(e,n,i,a,r)},H.AttachmentTypeValues=[0,1,2,3,4,5,6],H.TransformModeValues=[q.TransformMode.Normal,q.TransformMode.OnlyTranslation,q.TransformMode.NoRotationOrReflection,q.TransformMode.NoScale,q.TransformMode.NoScaleOrReflection],H.PositionModeValues=[q.PositionMode.Fixed,q.PositionMode.Percent],H.SpacingModeValues=[q.SpacingMode.Length,q.SpacingMode.Fixed,q.SpacingMode.Percent],H.RotateModeValues=[q.RotateMode.Tangent,q.RotateMode.Chain,q.RotateMode.ChainScale],H.BlendModeValues=[q.BlendMode.Normal,q.BlendMode.Additive,q.BlendMode.Multiply,q.BlendMode.Screen],H.BONE_ROTATE=0,H.BONE_TRANSLATE=1,H.BONE_SCALE=2,H.BONE_SHEAR=3,H.SLOT_ATTACHMENT=0,H.SLOT_COLOR=1,H.SLOT_TWO_COLOR=2,H.PATH_POSITION=0,H.PATH_SPACING=1,H.PATH_MIX=2,H.CURVE_LINEAR=0,H.CURVE_STEPPED=1,H.CURVE_BEZIER=2;var t=H;function H(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}q.SkeletonBinary=t;e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.prototype.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&this.readByte())<<28)))),t?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var i=this.readByte();switch(i>>4){case 12:case 13:e+=String.fromCharCode((31&i)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&i)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(i),n++}}return e},e.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.prototype.readBoolean=function(){return 0!=this.readByte()};var g=e;function e(t,e,n,i){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===i&&(i=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=i}var b=function(t,e,n,i,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritDeform=a},u=function(t,e){void 0===e&&(e=null),this.bones=t=void 0===t?null:t,this.vertices=e}}(spine=spine||{}),function(c){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new c.Pool(function(){return c.Utils.newFloatArray(16)})}t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,a=this.polygonPool,r=t.slots,s=r.length;n.length=0,a.freeAll(i);for(var o=i.length=0;o<s;o++){var h,l,u=r[o];u.bone.active&&((h=u.getAttachment())instanceof c.BoundingBoxAttachment&&(n.push(h=h),(l=a.obtain()).length!=h.worldVerticesLength&&(l=c.Utils.newFloatArray(h.worldVerticesLength)),i.push(l),h.computeWorldVertices(u,0,h.worldVerticesLength,l,0,2)))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons,r=0,s=a.length;r<s;r++)for(var o=a[r],h=o,l=0,u=o.length;l<u;l+=2)var c=h[l],d=h[l+1],t=Math.min(t,c),e=Math.min(e,d),n=Math.max(n,c),i=Math.max(i,d);this.minX=t,this.minY=e,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,n,i){var a=this.minX,r=this.minY,s=this.maxX,o=this.maxY;if(t<=a&&n<=a||e<=r&&i<=r||s<=t&&s<=n||o<=e&&o<=i)return!1;i=(i-e)/(n-t),n=i*(a-t)+e;if(r<n&&n<o)return!0;if(r<(n=i*(s-t)+e)&&n<o)return!0;n=(r-e)/i+t;return a<n&&n<s||a<(n=(o-e)/i+t)&&n<s},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var n=this.polygons,i=0,a=n.length;i<a;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(t,e,n){for(var i=t,a=t.length,r=a-2,s=!1,o=0;o<a;o+=2){var h,l=i[o+1],u=i[r+1];!(l<n&&n<=u||u<n&&n<=l)||(h=i[o])+(n-l)/(u-l)*(i[r]-h)<e&&(s=!s),r=o}return s},t.prototype.intersectsSegment=function(t,e,n,i){for(var a=this.polygons,r=0,s=a.length;r<s;r++)if(this.intersectsSegmentPolygon(a[r],t,e,n,i))return this.boundingBoxes[r];return null},t.prototype.intersectsSegmentPolygon=function(t,e,n,i,a){for(var r=t,s=t.length,o=e-i,h=n-a,l=e*a-n*i,u=r[s-2],c=r[s-1],d=0;d<s;d+=2){var p=r[d],f=r[d+1],m=u*f-c*p,g=u-p,v=c-f,y=o*v-h*g,g=(l*g-o*m)/y;if((u<=g&&g<=p||p<=g&&g<=u)&&(e<=g&&g<=i||i<=g&&g<=e)){g=(l*v-h*m)/y;if((c<=g&&g<=f||f<=g&&g<=c)&&(n<=g&&g<=a||a<=g&&g<=n))return!0}u=p,c=f}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");t=this.boundingBoxes.indexOf(t);return-1==t?null:this.polygons[t]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},c.SkeletonBounds=t}(spine=spine||{}),function(H){function h(){this.triangulator=new H.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}h.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;for(var n=(this.clipAttachment=e).worldVerticesLength,i=H.Utils.setArraySize(this.clippingPolygon,n),e=(e.computeWorldVertices(t,0,n,i,0,2),this.clippingPolygon),a=(h.makeClockwise(e),this.clippingPolygons=this.triangulator.decompose(e,this.triangulator.triangulate(e))),r=0,s=a.length;r<s;r++){var o=a[r];h.makeClockwise(o),o.push(o[0]),o.push(o[1])}return a.length},h.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},h.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},h.prototype.isClipping=function(){return null!=this.clipAttachment},h.prototype.clipTriangles=function(t,L,e,O,n,i,a,r){var s=this.clipOutput,o=this.clippedVertices,h=this.clippedTriangles,D=this.clippingPolygons,B=this.clippingPolygons.length,l=r?12:8,u=0;o.length=0;t:for(var c=h.length=0;c<O;c+=3)for(var d=e[c]<<1,p=t[d],f=t[1+d],m=n[d],g=n[1+d],v=t[d=e[c+1]<<1],y=t[1+d],x=n[d],w=n[1+d],M=t[d=e[c+2]<<1],E=t[1+d],T=n[d],A=n[1+d],b=0;b<B;b++){var S=o.length;if(!this.clip(p,f,v,y,M,E,D[b],s)){(_=H.Utils.setArraySize(o,S+3*l))[S]=p,_[S+1]=f,_[S+2]=i.r,_[S+3]=i.g,_[S+4]=i.b,_[S+5]=i.a,r?(_[S+6]=m,_[S+7]=g,_[S+8]=a.r,_[S+9]=a.g,_[S+10]=a.b,_[S+11]=a.a,_[S+12]=v,_[S+13]=y,_[S+14]=i.r,_[S+15]=i.g,_[S+16]=i.b,_[S+17]=i.a,_[S+18]=x,_[S+19]=w,_[S+20]=a.r,_[S+21]=a.g,_[S+22]=a.b,_[S+23]=a.a,_[S+24]=M,_[S+25]=E,_[S+26]=i.r,_[S+27]=i.g,_[S+28]=i.b,_[S+29]=i.a,_[S+30]=T,_[S+31]=A,_[S+32]=a.r,_[S+33]=a.g,_[S+34]=a.b,_[S+35]=a.a):(_[S+6]=m,_[S+7]=g,_[S+8]=v,_[S+9]=y,_[S+10]=i.r,_[S+11]=i.g,_[S+12]=i.b,_[S+13]=i.a,_[S+14]=x,_[S+15]=w,_[S+16]=M,_[S+17]=E,_[S+18]=i.r,_[S+19]=i.g,_[S+20]=i.b,_[S+21]=i.a,_[S+22]=T,_[S+23]=A),S=h.length,(F=H.Utils.setArraySize(h,S+3))[S]=u,F[S+1]=u+1,F[S+2]=u+2,u+=3;continue t}var I=s.length;if(0!=I){for(var C=y-E,U=M-v,Y=p-M,X=E-f,W=1/(C*Y+U*(f-E)),R=I>>1,q=this.clipOutput,_=H.Utils.setArraySize(o,S+R*l),P=0;P<I;P+=2){var V=q[P],k=q[P+1],V=(_[S]=V,_[S+1]=k,_[S+2]=i.r,_[S+3]=i.g,_[S+4]=i.b,_[S+5]=i.a,V-M),k=k-E,N=(C*V+U*k)*W,V=(X*V+Y*k)*W,k=1-N-V;_[S+6]=m*N+x*V+T*k,_[S+7]=g*N+w*V+A*k,r&&(_[S+8]=a.r,_[S+9]=a.g,_[S+10]=a.b,_[S+11]=a.a),S+=l}var S=h.length,F=H.Utils.setArraySize(h,S+3*(R-2));R--;for(P=1;P<R;P++)F[S]=u,F[S+1]=u+P,F[S+2]=u+P+1,S+=3;u+=1+R}}},h.prototype.clip=function(t,e,n,i,a,r,s,o){for(var h=o,l=!1,u=null,c=(2<=s.length%4?(u=o,o=this.scratch):u=this.scratch,u.length=0,u.push(t),u.push(e),u.push(n),u.push(i),u.push(a),u.push(r),u.push(t),u.push(e),o.length=0,s),d=s.length-4,p=0;;p+=2){for(var f=c[p],m=c[p+1],g=c[p+2],v=c[p+3],y=f-g,x=m-v,w=u,M=u.length-2,E=o.length,T=0;T<M;T+=2){var A=w[T],b=w[T+1],S=w[T+2],I=w[T+3],C=0<y*(I-v)-x*(S-g);if(0<y*(b-v)-x*(A-g)){if(C){o.push(S),o.push(I);continue}var R,_,P,V=(R=I-b)*(g-f)-(_=S-A)*(v-m);1e-6<Math.abs(V)?(o.push(f+(g-f)*(P=(_*(m-b)-R*(f-A))/V)),o.push(m+(v-m)*P)):(o.push(f),o.push(m))}else C&&(V=(R=I-b)*(g-f)-(_=S-A)*(v-m),1e-6<Math.abs(V)?(o.push(f+(g-f)*(P=(_*(m-b)-R*(f-A))/V)),o.push(m+(v-m)*P)):(o.push(f),o.push(m)),o.push(S),o.push(I));l=!0}if(E==o.length)return!(h.length=0);if(o.push(o[0]),o.push(o[1]),p==d)break;E=o;(o=u).length=0,u=E}if(h!=o)for(var p=h.length=0,k=o.length-2;p<k;p++)h[p]=o[p];else h.length=h.length-2;return l},h.makeClockwise=function(t){for(var e,n,i,a=t,t=t.length,r=a[t-2]*a[1]-a[0]*a[t-1],s=0,o=t-3;s<o;s+=2)e=a[s],n=a[s+1],i=a[s+2],r+=e*a[s+3]-i*n;if(!(r<0))for(var s=0,h=t-2,o=t>>1;s<o;s+=2){var l=a[s],u=a[s+1],c=h-s;a[s]=a[c],a[s+1]=a[1+c],a[c]=l,a[1+c]=u}},H.SkeletonClipping=h}(spine=spine||{}),function(t){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},e.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var a=e[n];if(a.name==t)return a}return null},e.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},t.SkeletonData=e}(spine=spine||{}),function(tt){function P(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}P.prototype.readSkeletonData=function(t){var e=this.scale,n=new tt.SkeletonData,i="string"==typeof t?JSON.parse(t):t,t=i.skeleton;if(null!=t){if(n.hash=t.hash,n.version=t.spine,"3.8.75"==n.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height,n.fps=t.fps,n.imagesPath=t.images}if(i.bones)for(var a=0;a<i.bones.length;a++){var r=i.bones[a],s=null,o=this.getValue(r,"parent",null);if(null!=o&&null==(s=n.findBone(o)))throw new Error("Parent bone not found: "+o);(c=new tt.BoneData(n.bones.length,r.name,s)).length=this.getValue(r,"length",0)*e,c.x=this.getValue(r,"x",0)*e,c.y=this.getValue(r,"y",0)*e,c.rotation=this.getValue(r,"rotation",0),c.scaleX=this.getValue(r,"scaleX",1),c.scaleY=this.getValue(r,"scaleY",1),c.shearX=this.getValue(r,"shearX",0),c.shearY=this.getValue(r,"shearY",0),c.transformMode=P.transformModeFromString(this.getValue(r,"transform","normal")),c.skinRequired=this.getValue(r,"skin",!1),n.bones.push(c)}if(i.slots)for(a=0;a<i.slots.length;a++){var h=(w=i.slots[a]).name,l=w.bone,u=n.findBone(l);if(null==u)throw new Error("Slot bone not found: "+l);var c=new tt.SlotData(n.slots.length,h,u),u=this.getValue(w,"color",null),u=(null!=u&&c.color.setFromString(u),this.getValue(w,"dark",null));null!=u&&(c.darkColor=new tt.Color(1,1,1,1),c.darkColor.setFromString(u)),c.attachmentName=this.getValue(w,"attachment",null),c.blendMode=P.blendModeFromString(this.getValue(w,"blend","normal")),n.slots.push(c)}if(i.ik)for(a=0;a<i.ik.length;a++){var d=i.ik[a];(c=new tt.IkConstraintData(d.name)).order=this.getValue(d,"order",0),c.skinRequired=this.getValue(d,"skin",!1);for(var p=0;p<d.bones.length;p++){l=d.bones[p];if(null==(v=n.findBone(l)))throw new Error("IK bone not found: "+l);c.bones.push(v)}var f=d.target;if(c.target=n.findBone(f),null==c.target)throw new Error("IK target bone not found: "+f);c.mix=this.getValue(d,"mix",1),c.softness=this.getValue(d,"softness",0)*e,c.bendDirection=this.getValue(d,"bendPositive",!0)?1:-1,c.compress=this.getValue(d,"compress",!1),c.stretch=this.getValue(d,"stretch",!1),c.uniform=this.getValue(d,"uniform",!1),n.ikConstraints.push(c)}if(i.transform)for(a=0;a<i.transform.length;a++){d=i.transform[a];(c=new tt.TransformConstraintData(d.name)).order=this.getValue(d,"order",0),c.skinRequired=this.getValue(d,"skin",!1);for(p=0;p<d.bones.length;p++){l=d.bones[p];if(null==(v=n.findBone(l)))throw new Error("Transform constraint bone not found: "+l);c.bones.push(v)}f=d.target;if(c.target=n.findBone(f),null==c.target)throw new Error("Transform constraint target bone not found: "+f);c.local=this.getValue(d,"local",!1),c.relative=this.getValue(d,"relative",!1),c.offsetRotation=this.getValue(d,"rotation",0),c.offsetX=this.getValue(d,"x",0)*e,c.offsetY=this.getValue(d,"y",0)*e,c.offsetScaleX=this.getValue(d,"scaleX",0),c.offsetScaleY=this.getValue(d,"scaleY",0),c.offsetShearY=this.getValue(d,"shearY",0),c.rotateMix=this.getValue(d,"rotateMix",1),c.translateMix=this.getValue(d,"translateMix",1),c.scaleMix=this.getValue(d,"scaleMix",1),c.shearMix=this.getValue(d,"shearMix",1),n.transformConstraints.push(c)}if(i.path)for(a=0;a<i.path.length;a++){d=i.path[a];(c=new tt.PathConstraintData(d.name)).order=this.getValue(d,"order",0),c.skinRequired=this.getValue(d,"skin",!1);for(p=0;p<d.bones.length;p++){l=d.bones[p];if(null==(v=n.findBone(l)))throw new Error("Transform constraint bone not found: "+l);c.bones.push(v)}f=d.target;if(c.target=n.findSlot(f),null==c.target)throw new Error("Path target slot not found: "+f);c.positionMode=P.positionModeFromString(this.getValue(d,"positionMode","percent")),c.spacingMode=P.spacingModeFromString(this.getValue(d,"spacingMode","length")),c.rotateMode=P.rotateModeFromString(this.getValue(d,"rotateMode","tangent")),c.offsetRotation=this.getValue(d,"rotation",0),c.position=this.getValue(d,"position",0),c.positionMode==tt.PositionMode.Fixed&&(c.position*=e),c.spacing=this.getValue(d,"spacing",0),c.spacingMode!=tt.SpacingMode.Length&&c.spacingMode!=tt.SpacingMode.Fixed||(c.spacing*=e),c.rotateMix=this.getValue(d,"rotateMix",1),c.translateMix=this.getValue(d,"translateMix",1),n.pathConstraints.push(c)}if(i.skins)for(a=0;a<i.skins.length;a++){var m=i.skins[a],g=new tt.Skin(m.name);if(m.bones)for(var v,y=0;y<m.bones.length;y++){if(null==(v=n.findBone(m.bones[y])))throw new Error("Skin bone not found: "+m.bones[a]);g.bones.push(v)}if(m.ik)for(y=0;y<m.ik.length;y++){if(null==(x=n.findIkConstraint(m.ik[y])))throw new Error("Skin IK constraint not found: "+m.ik[a]);g.constraints.push(x)}if(m.transform)for(y=0;y<m.transform.length;y++){if(null==(x=n.findTransformConstraint(m.transform[y])))throw new Error("Skin transform constraint not found: "+m.transform[a]);g.constraints.push(x)}if(m.path)for(var x,y=0;y<m.path.length;y++){if(null==(x=n.findPathConstraint(m.path[y])))throw new Error("Skin path constraint not found: "+m.path[a]);g.constraints.push(x)}for(h in m.attachments){var w,M,E=n.findSlot(h);if(null==E)throw new Error("Slot not found: "+h);for(M in w=m.attachments[h]){var T=this.readAttachment(w[M],g,E.index,M,n);null!=T&&g.setAttachment(E.index,M,T)}}n.skins.push(g),"default"==g.name&&(n.defaultSkin=g)}for(var a=0,A=this.linkedMeshes.length;a<A;a++){var b=this.linkedMeshes[a];if(null==(g=null==b.skin?n.defaultSkin:n.findSkin(b.skin)))throw new Error("Skin not found: "+b.skin);var S=g.getAttachment(b.slotIndex,b.parent);if(null==S)throw new Error("Parent mesh not found: "+b.parent);b.mesh.deformAttachment=b.inheritDeform?S:b.mesh,b.mesh.setParentMesh(S),b.mesh.updateUVs()}if(this.linkedMeshes.length=0,i.events)for(var I in i.events){var C=i.events[I];(c=new tt.EventData(I)).intValue=this.getValue(C,"int",0),c.floatValue=this.getValue(C,"float",0),c.stringValue=this.getValue(C,"string",""),c.audioPath=this.getValue(C,"audio",null),null!=c.audioPath&&(c.volume=this.getValue(C,"volume",1),c.balance=this.getValue(C,"balance",0)),n.events.push(c)}if(i.animations)for(var R in i.animations){var _=i.animations[R];this.readAnimation(_,R,n)}return n},P.prototype.readAttachment=function(t,e,n,i,a){var r=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var s=this.getValue(t,"path",i),o=this.attachmentLoader.newRegionAttachment(e,i,s);return null==o?null:(o.path=s,o.x=this.getValue(t,"x",0)*r,o.y=this.getValue(t,"y",0)*r,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*r,o.height=t.height*r,null!=(d=this.getValue(t,"color",null))&&o.color.setFromString(d),o.updateOffset(),o);case"boundingbox":o=this.attachmentLoader.newBoundingBoxAttachment(e,i);return null==o?null:(this.readVertices(t,o,t.vertexCount<<1),null!=(d=this.getValue(t,"color",null))&&o.color.setFromString(d),o);case"mesh":case"linkedmesh":var s=this.getValue(t,"path",i),o=this.attachmentLoader.newMeshAttachment(e,i,s);if(null==o)return null;o.path=s;null!=(d=this.getValue(t,"color",null))&&o.color.setFromString(d),o.width=this.getValue(t,"width",0)*r,o.height=this.getValue(t,"height",0)*r;var h=this.getValue(t,"parent",null);if(null!=h)return this.linkedMeshes.push(new p(o,this.getValue(t,"skin",null),n,h,this.getValue(t,"deform",!0))),o;h=t.uvs;return this.readVertices(t,o,h.length),o.triangles=t.triangles,o.regionUVs=h,o.updateUVs(),o.edges=this.getValue(t,"edges",null),o.hullLength=2*this.getValue(t,"hull",0),o;case"path":if(null==(s=this.attachmentLoader.newPathAttachment(e,i)))return null;s.closed=this.getValue(t,"closed",!1),s.constantSpeed=this.getValue(t,"constantSpeed",!0);for(var l=t.vertexCount,u=(this.readVertices(t,s,l<<1),tt.Utils.newArray(l/3,0)),c=0;c<t.lengths.length;c++)u[c]=t.lengths[c]*r;return s.lengths=u,null!=(d=this.getValue(t,"color",null))&&s.color.setFromString(d),s;case"point":h=this.attachmentLoader.newPointAttachment(e,i);return null==h?null:(h.x=this.getValue(t,"x",0)*r,h.y=this.getValue(t,"y",0)*r,h.rotation=this.getValue(t,"rotation",0),null!=(d=this.getValue(t,"color",null))&&h.color.setFromString(d),h);case"clipping":o=this.attachmentLoader.newClippingAttachment(e,i);if(null==o)return null;s=this.getValue(t,"end",null);if(null!=s){h=a.findSlot(s);if(null==h)throw new Error("Clipping end slot not found: "+s);o.endSlot=h}var d,l=t.vertexCount;return this.readVertices(t,o,l<<1),null!=(d=this.getValue(t,"color",null))&&o.color.setFromString(d),o}return null},P.prototype.readVertices=function(t,e,n){var i=this.scale,a=(e.worldVerticesLength=n,t.vertices);if(n==a.length){var r=tt.Utils.toFloatArray(a);if(1!=i)for(var s=0,o=a.length;s<o;s++)r[s]*=i;e.vertices=r}else{for(var h=new Array,l=new Array,s=0,o=a.length;s<o;){var u=a[s++];l.push(u);for(var c=s+4*u;s<c;s+=4)l.push(a[s]),h.push(a[s+1]*i),h.push(a[s+2]*i),h.push(a[s+3])}e.bones=l,e.vertices=tt.Utils.toFloatArray(h)}},P.prototype.readAnimation=function(t,L,e){var n=this.scale,i=new Array,a=0;if(t.slots)for(var r in t.slots){var s=t.slots[r];if(-1==(V=e.findSlotIndex(r)))throw new Error("Slot not found: "+r);for(M in s){var o=s[M];if("attachment"==M){(g=new tt.AttachmentTimeline(o.length)).slotIndex=V;for(var h=0,l=0;l<o.length;l++){var u=o[l];g.setFrame(h++,this.getValue(u,"time",0),u.name)}i.push(g),a=Math.max(a,g.frames[g.getFrameCount()-1])}else if("color"==M){for(h=((g=new tt.ColorTimeline(o.length)).slotIndex=V,0),l=0;l<o.length;l++){var u=o[l],c=new tt.Color;c.setFromString(u.color),g.setFrame(h,this.getValue(u,"time",0),c.r,c.g,c.b,c.a),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.ColorTimeline.ENTRIES])}else{if("twoColor"!=M)throw new Error("Invalid timeline type for a slot: "+M+" ("+r+")");for(h=((g=new tt.TwoColorTimeline(o.length)).slotIndex=V,0),l=0;l<o.length;l++){var u=o[l],d=new tt.Color,p=new tt.Color;d.setFromString(u.light),p.setFromString(u.dark),g.setFrame(h,this.getValue(u,"time",0),d.r,d.g,d.b,d.a,p.r,p.g,p.b),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var f in t.bones){var O=t.bones[f],m=e.findBoneIndex(f);if(-1==m)throw new Error("Bone not found: "+f);for(M in O){o=O[M];if("rotate"===M){for(h=((g=new tt.RotateTimeline(o.length)).boneIndex=m,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"angle",0)),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.RotateTimeline.ENTRIES])}else{if("translate"!==M&&"scale"!==M&&"shear"!==M)throw new Error("Invalid timeline type for a bone: "+M+" ("+f+")");for(var g=null,v=1,D=0,h=("scale"===M?(g=new tt.ScaleTimeline(o.length),D=1):"shear"===M?g=new tt.ShearTimeline(o.length):(g=new tt.TranslateTimeline(o.length),v=n),g.boneIndex=m,0),l=0;l<o.length;l++){var u=o[l],B=this.getValue(u,"x",D),U=this.getValue(u,"y",D);g.setFrame(h,this.getValue(u,"time",0),B*v,U*v),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var y in t.ik){for(var x=t.ik[y],Y=e.findIkConstraint(y),h=((g=new tt.IkConstraintTimeline(x.length)).ikConstraintIndex=e.ikConstraints.indexOf(Y),0),l=0;l<x.length;l++){u=x[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"mix",1),this.getValue(u,"softness",0)*n,this.getValue(u,"bendPositive",!0)?1:-1,this.getValue(u,"compress",!1),this.getValue(u,"stretch",!1)),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var y in t.transform){for(x=t.transform[y],Y=e.findTransformConstraint(y),h=((g=new tt.TransformConstraintTimeline(x.length)).transformConstraintIndex=e.transformConstraints.indexOf(Y),0),l=0;l<x.length;l++){u=x[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1),this.getValue(u,"scaleMix",1),this.getValue(u,"shearMix",1)),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var y in t.path){var x=t.path[y],w=e.findPathConstraintIndex(y);if(-1==w)throw new Error("Path constraint not found: "+y);var X=e.pathConstraints[w];for(M in x){o=x[M];if("position"===M||"spacing"===M){for(g=null,v=1,h=("spacing"===M?(g=new tt.PathConstraintSpacingTimeline(o.length),X.spacingMode!=tt.SpacingMode.Length&&X.spacingMode!=tt.SpacingMode.Fixed||(v=n)):(g=new tt.PathConstraintPositionTimeline(o.length),X.positionMode==tt.PositionMode.Fixed&&(v=n)),g.pathConstraintIndex=w,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,M,0)*v),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===M){for(h=((g=new tt.PathConstraintMixTimeline(o.length)).pathConstraintIndex=w,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1)),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[(g.getFrameCount()-1)*tt.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var W in t.deform){var q=t.deform[W],H=e.findSkin(W);if(null==H)throw new Error("Skin not found: "+W);for(r in q){var M,s=q[r];if(-1==(V=e.findSlotIndex(r)))throw new Error("Slot not found: "+s.name);for(M in s){var o=s[M],E=H.getAttachment(V,M);if(null==E)throw new Error("Deform attachment not found: "+o.name);for(var j=null!=E.bones,T=E.vertices,G=j?T.length/3*2:T.length,h=((g=new tt.DeformTimeline(o.length)).slotIndex=V,g.attachment=E,0),A=0;A<o.length;A++){var u=o[A],b=void 0,S=this.getValue(u,"vertices",null);if(null==S)b=j?tt.Utils.newFloatArray(G):T;else{var b=tt.Utils.newFloatArray(G),z=this.getValue(u,"offset",0);if(tt.Utils.arrayCopy(S,0,b,z,S.length),1!=n)for(var Z=(l=z)+S.length;l<Z;l++)b[l]*=n;if(!j)for(l=0;l<G;l++)b[l]+=T[l]}g.setFrame(h,this.getValue(u,"time",0),b),this.readCurve(u,g,h),h++}i.push(g),a=Math.max(a,g.frames[g.getFrameCount()-1])}}}var I=t.drawOrder;if(null!=(I=null==I?t.draworder:I)){for(var g=new tt.DrawOrderTimeline(I.length),C=e.slots.length,h=0,A=0;A<I.length;A++){var J=I[A],R=null,_=this.getValue(J,"offsets",null);if(null!=_){for(var R=tt.Utils.newArray(C,-1),Q=tt.Utils.newArray(C-_.length,0),P=0,K=0,l=0;l<_.length;l++){var V,$=_[l];if(-1==(V=e.findSlotIndex($.slot)))throw new Error("Slot not found: "+$.slot);for(;P!=V;)Q[K++]=P++;R[P+$.offset]=P++}for(;P<C;)Q[K++]=P++;for(l=C-1;0<=l;l--)-1==R[l]&&(R[l]=Q[--K])}g.setFrame(h++,this.getValue(J,"time",0),R)}i.push(g),a=Math.max(a,g.frames[g.getFrameCount()-1])}if(t.events){for(g=new tt.EventTimeline(t.events.length),h=0,l=0;l<t.events.length;l++){var k=t.events[l],N=e.findEvent(k.name);if(null==N)throw new Error("Event not found: "+k.name);var F=new tt.Event(tt.Utils.toSinglePrecision(this.getValue(k,"time",0)),N);F.intValue=this.getValue(k,"int",N.intValue),F.floatValue=this.getValue(k,"float",N.floatValue),F.stringValue=this.getValue(k,"string",N.stringValue),null!=F.data.audioPath&&(F.volume=this.getValue(k,"volume",1),F.balance=this.getValue(k,"balance",0)),g.setFrame(h++,F)}i.push(g),a=Math.max(a,g.frames[g.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");e.animations.push(new tt.Animation(L,i,a))},P.prototype.readCurve=function(t,e,n){var i;t.hasOwnProperty("curve")&&("stepped"==t.curve?e.setStepped(n):(i=t.curve,e.setCurve(n,i,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))))},P.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},P.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.BlendMode.Normal;if("additive"==t)return tt.BlendMode.Additive;if("multiply"==t)return tt.BlendMode.Multiply;if("screen"==t)return tt.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},P.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return tt.PositionMode.Fixed;if("percent"==t)return tt.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},P.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return tt.SpacingMode.Length;if("fixed"==t)return tt.SpacingMode.Fixed;if("percent"==t)return tt.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},P.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return tt.RotateMode.Tangent;if("chain"==t)return tt.RotateMode.Chain;if("chainscale"==t)return tt.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},P.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.TransformMode.Normal;if("onlytranslation"==t)return tt.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return tt.TransformMode.NoRotationOrReflection;if("noscale"==t)return tt.TransformMode.NoScale;if("noscaleorreflection"==t)return tt.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},tt.SkeletonJson=P;var p=function(t,e,n,i,a){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritDeform=a}}(spine=spine||{}),function(h){var r=function(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n},t=(h.SkinEntry=r,e.prototype.setAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n},e.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var r=t.constraints[e],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==r){i=!0;break}i||this.constraints.push(r)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var o=s[e];this.setAttachment(o.slotIndex,o.name,o.attachment)}},e.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==n){i=!0;break}i||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var r=t.constraints[e],i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==r){i=!0;break}i||this.constraints.push(r)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var o=s[e];null!=o.attachment&&(o.attachment instanceof h.MeshAttachment?o.attachment=o.attachment.newLinkedMesh():o.attachment=o.attachment.copy(),this.setAttachment(o.slotIndex,o.name,o.attachment))}},e.prototype.getAttachment=function(t,e){t=this.attachments[t];return t?t[e]:null},e.prototype.removeAttachment=function(t,e){t=this.attachments[t];t&&(t[e]=null)},e.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var i in n){var a=n[i];a&&t.push(new r(e,i,a))}}return t},e.prototype.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var i in n){var a=n[i];a&&e.push(new r(t,i,a))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var a=t.slots[i],r=a.getAttachment();if(r&&n<e.attachments.length){var s,o=e.attachments[n];for(s in o)if(r==o[s]){var h=this.getAttachment(n,s);null!=h&&a.setAttachment(h);break}}n++}},e);function e(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}h.Skin=t}(spine=spine||{}),function(n){function t(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new n.Color,this.darkColor=null==t.darkColor?null:new n.Color,this.setToSetupPose()}t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},n.Slot=t}(spine=spine||{}),function(i){i.SlotData=function(t,e,n){if(this.color=new i.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}}(spine=spine||{}),function(t){a.prototype.getImage=function(){return this._image},a.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},a.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}};var e,n,i=a;function a(t){this._image=t}t.Texture=i,(s=e=t.TextureFilter||(t.TextureFilter={}))[s.Nearest=9728]="Nearest",s[s.Linear=9729]="Linear",s[s.MipMap=9987]="MipMap",s[s.MipMapNearestNearest=9984]="MipMapNearestNearest",s[s.MipMapLinearNearest=9985]="MipMapLinearNearest",s[s.MipMapNearestLinear=9986]="MipMapNearestLinear",s[s.MipMapLinearLinear=9987]="MipMapLinearLinear",(s=n=t.TextureWrap||(t.TextureWrap={}))[s.MirroredRepeat=33648]="MirroredRepeat",s[s.ClampToEdge=33071]="ClampToEdge",s[s.Repeat=10497]="Repeat";t.TextureRegion=function(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0},__extends(o,r=i),o.prototype.setFilters=function(t,e){},o.prototype.setWraps=function(t,e){},o.prototype.dispose=function(){};var r,s=o;function o(){return null!==r&&r.apply(this,arguments)||this}t.FakeTexture=s}(spine=spine||{}),function(c){function t(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}t.prototype.load=function(t,e){if(null==e)throw new Error("textureLoader cannot be null.");for(var n=new d(t),i=new Array(4),a=null;;){var r,s,o,h,l,u=n.readLine();if(null==u)break;0==(u=u.trim()).length?a=null:a?((r=new f).name=u,r.page=a,"true"==(l=n.readValue()).toLocaleLowerCase()?r.degrees=90:"false"==l.toLocaleLowerCase()?r.degrees=0:r.degrees=parseFloat(l),r.rotate=90==r.degrees,n.readTuple(i),l=parseInt(i[0]),s=parseInt(i[1]),n.readTuple(i),o=parseInt(i[0]),h=parseInt(i[1]),r.u=l/a.width,r.v=s/a.height,r.rotate?(r.u2=(l+h)/a.width,r.v2=(s+o)/a.height):(r.u2=(l+o)/a.width,r.v2=(s+h)/a.height),r.x=l,r.y=s,r.width=Math.abs(o),r.height=Math.abs(h),4==n.readTuple(i)&&4==n.readTuple(i)&&n.readTuple(i),r.originalWidth=parseInt(i[0]),r.originalHeight=parseInt(i[1]),n.readTuple(i),r.offsetX=parseInt(i[0]),r.offsetY=parseInt(i[1]),r.index=parseInt(n.readValue()),r.texture=a.texture,this.regions.push(r)):((a=new p).name=u,2==n.readTuple(i)&&(a.width=parseInt(i[0]),a.height=parseInt(i[1]),n.readTuple(i)),n.readTuple(i),a.minFilter=c.Texture.filterFromString(i[0]),a.magFilter=c.Texture.filterFromString(i[1]),l=n.readValue(),a.uWrap=c.TextureWrap.ClampToEdge,a.vWrap=c.TextureWrap.ClampToEdge,"x"==l?a.uWrap=c.TextureWrap.Repeat:"y"==l?a.vWrap=c.TextureWrap.Repeat:"xy"==l&&(a.uWrap=a.vWrap=c.TextureWrap.Repeat),a.texture=e(u),a.texture.setFilters(a.minFilter,a.magFilter),a.texture.setWraps(a.uWrap,a.vWrap),a.width=a.texture.getImage().width,a.height=a.texture.getImage().height,this.pages.push(a))}},t.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},t.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},c.TextureAtlas=t;e.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},e.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var i=0,a=n+1;i<3;i++){var r=e.indexOf(",",a);if(-1==r)break;t[i]=e.substr(a,r-a).trim(),a=r+1}return t[i]=e.substring(a).trim(),i+1};var d=e;function e(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var n,p=function(){},f=(c.TextureAtlasPage=p,n=c.TextureRegion,__extends(i,n),i);function i(){return null!==n&&n.apply(this,arguments)||this}c.TextureAtlasRegion=f}(spine=spine||{}),function(b){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new b.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,r=a.a,s=a.b,o=a.c,h=a.d,l=0<r*h-s*o?b.MathUtils.degRad:-b.MathUtils.degRad,u=this.data.offsetRotation*l,c=this.data.offsetShearY*l,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,v,y,x,w,M,E,T=d[p],A=!1;0!=t&&(g=T.a,y=T.b,v=T.c,x=T.d,(M=Math.atan2(o,r)-Math.atan2(v,g)+u)>b.MathUtils.PI?M-=b.MathUtils.PI2:M<-b.MathUtils.PI&&(M+=b.MathUtils.PI2),M*=t,m=Math.cos(M),w=Math.sin(M),T.a=m*g-w*v,T.b=m*y-w*x,T.c=w*g+m*v,T.d=w*y+m*x,A=!0),0!=e&&(g=this.temp,a.localToWorld(g.set(this.data.offsetX,this.data.offsetY)),T.worldX+=(g.x-T.worldX)*e,T.worldY+=(g.y-T.worldY)*e,A=!0),0<n&&(E=Math.sqrt(T.a*T.a+T.c*T.c),v=Math.sqrt(r*r+o*o),1e-5<E&&(E=(E+(v-E+this.data.offsetScaleX)*n)/E),T.a*=E,T.c*=E,E=Math.sqrt(T.b*T.b+T.d*T.d),v=Math.sqrt(s*s+h*h),1e-5<E&&(E=(E+(v-E+this.data.offsetScaleY)*n)/E),T.b*=E,T.d*=E,A=!0),0<i&&(y=T.b,x=T.d,w=Math.atan2(x,y),(M=Math.atan2(h,s)-Math.atan2(o,r)-(w-Math.atan2(T.c,T.a)))>b.MathUtils.PI?M-=b.MathUtils.PI2:M<-b.MathUtils.PI&&(M+=b.MathUtils.PI2),M=w+(M+c)*i,E=Math.sqrt(y*y+x*x),T.b=Math.cos(M)*E,T.d=Math.sin(M)*E,A=!0),A&&(T.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,r=a.a,s=a.b,o=a.c,h=a.d,l=0<r*h-s*o?b.MathUtils.degRad:-b.MathUtils.degRad,u=this.data.offsetRotation*l,c=this.data.offsetShearY*l,d=this.bones,p=0,f=d.length;p<f;p++){var m,g,v,y,x,w,M,E,T=d[p],A=!1;0!=t&&(y=T.a,w=T.b,m=T.c,M=T.d,(x=Math.atan2(o,r)+u)>b.MathUtils.PI?x-=b.MathUtils.PI2:x<-b.MathUtils.PI&&(x+=b.MathUtils.PI2),x*=t,g=Math.cos(x),v=Math.sin(x),T.a=g*y-v*m,T.b=g*w-v*M,T.c=v*y+g*m,T.d=v*w+g*M,A=!0),0!=e&&(y=this.temp,a.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),T.worldX+=y.x*e,T.worldY+=y.y*e,A=!0),0<n&&(E=(Math.sqrt(r*r+o*o)-1+this.data.offsetScaleX)*n+1,T.a*=E,T.c*=E,E=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleY)*n+1,T.b*=E,T.d*=E,A=!0),0<i&&((x=Math.atan2(h,s)-Math.atan2(o,r))>b.MathUtils.PI?x-=b.MathUtils.PI2:x<-b.MathUtils.PI&&(x+=b.MathUtils.PI2),w=T.b,M=T.d,x=Math.atan2(M,w)+(x-b.MathUtils.PI/2+c)*i,E=Math.sqrt(w*w+M*M),T.b=Math.cos(x)*E,T.d=Math.sin(x)*E,A=!0),A&&(T.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,r=(a.appliedValid||a.updateAppliedTransform(),this.bones),s=0,o=r.length;s<o;s++){var h,l=r[s],u=(l.appliedValid||l.updateAppliedTransform(),l.arotation),c=(0!=t&&(h=a.arotation-u+this.data.offsetRotation,u+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t),l.ax),d=l.ay,p=(0!=e&&(c+=(a.ax-c+this.data.offsetX)*e,d+=(a.ay-d+this.data.offsetY)*e),l.ascaleX),f=l.ascaleY,m=(0!=n&&(1e-5<p&&(p=(p+(a.ascaleX-p+this.data.offsetScaleX)*n)/p),1e-5<f&&(f=(f+(a.ascaleY-f+this.data.offsetScaleY)*n)/f)),l.ashearY);0!=i&&(h=a.ashearY-m+this.data.offsetShearY,h-=360*(16384-(16384.499999999996-h/360|0)),l.shearY+=h*i),l.updateWorldTransformWith(c,d,u,p,f,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,a=this.target,r=(a.appliedValid||a.updateAppliedTransform(),this.bones),s=0,o=r.length;s<o;s++){var h=r[s],l=(h.appliedValid||h.updateAppliedTransform(),h.arotation),u=(0!=t&&(l+=(a.arotation+this.data.offsetRotation)*t),h.ax),c=h.ay,d=(0!=e&&(u+=(a.ax+this.data.offsetX)*e,c+=(a.ay+this.data.offsetY)*e),h.ascaleX),p=h.ascaleY,f=(0!=n&&(1e-5<d&&(d*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<p&&(p*=(a.ascaleY-1+this.data.offsetScaleY)*n+1)),h.ashearY);0!=i&&(f+=(a.ashearY+this.data.offsetShearY)*i),h.updateWorldTransformWith(u,c,l,d,p,h.ashearX,f)}},b.TransformConstraint=t}(spine=spine||{}),function(t){e=t.ConstraintData,__extends(i,e);var e,n=i;function i(t){t=e.call(this,t,0,!1)||this;return t.bones=new Array,t.rotateMix=0,t.translateMix=0,t.scaleMix=0,t.shearMix=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}t.TransformConstraintData=n}(spine=spine||{}),function(t){function Y(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(function(){return new Array}),this.polygonIndicesPool=new t.Pool(function(){return new Array})}Y.prototype.triangulate=function(t){for(var e=t,n=t.length>>1,i=this.indicesArray,a=i.length=0;a<n;a++)i[a]=a;for(var r=this.isConcaveArray,a=r.length=0,s=n;a<s;++a)r[a]=Y.isConcave(a,n,e,i);var o=this.triangles;for(o.length=0;3<n;){for(var h=n-1,a=0,l=1;;){t:if(!r[a]){for(var u=i[h]<<1,c=i[a]<<1,d=i[l]<<1,p=e[u],f=e[1+u],m=e[c],g=e[1+c],v=e[d],y=e[1+d],x=(l+1)%n;x!=h;x=(x+1)%n)if(r[x]){var w=i[x]<<1,M=e[w],w=e[1+w];if(Y.positiveArea(v,y,p,f,M,w)&&Y.positiveArea(p,f,m,g,M,w)&&Y.positiveArea(m,g,v,y,M,w))break t}break}if(0==l){for(;r[a]&&0<--a;);break}h=a,l=((a=l)+1)%n}o.push(i[(n+a-1)%n]),o.push(i[a]),o.push(i[(a+1)%n]),i.splice(a,1),r.splice(a,1);var E=(--n+a-1)%n,T=a==n?0:a;r[E]=Y.isConcave(E,n,e,i),r[T]=Y.isConcave(T,n,e,i)}return 3==n&&(o.push(i[2]),o.push(i[0]),o.push(i[1])),o},Y.prototype.decompose=function(L,t){for(var e=L,n=this.convexPolygons,i=(this.polygonPool.freeAll(n),n.length=0,this.convexPolygonsIndices),a=(this.polygonIndicesPool.freeAll(i),i.length=0,this.polygonIndicesPool.obtain()),r=(a.length=0,this.polygonPool.obtain()),s=-1,o=r.length=0,h=0,l=t.length;h<l;h+=3){var u=t[h]<<1,c=t[h+1]<<1,d=t[h+2]<<1,p=e[u],f=e[1+u],m=e[c],g=e[1+c],v=e[d],y=e[1+d],x=!1;s==u&&(w=r.length-4,S=Y.winding(r[w],r[w+1],r[w+2],r[w+3],v,y),I=Y.winding(v,y,r[0],r[1],r[2],r[3]),S==o&&I==o&&(r.push(v),r.push(y),a.push(d),x=!0)),x||(0<r.length?(n.push(r),i.push(a)):(this.polygonPool.free(r),this.polygonIndicesPool.free(a)),(r=this.polygonPool.obtain()).length=0,r.push(p),r.push(f),r.push(m),r.push(g),r.push(v),r.push(y),(a=this.polygonIndicesPool.obtain()).length=0,a.push(u),a.push(c),a.push(d),o=Y.winding(p,f,m,g,v,y),s=u)}0<r.length&&(n.push(r),i.push(a));for(h=0,l=n.length;h<l;h++)if(0!=(a=i[h]).length)for(var w,M,E,T,A,b,S,I,O=a[0],D=a[a.length-1],C=(r=n[h])[w=r.length-4],R=r[w+1],_=r[w+2],P=r[w+3],V=r[0],k=r[1],B=r[2],U=r[3],N=Y.winding(C,R,_,P,V,k),F=0;F<l;F++)F!=h&&(3==(M=i[F]).length&&(E=M[0],T=M[1],A=M[2],v=(b=n[F])[b.length-2],y=b[b.length-1],E==O&&T==D&&(S=Y.winding(C,R,_,P,v,y),I=Y.winding(v,y,V,k,B,U),S==N&&I==N&&(b.length=0,M.length=0,r.push(v),r.push(y),a.push(A),C=_,R=P,_=v,P=y,F=0))));for(h=n.length-1;0<=h;h--)0==(r=n[h]).length&&(n.splice(h,1),this.polygonPool.free(r),a=i[h],i.splice(h,1),this.polygonIndicesPool.free(a));return n},Y.isConcave=function(t,e,n,i){var a=i[(e+t-1)%e]<<1,r=i[t]<<1,i=i[(t+1)%e]<<1;return!this.positiveArea(n[a],n[1+a],n[r],n[1+r],n[i],n[1+i])},Y.positiveArea=function(t,e,n,i,a,r){return 0<=t*(r-i)+n*(e-r)+a*(i-e)},Y.winding=function(t,e,n,i,a,r){n-=t,i-=e;return 0<=a*i-r*n+n*e-t*i?1:-1},t.Triangulator=Y}(spine=spine||{}),function(t){function e(){this.array=new Array}function n(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.r=t=void 0===t?0:t,this.g=e,this.b=n,this.a=i}function i(){}e.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},e.prototype.contains=function(t){return null!=this.array[0|t]},e.prototype.remove=function(t){this.array[0|t]=void 0},e.prototype.clear=function(){this.array.length=0},t.IntSet=e,n.prototype.set=function(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this.clamp(),this},n.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},n.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},n.prototype.add=function(t,e,n,i){return this.r+=t,this.g+=e,this.b+=n,this.a+=i,this.clamp(),this},n.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},n.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},n.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},n.WHITE=new n(1,1,1,1),n.RED=new n(1,0,0,1),n.GREEN=new n(0,1,0,1),n.BLUE=new n(0,0,1,1),n.MAGENTA=new n(1,0,1,1),t.Color=n,i.clamp=function(t,e,n){return t<e?e:n<t?n:t},i.cosDeg=function(t){return Math.cos(t*i.degRad)},i.sinDeg=function(t){return Math.sin(t*i.degRad)},i.signum=function(t){return 0<t?1:t<0?-1:0},i.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},i.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},i.randomTriangular=function(t,e){return i.randomTriangularWith(t,e,.5*(t+e))},i.randomTriangularWith=function(t,e,n){var i=Math.random(),a=e-t;return i<=(n-t)/a?t+Math.sqrt(i*a*(n-t)):e-Math.sqrt((1-i)*a*(e-n))},i.PI2=2*(i.PI=3.1415927),i.radDeg=i.radiansToDegrees=180/i.PI,i.degRad=i.degreesToRadians=i.PI/180,t.MathUtils=i;r.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)};var a=r;function r(){}t.Interpolation=a;__extends(o,s=a),o.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1};var s,a=o;function o(t){var e=s.call(this)||this;return e.power=2,e.power=t,e}t.Pow=a;__extends(l,h=a),l.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1};var h,a=l;function l(t){return h.call(this,t)||this}function u(){}function c(){}function d(t){this.items=new Array,this.instantiator=t}function p(t,e){void 0===e&&(e=0),this.x=t=void 0===t?0:t,this.y=e}function f(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}function m(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.PowOut=a,u.arrayCopy=function(t,e,n,i,a){for(var r=e,s=i;r<e+a;r++,s++)n[s]=t[r]},u.setArraySize=function(t,e,n){void 0===n&&(n=0);var i=t.length;if(i==e)return t;if(i<(t.length=e))for(var a=i;a<e;a++)t[a]=n;return t},u.ensureArrayCapacity=function(t,e,n){return void 0===n&&(n=0),t.length>=e?t:u.setArraySize(t,e,n)},u.newArray=function(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e;return n},u.newFloatArray=function(t){if(u.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},u.newShortArray=function(t){if(u.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},u.toFloatArray=function(t){return u.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},u.toSinglePrecision=function(t){return u.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},u.webkit602BugfixHelper=function(t,e){},u.contains=function(t,e,n){void 0===n&&(n=!0);for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},u.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t.Utils=u,c.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}},t.DebugUtils=c,d.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},d.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},d.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},d.prototype.clear=function(){this.items.length=0},t.Pool=d,p.prototype.set=function(t,e){return this.x=t,this.y=e,this},p.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},p.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t.Vector2=p,f.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t.TimeKeeper=f,m.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},m.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},m.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t.WindowedMean=m}(spine=spine||{}),function(){var e;Math.fround||(Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(e){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}e.Attachment=t,__extends(a,n=t),a.prototype.computeWorldVertices=function(t,e,n,i,a,r){n=a+(n>>1)*r;var s=t.bone.skeleton,o=t.deform,h=this.vertices,l=this.bones;if(null==l){0<o.length&&(h=o);for(var u=(I=t.bone).worldX,c=I.worldY,d=I.a,p=I.b,f=I.c,m=I.d,g=e,v=a;v<n;g+=2,v+=r){var y=h[g],x=h[g+1];i[v]=y*d+x*p+u,i[v+1]=y*f+x*m+c}}else{for(var w=0,M=0,E=0;E<e;E+=2)w+=(S=l[w])+1,M+=S;var T=s.bones;if(0==o.length)for(v=a,p=3*M;v<n;v+=r){var A=0,b=0,S=l[w++];for(S+=w;w<S;w++,p+=3){var I=T[l[w]],y=h[p],x=h[p+1],C=h[p+2];A+=(y*I.a+x*I.b+I.worldX)*C,b+=(y*I.c+x*I.d+I.worldY)*C}i[v]=A,i[v+1]=b}else for(var R=o,v=a,p=3*M,_=M<<1;v<n;v+=r){A=0,b=0,S=l[w++];for(S+=w;w<S;w++,p+=3,_+=2){I=T[l[w]],y=h[p]+R[_],x=h[p+1]+R[_+1],C=h[p+2];A+=(y*I.a+x*I.b+I.worldX)*C,b+=(y*I.c+x*I.d+I.worldY)*C}i[v]=A,i[v+1]=b}}},a.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},a.nextID=0;var n,i=a;function a(t){t=n.call(this,t)||this;return t.id=(65535&a.nextID++)<<11,t.worldVerticesLength=0,t.deformAttachment=t}e.VertexAttachment=i}(spine=spine||{}),function(t){(t=t.AttachmentType||(t.AttachmentType={}))[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(spine=spine||{}),function(e){n=e.VertexAttachment,__extends(i,n),i.prototype.copy=function(){var t=new i(name);return this.copyTo(t),t.color.setFromColor(this.color),t};var n,t=i;function i(t){t=n.call(this,t)||this;return t.color=new e.Color(1,1,1,1),t}e.BoundingBoxAttachment=t}(spine=spine||{}),function(e){n=e.VertexAttachment,__extends(i,n),i.prototype.copy=function(){var t=new i(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t};var n,t=i;function i(t){t=n.call(this,t)||this;return t.color=new e.Color(.2275,.2275,.8078,1),t}e.ClippingAttachment=t}(spine=spine||{}),function(c){e=c.VertexAttachment,__extends(n,e),n.prototype.updateUVs=function(){var t=this.regionUVs,e=(null!=this.uvs&&this.uvs.length==t.length||(this.uvs=c.Utils.newFloatArray(t.length)),this.uvs),n=this.uvs.length,i=this.region.u,a=this.region.v,r=0,s=0;if(this.region instanceof c.TextureAtlasRegion){var o=this.region,h=o.texture.getImage().width,l=o.texture.getImage().height;switch(o.degrees){case 90:i-=(o.originalHeight-o.offsetY-o.height)/h,a-=(o.originalWidth-o.offsetX-o.width)/l;for(var r=o.originalHeight/h,s=o.originalWidth/l,u=0;u<n;u+=2)e[u]=i+t[u+1]*r,e[u+1]=a+(1-t[u])*s;return;case 180:i-=(o.originalWidth-o.offsetX-o.width)/h,a-=o.offsetY/l,r=o.originalWidth/h,s=o.originalHeight/l;for(u=0;u<n;u+=2)e[u]=i+(1-t[u])*r,e[u+1]=a+(1-t[u+1])*s;return;case 270:i-=o.offsetY/h,a-=o.offsetX/l,r=o.originalHeight/h,s=o.originalWidth/l;for(u=0;u<n;u+=2)e[u]=i+(1-t[u+1])*r,e[u+1]=a+t[u]*s;return}i-=o.offsetX/h,a-=(o.originalHeight-o.offsetY-o.height)/l,r=o.originalWidth/h,s=o.originalHeight/l}else null==this.region?(i=a=0,r=s=1):(r=this.region.u2-i,s=this.region.v2-a);for(u=0;u<n;u+=2)e[u]=i+t[u]*r,e[u+1]=a+t[u+1]*s},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},n.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),c.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),c.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),c.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),c.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},n.prototype.newLinkedMesh=function(){var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t.updateUVs(),t};var e,t=n;function n(t){t=e.call(this,t)||this;return t.color=new c.Color(1,1,1,1),t.tempColor=new c.Color(0,0,0,0),t}c.MeshAttachment=t}(spine=spine||{}),function(e){n=e.VertexAttachment,__extends(i,n),i.prototype.copy=function(){var t=new i(name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),e.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t};var n,t=i;function i(t){t=n.call(this,t)||this;return t.closed=!1,t.constantSpeed=!1,t.color=new e.Color(1,1,1,1),t}e.PathAttachment=t}(spine=spine||{}),function(a){e=a.VertexAttachment,__extends(n,e),n.prototype.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},n.prototype.computeWorldRotation=function(t){var e=a.MathUtils.cosDeg(this.rotation),n=a.MathUtils.sinDeg(this.rotation),i=e*t.a+n*t.b,e=e*t.c+n*t.d;return Math.atan2(e,i)*a.MathUtils.radDeg},n.prototype.copy=function(){var t=new n(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t};var e,t=n;function n(t){t=e.call(this,t)||this;return t.color=new a.Color(.38,.94,0,1),t}a.PointAttachment=t}(spine=spine||{}),function(e){n=e.Attachment,__extends(d,n),d.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,t=n+this.region.width*t,e=i+this.region.height*e,a=this.rotation*Math.PI/180,r=Math.cos(a),a=Math.sin(a),s=n*r+this.x,n=n*a,o=i*r+this.y,i=i*a,h=t*r+this.x,t=t*a,r=e*r+this.y,e=e*a,a=this.offset;a[d.OX1]=s-i,a[d.OY1]=o+n,a[d.OX2]=s-e,a[d.OY2]=r+n,a[d.OX3]=h-e,a[d.OY3]=r+t,a[d.OX4]=h-i,a[d.OY4]=o+t},d.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},d.prototype.computeWorldVertices=function(t,e,n,i){var a=this.offset,r=t.worldX,s=t.worldY,o=t.a,h=t.b,l=t.c,t=t.d,u=a[d.OX1],c=a[d.OY1];e[n]=u*o+c*h+r,e[n+1]=u*l+c*t+s,u=a[d.OX2],c=a[d.OY2],e[n+=i]=u*o+c*h+r,e[n+1]=u*l+c*t+s,u=a[d.OX3],c=a[d.OY3],e[n+=i]=u*o+c*h+r,e[n+1]=u*l+c*t+s,u=a[d.OX4],c=a[d.OY4],e[n+=i]=u*o+c*h+r,e[n+1]=u*l+c*t+s},d.prototype.copy=function(){var t=new d(name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,e.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),e.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},d.OX1=0,d.OY1=1,d.OX2=2,d.OY2=3,d.OX3=4,d.OY3=5,d.OX4=6,d.OY4=7,d.X1=0,d.Y1=1,d.C1R=2,d.C1G=3,d.C1B=4,d.C1A=5,d.U1=6,d.V1=7,d.X2=8,d.Y2=9,d.C2R=10,d.C2G=11,d.C2B=12,d.C2A=13,d.U2=14,d.V2=15,d.X3=16,d.Y3=17,d.C3R=18,d.C3G=19,d.C3B=20,d.C3A=21,d.U3=22,d.V3=23,d.X4=24,d.Y4=25,d.C4R=26,d.C4G=27,d.C4B=28,d.C4A=29,d.U4=30,d.V4=31;var n,t=d;function d(t){t=n.call(this,t)||this;return t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new e.Color(1,1,1,1),t.offset=e.Utils.newFloatArray(8),t.uvs=e.Utils.newFloatArray(8),t.tempColor=new e.Color(1,1,1,1),t}e.RegionAttachment=t}(spine=spine||{}),function(a){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}t.prototype.begin=function(t){},t.prototype.transform=function(t,e,n,i){t.x+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},a.JitterEffect=t}(spine=spine||{}),function(h){l.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},l.prototype.transform=function(t,e,n,i){var a=this.angle*h.MathUtils.degreesToRadians,r=t.x-this.worldX,s=t.y-this.worldY,o=Math.sqrt(r*r+s*s);o<this.radius&&(a=l.interpolation.apply(0,a,(this.radius-o)/this.radius),o=Math.cos(a),a=Math.sin(a),t.x=o*r-a*s+this.worldX,t.y=a*r+o*s+this.worldY)},l.prototype.end=function(){},l.interpolation=new h.PowOut(2);var t=l;function l(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}h.SwirlEffect=t}(spine=spine||{}),pc.extend(pc,function(){function a(t,e,n){var i=n&&n.lexicographical,n=n&&n.zeroExtend,a=t.split("."),r=e.split(".");function s(t){return(i?/^\d+[A-Za-z]*$/:/^\d+$/).test(t)}if(!a.every(s)||!r.every(s))return NaN;if(n){for(;a.length<r.length;)a.push("0");for(;r.length<a.length;)r.push("0")}i||(a=a.map(Number),r=r.map(Number));for(var o=0;o<a.length;++o){if(r.length==o)return 1;if(a[o]!=r[o])return a[o]>r[o]?1:-1}return a.length!=r.length?-1:0}function r(t){this._image={width:t.width,height:t.height},this.pcTexture=t}function t(t,e,n,i){this._app=t,this._position=new pc.Vec3,t=new spine.TextureAtlas(e,function(t){return new r(i[t])}),(e=new spine.SkeletonJson(new spine.AtlasAttachmentLoader(t))).scale*=.01,t=e.readSkeletonData(n),this.skeletonVersion=t.version,this._spine_3_6_0=a(this.skeletonVersion,"3.6.0")<=0,this._spine_3_7_99=a(this.skeletonVersion,"3.7.99")<=0,this.skeleton=new spine.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new spine.AnimationStateData(this.skeleton.data),this.states=[new spine.AnimationState(this.stateData)],this.clipper=new spine.SkeletonClipping,this._node=new pc.GraphNode,this._meshes=[],this._meshInstances=[],this._materials={},this._tint={},this._aabb=new pc.BoundingBox,this._aabbTempArray=[],this._aabbTempOffset=new pc.Vec2,this._aabbTempSize=new pc.Vec2,this._renderCounts={vertexCount:0,indexCount:0},this._vertexFormat=null,this._vertexBuffer=null,this._indexBuffer=null,this._priority=0,this._timeScale=1,this._layers=[pc.LAYERID_UI],this.init(),this.autoUpdate=!0,this._hidden=!1}var o=0,h=1,l=2,n={9728:pc.FILTER_NEAREST,9729:pc.FILTER_LINEAR,9984:pc.FILTER_NEAREST_MIPMAP_NEAREST,9985:pc.FILTER_LINEAR_MIPMAP_NEAREST,9986:pc.FILTER_NEAREST_MIPMAP_LINEAR,9987:pc.FILTER_LINEAR_MIPMAP_LINEAR},i={33648:pc.ADDRESS_MIRRORED_REPEAT,33071:pc.ADDRESS_CLAMP_TO_EDGE,10487:pc.ADDRESS_REPEAT},u=[0,1,2,2,3,0];r.prototype={setFilters:function(t,e){this.pcTexture.minFilter=n[t],this.pcTexture.magFilter=n[e]},setWraps:function(t,e){this.pcTexture.addressU=i[t],this.pcTexture.addressV=i[e]},getImage:function(){return this._image}};return t.prototype.destroy=function(){this.removeFromLayers();for(var t=0;t<this._meshInstances.length;t++)this._meshInstances[t].mesh.vertexBuffer=null,this._meshInstances[t].mesh.indexBuffer.length=0,this._meshInstances[t].material=null;this._vertexBuffer&&(this._vertexBuffer.destroy(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer.destroy(),this._indexBuffer=null),this._meshInstances=[],this.skeleton=null,this.stateData=null,this._materials={},this._node=null},t.prototype.hide=function(){if(!this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!1;this._hidden=!0}},t.prototype.show=function(){if(this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!0;this._hidden=!1}},t.prototype.init=function(){this._vertexFormat=new pc.VertexFormat(this._app.graphicsDevice,[{semantic:pc.SEMANTIC_POSITION,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_NORMAL,components:4,type:pc.TYPE_UINT8,normalize:!0},{semantic:pc.SEMANTIC_TEXCOORD0,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_COLOR,components:4,type:pc.TYPE_UINT8,normalize:!0}]);for(var t=this.skeleton.drawOrder,e=0,n=t.length;e<n;e++)this.initSlot(t[e])},t.prototype.initSlot=function(t){t.positions=[],t.uvs=[],t.indices=[],t.vertexColor={},t._active={name:"",type:o},this.initAttachment(t)},t.prototype.createMaterial=function(t){var e=new pc.StandardMaterial;return e.shadingModel=pc.SPECULAR_BLINN,e.diffuse=new pc.Color(1,1,1),e.emissiveMap=t,e.emissiveMapChannel="rgb",e.emissiveVertexColor=!0,e.emissiveVertexColorChannel="rgb",e.opacityMap=t,e.opacityMapChannel="a",e.opacityVertexColor=!0,e.opacityVertexColorChannel="a",e.depthWrite=!1,e.cull=pc.CULLFACE_NONE,e.blendType=pc.BLEND_PREMULTIPLIED,this._spine_3_6_0&&(t=["gl_FragColor.rgb *= vVertexColor.a;","gl_FragColor.a = dAlpha;"].join("\n"),e.chunks.outputAlphaPremulPS=t),e.update(),e},t.prototype.initAttachment=function(t){var e,n=t.attachment;n&&(t._active.name=n.name,n instanceof spine.RegionAttachment?t._active.type=l:n instanceof spine.MeshAttachment&&(t._active.type=h),n.region&&n.region.texture&&((n=n.region.texture.pcTexture)&&(n instanceof pc.StandardMaterial?(this._materials[n.name]=n,t.material=n.name):(e=null,n.name?e=n.name:n.getSource()instanceof Image&&(e=n.getSource().getAttribute("src")),e&&(void 0===this._materials[e]&&(n=this.createMaterial(n),this._materials[e]=n),t.material=e)))))},t.prototype.updateSlot=function(t,e){var n=t.attachment,i=n.name,a=n instanceof spine.RegionAttachment?l:n instanceof spine.MeshAttachment?h:o,a=(t._active.name===i&&t._active.type==a||this.initAttachment(t),t.positions.length=0,n instanceof spine.RegionAttachment?n.computeWorldVertices(t.bone,t.positions,0,2):n instanceof spine.MeshAttachment&&n.computeWorldVertices(t,0,n.worldVerticesLength,t.positions,0,2),this._tint[i]),i=(t.vertexColor={r:Math.round(255*t.color.r*(a?a.r:1)),g:Math.round(255*t.color.g*(a?a.g:1)),b:Math.round(255*t.color.b*(a?a.b:1)),a:Math.round(255*t.color.a*(a?a.a:1))},n.triangles||u);if(e.isClipping()){e.clipTriangles(t.positions,0,i,i.length,n.uvs,spine.Color.WHITE,spine.Color.WHITE,!1),t.positions.length=0,t.uvs.length=0;for(var r=e.clippedVertices.length,s=0;s<r;s+=8)t.positions.push(e.clippedVertices[s],e.clippedVertices[s+1]),t.uvs.push(e.clippedVertices[s+6],1-e.clippedVertices[s+7]);t.indices=e.clippedTriangles.slice()}else{for(t.uvs.length=0,r=t.positions.length,s=0;s<r;s+=2)t.uvs.push(n.uvs[s],1-n.uvs[s+1]);t.indices=i}this._renderCounts.vertexCount+=t.positions.length/2,this._renderCounts.indexCount+=t.indices.length},t.prototype.updateSkeleton=function(t){this._renderCounts.vertexCount=0,this._renderCounts.indexCount=0;for(var e=this.clipper,n=!1,n=!0,i=this.skeleton.drawOrder,a=i.length,r=0;r<a;r++){var s,o=i[r];this._spine_3_7_99||o.bone.active?n?(s=o.getAttachment())instanceof spine.ClippingAttachment?e.clipStart(o,s):s instanceof spine.RegionAttachment||s instanceof spine.MeshAttachment?this.updateSlot(o,e):this._spine_3_7_99||e.clipEndWithSlot(o):e.clipEndWithSlot(o):e.clipEndWithSlot(o)}},t.prototype.render=function(){if(this._meshInstances.forEach(function(t){t.material=null}),this.removeFromLayers(),this._meshes=[],(this._meshInstances.length=0)<this._renderCounts.indexCount&&0<this._renderCounts.vertexCount){this.skeleton.getBounds(this._aabbTempOffset,this._aabbTempSize,this._aabbTempArray),this._aabb.center=new pc.Vec3(this._aabbTempOffset.x,this._aabbTempOffset.y,0),this._aabb.halfExtents=new pc.Vec3(.5*this._aabbTempSize.x,.5*this._aabbTempSize.y,0),(!this._vertexBuffer||this._vertexBuffer.getNumVertices()<this._renderCounts.vertexCount)&&(this._vertexBuffer&&this._vertexBuffer.destroy(),this._vertexBuffer=new pc.VertexBuffer(this._app.graphicsDevice,this._vertexFormat,this._renderCounts.vertexCount)),(!this._indexBuffer||this._indexBuffer.getNumIndices()<this._renderCounts.indexCount)&&(this._indexBuffer&&this._indexBuffer.destroy(),this._indexBuffer=new pc.IndexBuffer(this._app.graphicsDevice,pc.INDEXFORMAT_UINT16,this._renderCounts.indexCount));for(var t=null,e=0,n=0,i=new pc.VertexIterator(this._vertexBuffer),a=new Uint16Array(this._indexBuffer.lock()),r=0,s=0,o=this.skeleton.drawOrder,h=o.length,l=0;l<h;l++){var u=o[l];if(u.attachment&&u.material&&0<u.positions.length&&0<u.indices.length){t&&t!==u.material&&(this.SubmitBatch(e,n,t),t=u.material,e=r,n=0);for(var t=u.material,c=u.positions,d=u.vertexColor.r,p=u.vertexColor.g,f=u.vertexColor.b,m=u.vertexColor.a,g=u.uvs,v=c.length/2,y=0;y<v;y++)i.element[pc.SEMANTIC_POSITION].set(c[2*y],c[2*y+1]),i.element[pc.SEMANTIC_NORMAL].set(0,255,0,0),i.element[pc.SEMANTIC_COLOR].set(d,p,f,m),i.element[pc.SEMANTIC_TEXCOORD0].set(g[2*y],1-g[2*y+1]),i.next();var x=u.indices,w=x.length;for(y=0;y<w;y++)a[r+y]=x[y]+s;n+=w,r+=w,s+=v}}i.end(),this._indexBuffer.unlock(),this.SubmitBatch(e,n,t)}this.addToLayers()},t.prototype.SubmitBatch=function(t,e,n){var i;0<e&&((i=new pc.Mesh).vertexBuffer=this._vertexBuffer,i.indexBuffer[0]=this._indexBuffer,i.primitive[0].type=pc.PRIMITIVE_TRIANGLES,i.primitive[0].base=t,i.primitive[0].count=e,i.primitive[0].indexed=!0,i.aabb=this._aabb,this._meshes.push(i),(t=new pc.MeshInstance(this._node,i,this._materials[n])).drawOrder=this.priority+this._meshInstances.length,t.visible=!this._hidden,this._meshInstances.push(t))},t.prototype.update=function(t){if(!this._hidden){t*=this._timeScale;for(var e=this.states.length,n=0;n<e;n++)this.states[n].update(t);for(n=0;n<e;n++)this.states[n].apply(this.skeleton);this.autoUpdate&&this.skeleton.updateWorldTransform(),this.updateSkeleton(),this.render()}},t.prototype.setPosition=function(t){this._position.copy(t)},t.prototype.setTint=function(t,e){this._tint[t]=e},t.prototype.removeFromLayers=function(){if(this._meshInstances.length)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.removeMeshInstances(this._meshInstances)}},t.prototype.addToLayers=function(){if(this._meshInstances.length)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.addMeshInstances(this._meshInstances)}},Object.defineProperty(t.prototype,"state",{get:function(){return this.states[0]}}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},set:function(t){this._priority=t}}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale=t}}),Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},set:function(t){this.removeFromLayers(),this._layers=t||[],this.addToLayers()}}),{Spine:t}}()),pc.extend(pc,function(){function t(t){pc.ComponentSystem.call(this,t),this.id="spine",this.ComponentType=pc.SpineComponent,this.DataType=pc.SpineComponentData,this.schema=["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","speed","spine"],this.on("beforeremove",this.onBeforeRemove,this),this.app.systems.on("update",this.onUpdate,this)}return(t.prototype=Object.create(pc.ComponentSystem.prototype)).constructor=t,Object.assign(t.prototype,{initializeComponentData:function(t,e,n){pc.ComponentSystem.prototype.initializeComponentData.call(this.system,t,e,["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","spine"])},onBeforeRemove:function(t,e){var n=t.spine.data;n.spine&&n.spine.destroy(),t.spine.removeComponent()},onUpdate:function(t){var e,n,i,a=this.store;for(e in a)!a.hasOwnProperty(e)||(i=(n=a[e]).data).enabled&&n.entity.enabled&&i.spine&&(i.spine.setPosition(n.entity.getPosition()),i.spine.update(i.speed*t))}}),{SpineComponentSystem:t}}()),pc.extend(pc,function(){function t(t,e){pc.Component.call(this,t,e),this.on("set_atlasAsset",this.onSetAsset,this),this.on("set_textureAssets",this.onSetAssets,this),this.on("set_skeletonAsset",this.onSetAsset,this),this.on("set_atlasData",this.onSetResource,this),this.on("set_textures",this.onSetResource,this),this.on("set_skeletonData",this.onSetResource,this)}return(t.prototype=Object.create(pc.Component.prototype)).constructor=t,Object.assign(t.prototype,{_createSpine:function(){this.data.spine&&(this.data.spine.destroy(),this.data.spine=null);for(var t={},e=0,n=this.textureAssets.length;e<n;e++){var i=this.system.app.assets.get(this.textureAssets[e]),a=i.name||(i.file?i.file.filename:null),r=(a=a||pc.path.getBasename(i.file.url)).indexOf("?");t[a=-1!==r?a.substring(0,r):a]=i.resource}this.data.spine=new pc.Spine(this.system.app,this.atlasData,this.skeletonData,t),this.state=this.data.spine.state,this.states=this.data.spine.states,this.skeleton=this.data.spine.skeleton,this.entity.addChild(this.data.spine._node)},_onAssetReady:function(t){"texture"===t.type&&this.textures.push(t.resource),"json"===t.type&&(this.skeletonData=t.resource),"text"===t.type&&(this.atlasData=t.resource)},_onAssetAdd:function(t){t.off("change",this.onAssetChanged,this),t.on("change",this.onAssetChanged,this),t.off("remove",this.onAssetRemoved,this),t.on("remove",this.onAssetRemoved,this),t.ready(this._onAssetReady,this),this.system.app.assets.load(t)},onSetResource:function(){this.data.atlasData&&this.data.textures.length&&this.data.skeletonData&&this._createSpine()},onSetAsset:function(t,e,n){var i=this.system.app.assets,a=null;e&&(a=i.get(e))&&(a.off("change",this.onAssetChanged),a.off("remove",this.onAssetRemoved)),n&&((e=n)instanceof pc.Asset&&(e=n.id,this.data[t]=e),(a=i.get(e))?this._onAssetAdd(a):i.on("add:"+e))},onSetAssets:function(t,e,n){var i=this.system.app.assets,a=null;if(e.length)for(s=0,o=e.length;s<o;s++)(a=i.get(e[s]))&&(a.off("change",this.onAssetChanged),a.off("remove",this.onAssetRemoved));if(n&&n.length)for(var r=n.map(function(t){return t instanceof pc.Asset?t.id:t}),s=0,o=n.length;s<o;s++)(a=i.get(r[s]))?this._onAssetAdd(a):i.on("add:"+r[s])},onAssetChanged:function(t,e,n,i){},onAssetRemoved:function(t){},onEnable:function(){pc.Component.prototype.onEnable.call(this);var t=this.data.spine;t&&t.addToLayers()},onDisable:function(){pc.Component.prototype.onDisable.call(this);var t=this.data.spine;t&&t.removeFromLayers()},hide:function(){this.data.spine&&this.data.spine.hide()},show:function(){this.data.spine&&this.data.spine.show()},removeComponent:function(){var t;if(this.atlasAsset&&(t=this.system.app.assets.get(this.atlasAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.skeletonAsset&&(t=this.system.app.assets.get(this.skeletonAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.textureAssets&&this.textureAssets.length)for(var e=0;e<this.textureAssets.length;e++)(t=this.system.app.assets.get(this.textureAssets[e]))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved))}}),{SpineComponent:t}}()),pc.extend(pc,{SpineComponentData:function(){this.enabled=!0,this.atlasAsset=null,this.textureAssets=[],this.skeletonAsset=null,this.speed=1,this.spine=null,this.atlasData=null,this.textures=[],this.skeletonData=null}}),function(){var t,e;pc.Application.registerPlugin?pc.Application.registerPlugin("spine",function(t){new pc.SpineComponentSystem(t)}):(t=pc.Application.getApplication(),e=new pc.SpineComponentSystem(t),t.systems.add(e))}();