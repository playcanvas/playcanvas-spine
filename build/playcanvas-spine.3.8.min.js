/* Copyright 2015-2021 PlayCanvas Ltd */
var spine,__extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}))(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),semver=(!function(D){e.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},e.prototype.apply=function(t,e,n,r,i,a,s,o){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,0<e)&&(e%=this.duration);for(var h=this.timelines,l=0,u=h.length;l<u;l++)h[l].apply(t,e,n,i,a,s,o)},e.binarySearch=function(t,e,n){var r=0,i=t.length/(n=void 0===n?1:n)-2;if(0==i)return n;for(var a=i>>>1;;){if(t[(a+1)*n]<=e?r=a+1:i=a,r==i)return(r+1)*n;a=r+i>>>1}},e.linearSearch=function(t,e,n){for(var r=0,i=t.length-n;r<=i;r+=n)if(t[r]>e)return r;return-1};var U,f,t,X=e;function e(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var r=0;r<e.length;r++)this.timelineIds[e[r].getPropertyId()]=!0;this.duration=n}D.Animation=X,(n=U=D.MixBlend||(D.MixBlend={}))[n.setup=0]="setup",n[n.first=1]="first",n[n.replace=2]="replace",n[n.add=3]="add",(n=f=D.MixDirection||(D.MixDirection={}))[n.mixIn=0]="mixIn",n[n.mixOut=1]="mixOut",(n=t=D.TimelineType||(D.TimelineType={}))[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(t){this.curves[t*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(t){this.curves[t*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(t){var t=t*y.BEZIER_SIZE;return t==this.curves.length||(t=this.curves[t])==y.LINEAR?y.LINEAR:t==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(t,e,n,r,i){for(var a=.03*(2*-e+r),s=.03*(2*-n+i),o=.006*(3*(e-r)+1),h=.006*(3*(n-i)+1),l=2*a+o,u=2*s+h,c=.3*e+a+.16666667*o,p=.3*n+s+.16666667*h,d=t*y.BEZIER_SIZE,f=this.curves,m=(f[d++]=y.BEZIER,c),g=p,v=d+y.BEZIER_SIZE-1;d<v;d+=2)f[d]=m,f[d+1]=g,c+=l,p+=u,l+=o,u+=h,m+=c,g+=p},y.prototype.getCurvePercent=function(t,e){e=D.MathUtils.clamp(e,0,1);var n=this.curves,r=t*y.BEZIER_SIZE,t=n[r];if(t==y.LINEAR)return e;if(t==y.STEPPED)return 0;for(var i,a,s=0,o=++r,h=r+y.BEZIER_SIZE-1;r<h;r+=2)if(e<=(s=n[r]))return a=i=void 0,(a=r==o?i=0:(i=n[r-2],n[r-1]))+(n[r+1]-a)*(e-i)/(s-i);t=n[r-1];return t+(1-t)*(e-s)/(1-s)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19;var n=y;function y(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=D.Utils.newFloatArray((t-1)*y.BEZIER_SIZE)}D.CurveTimeline=n;__extends(m,r=n),m.prototype.getPropertyId=function(){return(t.rotate<<24)+this.boneIndex},m.prototype.setFrame=function(t,e,n){this.frames[t<<=1]=e,this.frames[t+m.ROTATION]=n},m.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(a){case U.setup:return void(h.rotation=h.data.rotation);case U.first:var l=h.data.rotation-h.rotation;h.rotation+=(l-360*(16384-(16384.499999999996-l/360|0)))*i}else if(n>=o[o.length-m.ENTRIES]){var u=o[o.length+m.PREV_ROTATION];switch(a){case U.setup:h.rotation=h.data.rotation+u*i;break;case U.first:case U.replace:u=(u+=h.data.rotation-h.rotation)-360*(16384-(16384.499999999996-u/360|0));case U.add:h.rotation+=u*i}}else{var t=X.binarySearch(o,n,m.ENTRIES),c=o[t+m.PREV_ROTATION],p=o[t],n=this.getCurvePercent((t>>1)-1,1-(n-p)/(o[t+m.PREV_TIME]-p)),d=c+((d=o[t+m.ROTATION]-c)-360*(16384-(16384.499999999996-d/360|0)))*n;switch(a){case U.setup:h.rotation=h.data.rotation+(d-360*(16384-(16384.499999999996-d/360|0)))*i;break;case U.first:case U.replace:d+=h.data.rotation-h.rotation;case U.add:h.rotation+=(d-360*(16384-(16384.499999999996-d/360|0)))*i}}},m.ENTRIES=2,m.PREV_TIME=-2,m.PREV_ROTATION=-1,m.ROTATION=1;var r,i=m;function m(t){var e=r.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t<<1),e}D.RotateTimeline=i;__extends(p,a=n),p.prototype.getPropertyId=function(){return(t.translate<<24)+this.boneIndex},p.prototype.setFrame=function(t,e,n,r){this.frames[t*=p.ENTRIES]=e,this.frames[t+p.X]=n,this.frames[t+p.Y]=r},p.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(a){case U.setup:return h.x=h.data.x,void(h.y=h.data.y);case U.first:h.x+=(h.data.x-h.x)*i,h.y+=(h.data.y-h.y)*i}else{var l,u=0,c=0;switch(n>=o[o.length-p.ENTRIES]?(u=o[o.length+p.PREV_X],c=o[o.length+p.PREV_Y]):(u=o[(t=X.binarySearch(o,n,p.ENTRIES))+p.PREV_X],c=o[t+p.PREV_Y],l=o[t],n=this.getCurvePercent(t/p.ENTRIES-1,1-(n-l)/(o[t+p.PREV_TIME]-l)),u+=(o[t+p.X]-u)*n,c+=(o[t+p.Y]-c)*n),a){case U.setup:h.x=h.data.x+u*i,h.y=h.data.y+c*i;break;case U.first:case U.replace:h.x+=(h.data.x+u-h.x)*i,h.y+=(h.data.y+c-h.y)*i;break;case U.add:h.x+=u*i,h.y+=c*i}}},p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2;var a,i=p;function p(t){var e=a.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*p.ENTRIES),e}D.TranslateTimeline=i;__extends(g,s=i),g.prototype.getPropertyId=function(){return(t.scale<<24)+this.boneIndex},g.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(a){case U.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case U.first:h.scaleX+=(h.data.scaleX-h.scaleX)*i,h.scaleY+=(h.data.scaleY-h.scaleY)*i}else{var l,u=0,c=0;if(c=n>=o[o.length-g.ENTRIES]?(u=o[o.length+g.PREV_X]*h.data.scaleX,o[o.length+g.PREV_Y]*h.data.scaleY):(u=o[(t=X.binarySearch(o,n,g.ENTRIES))+g.PREV_X],c=o[t+g.PREV_Y],l=o[t],n=this.getCurvePercent(t/g.ENTRIES-1,1-(n-l)/(o[t+g.PREV_TIME]-l)),u=(u+(o[t+g.X]-u)*n)*h.data.scaleX,(c+(o[t+g.Y]-c)*n)*h.data.scaleY),1==i)a==U.add?(h.scaleX+=u-h.data.scaleX,h.scaleY+=c-h.data.scaleY):(h.scaleX=u,h.scaleY=c);else{var p=0,d=0;if(s==f.mixOut)switch(a){case U.setup:p=h.data.scaleX,d=h.data.scaleY,h.scaleX=p+(Math.abs(u)*D.MathUtils.signum(p)-p)*i,h.scaleY=d+(Math.abs(c)*D.MathUtils.signum(d)-d)*i;break;case U.first:case U.replace:p=h.scaleX,d=h.scaleY,h.scaleX=p+(Math.abs(u)*D.MathUtils.signum(p)-p)*i,h.scaleY=d+(Math.abs(c)*D.MathUtils.signum(d)-d)*i;break;case U.add:p=h.scaleX,d=h.scaleY,h.scaleX=p+(Math.abs(u)*D.MathUtils.signum(p)-h.data.scaleX)*i,h.scaleY=d+(Math.abs(c)*D.MathUtils.signum(d)-h.data.scaleY)*i}else switch(a){case U.setup:p=Math.abs(h.data.scaleX)*D.MathUtils.signum(u),d=Math.abs(h.data.scaleY)*D.MathUtils.signum(c),h.scaleX=p+(u-p)*i,h.scaleY=d+(c-d)*i;break;case U.first:case U.replace:p=Math.abs(h.scaleX)*D.MathUtils.signum(u),d=Math.abs(h.scaleY)*D.MathUtils.signum(c),h.scaleX=p+(u-p)*i,h.scaleY=d+(c-d)*i;break;case U.add:p=D.MathUtils.signum(u),d=D.MathUtils.signum(c),h.scaleX=Math.abs(h.scaleX)*p+(u-Math.abs(h.data.scaleX)*p)*i,h.scaleY=Math.abs(h.scaleY)*d+(c-Math.abs(h.data.scaleY)*d)*i}}}};var s,o=g;function g(t){return s.call(this,t)||this}D.ScaleTimeline=o;__extends(d,h=i),d.prototype.getPropertyId=function(){return(t.shear<<24)+this.boneIndex},d.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(a){case U.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case U.first:h.shearX+=(h.data.shearX-h.shearX)*i,h.shearY+=(h.data.shearY-h.shearY)*i}else{var l,u=0,c=0;switch(n>=o[o.length-d.ENTRIES]?(u=o[o.length+d.PREV_X],c=o[o.length+d.PREV_Y]):(u=o[(t=X.binarySearch(o,n,d.ENTRIES))+d.PREV_X],c=o[t+d.PREV_Y],l=o[t],n=this.getCurvePercent(t/d.ENTRIES-1,1-(n-l)/(o[t+d.PREV_TIME]-l)),u+=(o[t+d.X]-u)*n,c+=(o[t+d.Y]-c)*n),a){case U.setup:h.shearX=h.data.shearX+u*i,h.shearY=h.data.shearY+c*i;break;case U.first:case U.replace:h.shearX+=(h.data.shearX+u-h.shearX)*i,h.shearY+=(h.data.shearY+c-h.shearY)*i;break;case U.add:h.shearX+=u*i,h.shearY+=c*i}}};var h,o=d;function d(t){return h.call(this,t)||this}D.ShearTimeline=o;__extends(v,l=n),v.prototype.getPropertyId=function(){return(t.color<<24)+this.slotIndex},v.prototype.setFrame=function(t,e,n,r,i,a){this.frames[t*=v.ENTRIES]=e,this.frames[t+v.R]=n,this.frames[t+v.G]=r,this.frames[t+v.B]=i,this.frames[t+v.A]=a},v.prototype.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){t=this.frames;if(n<t[0])switch(a){case U.setup:return void o.color.setFromColor(o.data.color);case U.first:var h=o.color,l=o.data.color;h.add((l.r-h.r)*i,(l.g-h.g)*i,(l.b-h.b)*i,(l.a-h.a)*i)}else{var u,c,p=0,d=0,f=0,m=0;n>=t[t.length-v.ENTRIES]?(p=t[(u=t.length)+v.PREV_R],d=t[u+v.PREV_G],f=t[u+v.PREV_B],m=t[u+v.PREV_A]):(p=t[(u=X.binarySearch(t,n,v.ENTRIES))+v.PREV_R],d=t[u+v.PREV_G],f=t[u+v.PREV_B],m=t[u+v.PREV_A],c=t[u],n=this.getCurvePercent(u/v.ENTRIES-1,1-(n-c)/(t[u+v.PREV_TIME]-c)),p+=(t[u+v.R]-p)*n,d+=(t[u+v.G]-d)*n,f+=(t[u+v.B]-f)*n,m+=(t[u+v.A]-m)*n),1==i?o.color.set(p,d,f,m):(h=o.color,a==U.setup&&h.setFromColor(o.data.color),h.add((p-h.r)*i,(d-h.g)*i,(f-h.b)*i,(m-h.a)*i))}}},v.ENTRIES=5,v.PREV_TIME=-5,v.PREV_R=-4,v.PREV_G=-3,v.PREV_B=-2,v.PREV_A=-1,v.R=1,v.G=2,v.B=3,v.A=4;var l,i=v;function v(t){var e=l.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*v.ENTRIES),e}D.ColorTimeline=i;__extends(w,u=n),w.prototype.getPropertyId=function(){return(t.twoColor<<24)+this.slotIndex},w.prototype.setFrame=function(t,e,n,r,i,a,s,o,h){this.frames[t*=w.ENTRIES]=e,this.frames[t+w.R]=n,this.frames[t+w.G]=r,this.frames[t+w.B]=i,this.frames[t+w.A]=a,this.frames[t+w.R2]=s,this.frames[t+w.G2]=o,this.frames[t+w.B2]=h},w.prototype.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];if(o.bone.active){t=this.frames;if(n<t[0])switch(a){case U.setup:return o.color.setFromColor(o.data.color),void o.darkColor.setFromColor(o.data.darkColor);case U.first:var h=o.color,l=o.darkColor,u=o.data.color,c=o.data.darkColor;h.add((u.r-h.r)*i,(u.g-h.g)*i,(u.b-h.b)*i,(u.a-h.a)*i),l.add((c.r-l.r)*i,(c.g-l.g)*i,(c.b-l.b)*i,0)}else{var p,d,f=0,m=0,g=0,v=0,y=0,E=0,x=0;n>=t[t.length-w.ENTRIES]?(f=t[(p=t.length)+w.PREV_R],m=t[p+w.PREV_G],g=t[p+w.PREV_B],v=t[p+w.PREV_A],y=t[p+w.PREV_R2],E=t[p+w.PREV_G2],x=t[p+w.PREV_B2]):(f=t[(p=X.binarySearch(t,n,w.ENTRIES))+w.PREV_R],m=t[p+w.PREV_G],g=t[p+w.PREV_B],v=t[p+w.PREV_A],y=t[p+w.PREV_R2],E=t[p+w.PREV_G2],x=t[p+w.PREV_B2],d=t[p],n=this.getCurvePercent(p/w.ENTRIES-1,1-(n-d)/(t[p+w.PREV_TIME]-d)),f+=(t[p+w.R]-f)*n,m+=(t[p+w.G]-m)*n,g+=(t[p+w.B]-g)*n,v+=(t[p+w.A]-v)*n,y+=(t[p+w.R2]-y)*n,E+=(t[p+w.G2]-E)*n,x+=(t[p+w.B2]-x)*n),1==i?(o.color.set(f,m,g,v),o.darkColor.set(y,E,x,1)):(h=o.color,l=o.darkColor,a==U.setup&&(h.setFromColor(o.data.color),l.setFromColor(o.data.darkColor)),h.add((f-h.r)*i,(m-h.g)*i,(g-h.b)*i,(v-h.a)*i),l.add((y-l.r)*i,(E-l.g)*i,(x-l.b)*i,0))}}},w.ENTRIES=8,w.PREV_TIME=-8,w.PREV_R=-7,w.PREV_G=-6,w.PREV_B=-5,w.PREV_A=-4,w.PREV_R2=-3,w.PREV_G2=-2,w.PREV_B2=-1,w.R=1,w.G=2,w.B=3,w.A=4,w.R2=5,w.G2=6,w.B2=7;var u,o=w;function w(t){var e=u.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*w.ENTRIES),e}function c(t){this.frames=D.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}D.TwoColorTimeline=o,c.prototype.getPropertyId=function(){return(t.attachment<<24)+this.slotIndex},c.prototype.getFrameCount=function(){return this.frames.length},c.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},c.prototype.apply=function(t,e,n,r,i,a,s){var o=t.slots[this.slotIndex];o.bone.active&&(s==f.mixOut&&a==U.setup?(s=o.data.attachmentName,o.setAttachment(null==s?null:t.getAttachment(this.slotIndex,s))):n<(s=this.frames)[0]?a!=U.setup&&a!=U.first||(a=o.data.attachmentName,o.setAttachment(null==a?null:t.getAttachment(this.slotIndex,a))):(o=0,o=n>=s[s.length-1]?s.length-1:X.binarySearch(s,n,1)-1,a=this.attachmentNames[o],t.slots[this.slotIndex].setAttachment(null==a?null:t.getAttachment(this.slotIndex,a))))},D.AttachmentTimeline=c;var E,x=null,i=(__extends(T,E=n),T.prototype.getPropertyId=function(){return(t.deform<<27)+ +this.attachment.id+this.slotIndex},T.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},T.prototype.apply=function(t,L,e,O,n,r,F){t=t.slots[this.slotIndex];if(t.bone.active){var i=t.getAttachment();if(i instanceof D.VertexAttachment&&i.deformAttachment==this.attachment){var a=t.deform,t=(0==a.length&&(r=U.setup),this.frameVertices),s=t[0].length,o=this.frames;if(e<o[0]){var h=i;switch(r){case U.setup:return void(a.length=0);case U.first:if(1==n)a.length=0;else{var l=D.Utils.setArraySize(a,s);if(null==h.bones)for(var u=h.vertices,c=0;c<s;c++)l[c]+=(u[c]-l[c])*n;else{n=1-n;for(c=0;c<s;c++)l[c]*=n}}}}else{var p=D.Utils.setArraySize(a,s);if(e>=o[o.length-1]){var d=t[o.length-1];if(1==n)if(r==U.add)if(null==(h=i).bones)for(var u=h.vertices,f=0;f<s;f++)p[f]+=d[f]-u[f];else for(var m=0;m<s;m++)p[m]+=d[m];else D.Utils.arrayCopy(d,0,p,0,s);else switch(r){case U.setup:if(null==i.bones)for(var u=i.vertices,g=0;g<s;g++){var v=u[g];p[g]=v+(d[g]-v)*n}else for(var y=0;y<s;y++)p[y]=d[y]*n;break;case U.first:case U.replace:for(var E=0;E<s;E++)p[E]+=(d[E]-p[E])*n;break;case U.add:if(null==(h=i).bones)for(var u=h.vertices,x=0;x<s;x++)p[x]+=(d[x]-u[x])*n;else for(var w=0;w<s;w++)p[w]+=d[w]*n}}else{var T=X.binarySearch(o,e),A=t[T-1],M=t[T],t=o[T],I=this.getCurvePercent(T-1,1-(e-t)/(o[T-1]-t));if(1==n)if(r==U.add)if(null==(h=i).bones)for(var u=h.vertices,R=0;R<s;R++){var S=A[R];p[R]+=S+(M[R]-S)*I-u[R]}else for(var b=0;b<s;b++){S=A[b];p[b]+=S+(M[b]-S)*I}else for(var C=0;C<s;C++){S=A[C];p[C]=S+(M[C]-S)*I}else switch(r){case U.setup:if(null==i.bones)for(var u=i.vertices,_=0;_<s;_++){S=A[_],v=u[_];p[_]=v+(S+(M[_]-S)*I-v)*n}else for(var P=0;P<s;P++){S=A[P];p[P]=(S+(M[P]-S)*I)*n}break;case U.first:case U.replace:for(var N=0;N<s;N++){S=A[N];p[N]+=(S+(M[N]-S)*I-p[N])*n}break;case U.add:if(null==(h=i).bones)for(var u=h.vertices,V=0;V<s;V++){S=A[V];p[V]+=(S+(M[V]-S)*I-u[V])*n}else for(var k=0;k<s;k++){S=A[k];p[k]+=(S+(M[k]-S)*I)*n}}}}}}},T);function T(t){var e=E.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==x&&(x=D.Utils.newFloatArray(64)),e}function A(t){this.frames=D.Utils.newFloatArray(t),this.events=new Array(t)}function M(t){this.frames=D.Utils.newFloatArray(t),this.drawOrders=new Array(t)}D.DeformTimeline=i,A.prototype.getPropertyId=function(){return t.event<<24},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},A.prototype.apply=function(t,e,n,r,i,a,s){if(null!=r){var o=this.frames,h=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,r,i,a,s),e=-1;else if(e>=o[h-1])return;if(!(n<o[0])){var l=0;if(e<o[0])l=0;else for(var u=o[l=X.binarySearch(o,e)];0<l&&o[l-1]==u;)l--;for(;l<h&&n>=o[l];l++)r.push(this.events[l])}}},D.EventTimeline=A,M.prototype.getPropertyId=function(){return t.drawOrder<<24},M.prototype.getFrameCount=function(){return this.frames.length},M.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},M.prototype.apply=function(t,e,n,r,i,a,s){var o=t.drawOrder,h=t.slots;if(s==f.mixOut&&a==U.setup)D.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{s=this.frames;if(n<s[0])a!=U.setup&&a!=U.first||D.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var a=0,a=n>=s[s.length-1]?s.length-1:X.binarySearch(s,n)-1,l=this.drawOrders[a];if(null==l)D.Utils.arrayCopy(h,0,o,0,h.length);else for(var u=0,c=l.length;u<c;u++)o[u]=h[l[u]]}}},D.DrawOrderTimeline=M;__extends(R,I=n),R.prototype.getPropertyId=function(){return(t.ikConstraint<<24)+this.ikConstraintIndex},R.prototype.setFrame=function(t,e,n,r,i,a,s){this.frames[t*=R.ENTRIES]=e,this.frames[t+R.MIX]=n,this.frames[t+R.SOFTNESS]=r,this.frames[t+R.BEND_DIRECTION]=i,this.frames[t+R.COMPRESS]=a?1:0,this.frames[t+R.STRETCH]=s?1:0},R.prototype.apply=function(t,e,n,r,i,a,s){var o,h,l,u=this.frames,c=t.ikConstraints[this.ikConstraintIndex];if(c.active)if(n<u[0])switch(a){case U.setup:return c.mix=c.data.mix,c.softness=c.data.softness,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,void(c.stretch=c.data.stretch);case U.first:c.mix+=(c.data.mix-c.mix)*i,c.softness+=(c.data.softness-c.softness)*i,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}else n>=u[u.length-R.ENTRIES]?a==U.setup?(c.mix=c.data.mix+(u[u.length+R.PREV_MIX]-c.data.mix)*i,c.softness=c.data.softness+(u[u.length+R.PREV_SOFTNESS]-c.data.softness)*i,s==f.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[u.length+R.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+R.PREV_COMPRESS],c.stretch=0!=u[u.length+R.PREV_STRETCH])):(c.mix+=(u[u.length+R.PREV_MIX]-c.mix)*i,c.softness+=(u[u.length+R.PREV_SOFTNESS]-c.softness)*i,s==f.mixIn&&(c.bendDirection=u[u.length+R.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+R.PREV_COMPRESS],c.stretch=0!=u[u.length+R.PREV_STRETCH])):(o=u[(t=X.binarySearch(u,n,R.ENTRIES))+R.PREV_MIX],h=u[t+R.PREV_SOFTNESS],l=u[t],n=this.getCurvePercent(t/R.ENTRIES-1,1-(n-l)/(u[t+R.PREV_TIME]-l)),a==U.setup?(c.mix=c.data.mix+(o+(u[t+R.MIX]-o)*n-c.data.mix)*i,c.softness=c.data.softness+(h+(u[t+R.SOFTNESS]-h)*n-c.data.softness)*i,s==f.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[t+R.PREV_BEND_DIRECTION],c.compress=0!=u[t+R.PREV_COMPRESS],c.stretch=0!=u[t+R.PREV_STRETCH])):(c.mix+=(o+(u[t+R.MIX]-o)*n-c.mix)*i,c.softness+=(h+(u[t+R.SOFTNESS]-h)*n-c.softness)*i,s==f.mixIn&&(c.bendDirection=u[t+R.PREV_BEND_DIRECTION],c.compress=0!=u[t+R.PREV_COMPRESS],c.stretch=0!=u[t+R.PREV_STRETCH])))},R.ENTRIES=6,R.PREV_TIME=-6,R.PREV_MIX=-5,R.PREV_SOFTNESS=-4,R.PREV_BEND_DIRECTION=-3,R.PREV_COMPRESS=-2,R.PREV_STRETCH=-1,R.MIX=1,R.SOFTNESS=2,R.BEND_DIRECTION=3,R.COMPRESS=4,R.STRETCH=5;var I,o=R;function R(t){var e=I.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*R.ENTRIES),e}D.IkConstraintTimeline=o;__extends(b,S=n),b.prototype.getPropertyId=function(){return(t.transformConstraint<<24)+this.transformConstraintIndex},b.prototype.setFrame=function(t,e,n,r,i,a){this.frames[t*=b.ENTRIES]=e,this.frames[t+b.ROTATE]=n,this.frames[t+b.TRANSLATE]=r,this.frames[t+b.SCALE]=i,this.frames[t+b.SHEAR]=a},b.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(h.active)if(n<o[0]){var l=h.data;switch(a){case U.setup:return h.rotateMix=l.rotateMix,h.translateMix=l.translateMix,h.scaleMix=l.scaleMix,void(h.shearMix=l.shearMix);case U.first:h.rotateMix+=(l.rotateMix-h.rotateMix)*i,h.translateMix+=(l.translateMix-h.translateMix)*i,h.scaleMix+=(l.scaleMix-h.scaleMix)*i,h.shearMix+=(l.shearMix-h.shearMix)*i}}else{var u,c,t=0,p=0,d=0,f=0;n>=o[o.length-b.ENTRIES]?(t=o[(u=o.length)+b.PREV_ROTATE],p=o[u+b.PREV_TRANSLATE],d=o[u+b.PREV_SCALE],f=o[u+b.PREV_SHEAR]):(t=o[(u=X.binarySearch(o,n,b.ENTRIES))+b.PREV_ROTATE],p=o[u+b.PREV_TRANSLATE],d=o[u+b.PREV_SCALE],f=o[u+b.PREV_SHEAR],c=o[u],n=this.getCurvePercent(u/b.ENTRIES-1,1-(n-c)/(o[u+b.PREV_TIME]-c)),t+=(o[u+b.ROTATE]-t)*n,p+=(o[u+b.TRANSLATE]-p)*n,d+=(o[u+b.SCALE]-d)*n,f+=(o[u+b.SHEAR]-f)*n),a==U.setup?(l=h.data,h.rotateMix=l.rotateMix+(t-l.rotateMix)*i,h.translateMix=l.translateMix+(p-l.translateMix)*i,h.scaleMix=l.scaleMix+(d-l.scaleMix)*i,h.shearMix=l.shearMix+(f-l.shearMix)*i):(h.rotateMix+=(t-h.rotateMix)*i,h.translateMix+=(p-h.translateMix)*i,h.scaleMix+=(d-h.scaleMix)*i,h.shearMix+=(f-h.shearMix)*i)}},b.ENTRIES=5,b.PREV_TIME=-5,b.PREV_ROTATE=-4,b.PREV_TRANSLATE=-3,b.PREV_SCALE=-2,b.PREV_SHEAR=-1,b.ROTATE=1,b.TRANSLATE=2,b.SCALE=3,b.SHEAR=4;var S,i=b;function b(t){var e=S.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*b.ENTRIES),e}D.TransformConstraintTimeline=i;__extends(_,C=n),_.prototype.getPropertyId=function(){return(t.pathConstraintPosition<<24)+this.pathConstraintIndex},_.prototype.setFrame=function(t,e,n){this.frames[t*=_.ENTRIES]=e,this.frames[t+_.VALUE]=n},_.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(a){case U.setup:return void(h.position=h.data.position);case U.first:h.position+=(h.data.position-h.position)*i}else{var l,u,t=0;n>=o[o.length-_.ENTRIES]?t=o[o.length+_.PREV_VALUE]:(t=o[(l=X.binarySearch(o,n,_.ENTRIES))+_.PREV_VALUE],u=o[l],n=this.getCurvePercent(l/_.ENTRIES-1,1-(n-u)/(o[l+_.PREV_TIME]-u)),t+=(o[l+_.VALUE]-t)*n),a==U.setup?h.position=h.data.position+(t-h.data.position)*i:h.position+=(t-h.position)*i}},_.ENTRIES=2,_.PREV_TIME=-2,_.PREV_VALUE=-1,_.VALUE=1;var C,o=_;function _(t){var e=C.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*_.ENTRIES),e}D.PathConstraintPositionTimeline=o;__extends(P,V=o),P.prototype.getPropertyId=function(){return(t.pathConstraintSpacing<<24)+this.pathConstraintIndex},P.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(a){case U.setup:return void(h.spacing=h.data.spacing);case U.first:h.spacing+=(h.data.spacing-h.spacing)*i}else{var l,u,t=0;n>=o[o.length-P.ENTRIES]?t=o[o.length+P.PREV_VALUE]:(t=o[(l=X.binarySearch(o,n,P.ENTRIES))+P.PREV_VALUE],u=o[l],n=this.getCurvePercent(l/P.ENTRIES-1,1-(n-u)/(o[l+P.PREV_TIME]-u)),t+=(o[l+P.VALUE]-t)*n),a==U.setup?h.spacing=h.data.spacing+(t-h.data.spacing)*i:h.spacing+=(t-h.spacing)*i}};var V,i=P;function P(t){return V.call(this,t)||this}D.PathConstraintSpacingTimeline=i;__extends(N,k=n),N.prototype.getPropertyId=function(){return(t.pathConstraintMix<<24)+this.pathConstraintIndex},N.prototype.setFrame=function(t,e,n,r){this.frames[t*=N.ENTRIES]=e,this.frames[t+N.ROTATE]=n,this.frames[t+N.TRANSLATE]=r},N.prototype.apply=function(t,e,n,r,i,a,s){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(a){case U.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case U.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*i,h.translateMix+=(h.data.translateMix-h.translateMix)*i}else{var l,u,t=0,c=0;n>=o[o.length-N.ENTRIES]?(t=o[o.length+N.PREV_ROTATE],c=o[o.length+N.PREV_TRANSLATE]):(t=o[(l=X.binarySearch(o,n,N.ENTRIES))+N.PREV_ROTATE],c=o[l+N.PREV_TRANSLATE],u=o[l],n=this.getCurvePercent(l/N.ENTRIES-1,1-(n-u)/(o[l+N.PREV_TIME]-u)),t+=(o[l+N.ROTATE]-t)*n,c+=(o[l+N.TRANSLATE]-c)*n),a==U.setup?(h.rotateMix=h.data.rotateMix+(t-h.data.rotateMix)*i,h.translateMix=h.data.translateMix+(c-h.data.translateMix)*i):(h.rotateMix+=(t-h.rotateMix)*i,h.translateMix+=(c-h.translateMix)*i)}},N.ENTRIES=3,N.PREV_TIME=-3,N.PREV_ROTATE=-2,N.PREV_TRANSLATE=-1,N.ROTATE=1,N.TRANSLATE=2;var k,o=N;function N(t){var e=k.call(this,t)||this;return e.frames=D.Utils.newFloatArray(t*N.ENTRIES),e}D.PathConstraintMixTimeline=o}(spine=spine||{}),!function(M){I.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var i=e[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=t*i.timeScale;if(0<i.delay){if(i.delay-=a,0<i.delay)continue;a=-i.delay,i.delay=0}var s=i.next;if(null!=s){var o=i.trackLast-s.delay;if(0<=o){for(s.delay=0,s.trackTime+=0==i.timeScale?0:(o/i.timeScale+t)*s.timeScale,i.trackTime+=a,this.setCurrent(n,s,!0);null!=s.mixingFrom;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var h=i.mixingFrom;for((i.mixingFrom=null)!=h&&(h.mixingTo=null);null!=h;)this.queue.end(h),h=h.mixingFrom}i.trackTime+=a}}this.queue.drain()},I.prototype.updateMixingFrom=function(t,e){var n,r=t.mixingFrom;return null==r||(n=this.updateMixingFrom(r,e),r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1))},I.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,r=!1,i=0,a=n.length;i<a;i++){var s=n[i];if(!(null==s||0<s.delay)){var r=!0,o=0==i?M.MixBlend.first:s.mixBlend,h=s.alpha,l=(null!=s.mixingFrom?h*=this.applyMixingFrom(s,t,o):s.trackTime>=s.trackEnd&&null==s.next&&(h=0),s.animationLast),u=s.getAnimationTime(),c=s.animation.timelines.length,p=s.animation.timelines;if(0==i&&1==h||o==M.MixBlend.add)for(var d=0;d<c;d++)M.Utils.webkit602BugfixHelper(h,o),p[d].apply(t,l,u,e,h,o,M.MixDirection.mixIn);else for(var f=s.timelineMode,m=0==s.timelinesRotation.length,g=(m&&M.Utils.setArraySize(s.timelinesRotation,c<<1,null),s.timelinesRotation),d=0;d<c;d++){var v=p[d],y=(f[d]&I.NOT_LAST-1)==I.SUBSEQUENT?o:M.MixBlend.setup;v instanceof M.RotateTimeline?this.applyRotateTimeline(v,t,u,h,y,g,d<<1,m):(M.Utils.webkit602BugfixHelper(h,o),v.apply(t,l,u,e,h,y,M.MixDirection.mixIn))}this.queueEvents(s,u),e.length=0,s.nextAnimationLast=u,s.nextTrackLast=s.trackTime}}return this.queue.drain(),r},I.prototype.applyMixingFrom=function(t,e,n){var r=t.mixingFrom,i=(null!=r.mixingFrom&&this.applyMixingFrom(r,e,n),0),a=(0==t.mixDuration?(i=1,n==M.MixBlend.first&&(n=M.MixBlend.setup)):(1<(i=t.mixTime/t.mixDuration)&&(i=1),n!=M.MixBlend.first&&(n=r.mixBlend)),i<r.eventThreshold?this.events:null),s=i<r.attachmentThreshold,o=i<r.drawOrderThreshold,h=r.animationLast,l=r.getAnimationTime(),u=r.animation.timelines.length,c=r.animation.timelines,p=r.alpha*t.interruptAlpha,d=p*(1-i);if(n==M.MixBlend.add)for(var f=0;f<u;f++)c[f].apply(e,h,l,a,d,n,M.MixDirection.mixOut);else for(var m=r.timelineMode,g=r.timelineHoldMix,v=0==r.timelinesRotation.length,y=(v&&M.Utils.setArraySize(r.timelinesRotation,u<<1,null),r.timelinesRotation),f=r.totalAlpha=0;f<u;f++){var E=c[f],x=M.MixDirection.mixOut,w=void 0,T=0;switch(m[f]&I.NOT_LAST-1){case I.SUBSEQUENT:if(w=n,!s&&E instanceof M.AttachmentTimeline){if((m[f]&I.NOT_LAST)==I.NOT_LAST)continue;w=M.MixBlend.setup}if(!o&&E instanceof M.DrawOrderTimeline)continue;T=d;break;case I.FIRST:w=M.MixBlend.setup,T=d;break;case I.HOLD:w=M.MixBlend.setup,T=p;break;default:var w=M.MixBlend.setup,A=g[f],T=p*Math.max(0,1-A.mixTime/A.mixDuration)}r.totalAlpha+=T,E instanceof M.RotateTimeline?this.applyRotateTimeline(E,e,l,T,w,y,f<<1,v):(M.Utils.webkit602BugfixHelper(T,n),w==M.MixBlend.setup&&(E instanceof M.AttachmentTimeline?!s&&(m[f]&I.NOT_LAST)!=I.NOT_LAST||(x=M.MixDirection.mixIn):E instanceof M.DrawOrderTimeline&&o&&(x=M.MixDirection.mixIn)),E.apply(e,h,l,a,T,w,x))}return 0<t.mixDuration&&this.queueEvents(r,l),this.events.length=0,r.nextAnimationLast=l,r.nextTrackLast=r.trackTime,i},I.prototype.applyRotateTimeline=function(t,e,n,r,i,a,s,o){if(o&&(a[s]=0),1==r)t.apply(e,0,n,null,1,i,M.MixDirection.mixIn);else{var h=t.frames,l=e.bones[t.boneIndex];if(l.active){var u=0,c=0;if(n<h[0])switch(i){case M.MixBlend.setup:l.rotation=l.data.rotation;default:return;case M.MixBlend.first:u=l.rotation,c=l.data.rotation}else{u=(i==M.MixBlend.setup?l.data:l).rotation;n>=h[h.length-M.RotateTimeline.ENTRIES]?c=l.data.rotation+h[h.length+M.RotateTimeline.PREV_ROTATION]:(i=h[(e=M.Animation.binarySearch(h,n,M.RotateTimeline.ENTRIES))+M.RotateTimeline.PREV_ROTATION],p=h[e],t=t.getCurvePercent((e>>1)-1,1-(n-p)/(h[e+M.RotateTimeline.PREV_TIME]-p)),c=h[e+M.RotateTimeline.ROTATION]-i,c=i+(c-=360*(16384-(16384.499999999996-c/360|0)))*t+l.data.rotation,c-=360*(16384-(16384.499999999996-c/360|0)))}var n=0,p=c-u;0==(p-=360*(16384-(16384.499999999996-p/360|0)))?n=a[s]:(e=h=0,e=o?(h=0,p):(h=a[s],a[s+1]),i=0<p,t=0<=h,M.MathUtils.signum(e)!=M.MathUtils.signum(p)&&Math.abs(e)<=90&&(180<Math.abs(h)&&(h+=360*M.MathUtils.signum(h)),t=i),n=p+h-h%360,t!=i&&(n+=360*M.MathUtils.signum(h)),a[s]=n),a[s+1]=p,l.rotation=(u+=n*r)-360*(16384-(16384.499999999996-u/360|0))}}},I.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,i=r-n,a=t.trackLast%i,s=this.events,o=0,h=s.length;o<h;o++){var l=s[o];if(l.time<a)break;l.time>r||this.queue.event(t,l)}for((t.loop?0==i||a>t.trackTime%i:r<=e&&t.animationLast<r)&&this.queue.complete(t);o<h;o++)s[o].time<n||this.queue.event(t,s[o])},I.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},I.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){t=this.tracks[t];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var e=t;;){var n=e.mixingFrom;if(null==n)break;this.queue.end(n),e.mixingFrom=null,e.mixingTo=null,e=n}this.tracks[t.trackIndex]=null,this.queue.drain()}}},I.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),((e.mixingFrom=r).mixingTo=e).mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},I.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},I.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(t),e=(null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i)),this.trackEntry(t,e,n,i));return this.setCurrent(t,e,r),this.queue.drain(),e},I.prototype.addAnimation=function(t,e,n,r){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,r)},I.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;n=this.trackEntry(t,e,n,i);return null==i?(this.setCurrent(t,n,!0),this.queue.drain()):(i.next=n,r<=0&&(0!=(t=i.animationEnd-i.animationStart)?(i.loop?r+=t*(1+(i.trackTime/t|0)):r+=Math.max(t,i.trackTime),r-=this.data.getMix(i.animation,e)):r=i.trackTime)),n.delay=r,n},I.prototype.setEmptyAnimation=function(t,e){t=this.setAnimationWith(t,I.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t},I.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);t=this.addAnimationWith(t,I.emptyAnimation,!1,n);return t.mixDuration=e,t.trackEnd=e,t},I.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},I.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(M.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},I.prototype.trackEntry=function(t,e,n,r){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=n,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==r?0:this.data.getMix(r.animation,e),i.mixBlend=M.MixBlend.replace,i},I.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},I.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==M.MixBlend.add||this.computeHold(n),null!=(n=n.mixingTo););}}this.propertyIDs.clear();for(t=this.tracks.length-1;0<=t;t--)for(n=this.tracks[t];null!=n;)this.computeNotLast(n),n=n.mixingFrom},I.prototype.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,r=t.animation.timelines.length,i=M.Utils.setArraySize(t.timelineMode,r),a=(t.timelineHoldMix.length=0,M.Utils.setArraySize(t.timelineHoldMix,r)),s=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var o=0;o<r;o++)s.add(n[o].getPropertyId()),i[o]=I.HOLD;else t:for(o=0;o<r;o++){var h=n[o],l=h.getPropertyId();if(s.add(l))if(null==e||h instanceof M.AttachmentTimeline||h instanceof M.DrawOrderTimeline||h instanceof M.EventTimeline||!e.animation.hasTimeline(l))i[o]=I.FIRST;else{for(var u=e.mixingTo;null!=u;u=u.mixingTo)if(!u.animation.hasTimeline(l)){if(0<t.mixDuration){i[o]=I.HOLD_MIX,a[o]=u;continue t}break}i[o]=I.HOLD}else i[o]=I.SUBSEQUENT}},I.prototype.computeNotLast=function(t){for(var e,n=t.animation.timelines,r=t.animation.timelines.length,i=t.timelineMode,a=this.propertyIDs,s=0;s<r;s++)n[s]instanceof M.AttachmentTimeline&&(e=n[s],a.add(e.slotIndex)||(i[s]|=I.NOT_LAST))},I.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},I.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},I.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0<=t&&this.listeners.splice(t,1)},I.prototype.clearListeners=function(){this.listeners.length=0},I.prototype.clearListenerNotifications=function(){this.queue.clear()},I.emptyAnimation=new M.Animation("<empty>",[],0),I.SUBSEQUENT=0,I.FIRST=1,I.HOLD=2,I.HOLD_MIX=3,I.NOT_LAST=4;var t=I;function I(t){this.tracks=new Array,this.timeScale=1,this.events=new Array,this.listeners=new Array,this.queue=new r(this),this.propertyIDs=new M.IntSet,this.animationsChanged=!1,this.trackEntryPool=new M.Pool(function(){return new e}),this.data=t}M.AnimationState=t;n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},n.prototype.getAnimationTime=function(){var t;return this.loop?0==(t=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%t+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0};var e=n;function n(){this.mixBlend=M.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}M.TrackEntry=e;i.prototype.start=function(t){this.objects.push(o.start),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.interrupt=function(t){this.objects.push(o.interrupt),this.objects.push(t)},i.prototype.end=function(t){this.objects.push(o.end),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.dispose=function(t){this.objects.push(o.dispose),this.objects.push(t)},i.prototype.complete=function(t){this.objects.push(o.complete),this.objects.push(t)},i.prototype.event=function(t,e){this.objects.push(o.event),this.objects.push(t),this.objects.push(e)},i.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];switch(r){case o.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var a=0;a<e.length;a++)e[a].start&&e[a].start(i);break;case o.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(a=0;a<e.length;a++)e[a].interrupt&&e[a].interrupt(i);break;case o.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(a=0;a<e.length;a++)e[a].end&&e[a].end(i);case o.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(a=0;a<e.length;a++)e[a].dispose&&e[a].dispose(i);this.animState.trackEntryPool.free(i);break;case o.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(a=0;a<e.length;a++)e[a].complete&&e[a].complete(i);break;case o.event:var s=t[2+n++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(a=0;a<e.length;a++)e[a].event&&e[a].event(i,s)}}this.clear(),this.drainDisabled=!1}},i.prototype.clear=function(){this.objects.length=0};var o,r=i;function i(t){this.objects=[],this.drainDisabled=!1,this.animState=t}function a(){}M.EventQueue=r,(t=o=M.EventType||(M.EventType={}))[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event",a.prototype.start=function(t){},a.prototype.interrupt=function(t){},a.prototype.end=function(t){},a.prototype.dispose=function(t){},a.prototype.complete=function(t){},a.prototype.event=function(t,e){},M.AnimationStateAdapter=a}(spine=spine||{}),!function(t){function e(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}e.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);t=this.skeletonData.findAnimation(e);if(null==t)throw new Error("Animation not found: "+e);this.setMixWith(r,t,n)},e.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");t=t.name+"."+e.name;this.animationToMixTime[t]=n},e.prototype.getMix=function(t,e){t=t.name+"."+e.name,e=this.animationToMixTime[t];return void 0===e?this.defaultMix:e},t.AnimationStateData=e}(spine=spine||{}),!function(p){function t(t,e){void 0===e&&(e=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=t,this.pathPrefix=e}t.prototype.downloadText=function(t,e,n){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),this.rawDataUris[t]&&(t=this.rawDataUris[t]),r.open("GET",t,!0),r.onload=function(){200==r.status?e(r.responseText):n(r.status,r.responseText)},r.onerror=function(){n(r.status,r.responseText)},r.send()},t.prototype.downloadBinary=function(t,e,n){var r=new XMLHttpRequest;this.rawDataUris[t]&&(t=this.rawDataUris[t]),r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status?e(new Uint8Array(r.response)):n(r.status,r.responseText)},r.onerror=function(){n(r.status,r.responseText)},r.send()},t.prototype.setRawDataURI=function(t,e){this.rawDataUris[this.pathPrefix+t]=e},t.prototype.loadBinary=function(n,e,r){var i=this;void 0===e&&(e=null),void 0===r&&(r=null),n=this.pathPrefix+n,this.toLoad++,this.downloadBinary(n,function(t){i.assets[n]=t,e&&e(n,t),i.toLoad--,i.loaded++},function(t,e){i.errors[n]="Couldn't load binary "+n+": status "+status+", "+e,r&&r(n,"Couldn't load binary "+n+": status "+status+", "+e),i.toLoad--,i.loaded++})},t.prototype.loadText=function(n,e,r){var i=this;void 0===e&&(e=null),void 0===r&&(r=null),n=this.pathPrefix+n,this.toLoad++,this.downloadText(n,function(t){i.assets[n]=t,e&&e(n,t),i.toLoad--,i.loaded++},function(t,e){i.errors[n]="Couldn't load text "+n+": status "+status+", "+e,r&&r(n,"Couldn't load text "+n+": status "+status+", "+e),i.toLoad--,i.loaded++})},t.prototype.loadTexture=function(n,r,e){var i=this,a=(void 0===r&&(r=null),void 0===e&&(e=null),n=this.pathPrefix+n),s=(this.toLoad++,new Image);s.crossOrigin="anonymous",s.onload=function(t){var e=i.textureLoader(s);i.assets[a]=e,i.toLoad--,i.loaded++,r&&r(n,s)},s.onerror=function(t){i.errors[n]="Couldn't load image "+n,i.toLoad--,i.loaded++,e&&e(n,"Couldn't load image "+n)},this.rawDataUris[n]&&(n=this.rawDataUris[n]),s.src=n},t.prototype.loadTextureAtlas=function(o,h,l){var u=this,c=(void 0===h&&(h=null),void 0===l&&(l=null),0<=o.lastIndexOf("/")?o.substring(0,o.lastIndexOf("/")):"");o=this.pathPrefix+o,this.toLoad++,this.downloadText(o,function(i){var a={count:0},s=new Array;try{new p.TextureAtlas(i,function(t){s.push(""==c?t:c+"/"+t);t=document.createElement("img");return t.width=16,t.height=16,new p.FakeTexture(t)})}catch(t){var e=t;return u.errors[o]="Couldn't load texture atlas "+o+": "+e.message,l&&l(o,"Couldn't load texture atlas "+o+": "+e.message),u.toLoad--,void u.loaded++}for(var t=0,n=s;t<n.length;t++)!function(t){var r=!1;u.loadTexture(t,function(e,t){if(a.count++,a.count==s.length)if(r)u.errors[o]="Couldn't load texture atlas page "+e+"} of atlas "+o,l&&l(o,"Couldn't load texture atlas page "+e+" of atlas "+o),u.toLoad--,u.loaded++;else try{var n=new p.TextureAtlas(i,function(t){return u.get(""==c?t:c+"/"+t)});u.assets[o]=n,h&&h(o,n),u.toLoad--,u.loaded++}catch(t){e=t;u.errors[o]="Couldn't load texture atlas "+o+": "+e.message,l&&l(o,"Couldn't load texture atlas "+o+": "+e.message),u.toLoad--,u.loaded++}},function(t,e){r=!0,a.count++,a.count==s.length&&(u.errors[o]="Couldn't load texture atlas page "+t+"} of atlas "+o,l&&l(o,"Couldn't load texture atlas page "+t+" of atlas "+o),u.toLoad--,u.loaded++)})}(n[t])},function(t,e){u.errors[o]="Couldn't load texture atlas "+o+": status "+status+", "+e,l&&l(o,"Couldn't load texture atlas "+o+": status "+status+", "+e),u.toLoad--,u.loaded++})},t.prototype.get=function(t){return t=this.pathPrefix+t,this.assets[t]},t.prototype.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];e.dispose&&e.dispose(),this.assets[t]=null},t.prototype.removeAll=function(){for(var t in this.assets){t=this.assets[t];t.dispose&&t.dispose()}this.assets={}},t.prototype.isLoadingComplete=function(){return 0==this.toLoad},t.prototype.getToLoad=function(){return this.toLoad},t.prototype.getLoaded=function(){return this.loaded},t.prototype.dispose=function(){this.removeAll()},t.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},t.prototype.getErrors=function(){return this.errors},p.AssetManager=t}(spine=spine||{}),!function(i){function t(t){this.atlas=t}t.prototype.newRegionAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");r.renderObject=r;n=new i.RegionAttachment(e);return n.setRegion(r),n},t.prototype.newMeshAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");r.renderObject=r;n=new i.MeshAttachment(e);return n.region=r,n},t.prototype.newBoundingBoxAttachment=function(t,e){return new i.BoundingBoxAttachment(e)},t.prototype.newPathAttachment=function(t,e){return new i.PathAttachment(e)},t.prototype.newPointAttachment=function(t,e){return new i.PointAttachment(e)},t.prototype.newClippingAttachment=function(t,e){return new i.ClippingAttachment(e)},i.AtlasAttachmentLoader=t}(spine=spine||{}),!function(t){(t=t.BlendMode||(t.BlendMode={}))[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(spine=spine||{}),!function(I){function t(t,e,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,n,r,i,a,s){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=r,this.ascaleY=i,this.ashearX=a,this.ashearY=s,this.appliedValid=!0;var o,h,l,u=this.parent;if(null==u)m=n+90+s,h=(o=this.skeleton).scaleX,l=o.scaleY,this.a=I.MathUtils.cosDeg(n+a)*r*h,this.b=I.MathUtils.cosDeg(m)*i*h,this.c=I.MathUtils.sinDeg(n+a)*r*l,this.d=I.MathUtils.sinDeg(m)*i*l,this.worldX=t*h+o.x,this.worldY=e*l+o.y;else{var c=u.a,p=u.b,d=u.c,f=u.d;switch(this.worldX=c*t+p*e+u.worldX,this.worldY=d*t+f*e+u.worldY,this.data.transformMode){case I.TransformMode.Normal:var m=n+90+s,g=I.MathUtils.cosDeg(n+a)*r,v=I.MathUtils.cosDeg(m)*i,y=I.MathUtils.sinDeg(n+a)*r,E=I.MathUtils.sinDeg(m)*i;return this.a=c*g+p*y,this.b=c*v+p*E,this.c=d*g+f*y,void(this.d=d*v+f*E);case I.TransformMode.OnlyTranslation:m=n+90+s;this.a=I.MathUtils.cosDeg(n+a)*r,this.b=I.MathUtils.cosDeg(m)*i,this.c=I.MathUtils.sinDeg(n+a)*r,this.d=I.MathUtils.sinDeg(m)*i;break;case I.TransformMode.NoRotationOrReflection:var x=0,w=n+a-(x=1e-4<(T=c*c+d*d)?(p=d*(T=Math.abs(c*f-p*d)/T),f=c*T,Math.atan2(d,c)*I.MathUtils.radDeg):(d=c=0,90-Math.atan2(f,p)*I.MathUtils.radDeg)),x=n+s-x+90,g=I.MathUtils.cosDeg(w)*r,v=I.MathUtils.cosDeg(x)*i,y=I.MathUtils.sinDeg(w)*r,E=I.MathUtils.sinDeg(x)*i;this.a=c*g-p*y,this.b=c*v-p*E,this.c=d*g+f*y,this.d=d*v+f*E;break;case I.TransformMode.NoScale:case I.TransformMode.NoScaleOrReflection:var T,w=I.MathUtils.cosDeg(n),x=I.MathUtils.sinDeg(n),A=(c*w+p*x)/this.skeleton.scaleX,w=(d*w+f*x)/this.skeleton.scaleY,x=(A*=T=1e-5<(T=Math.sqrt(A*A+w*w))?1/T:T,w*=T,T=Math.sqrt(A*A+w*w),this.data.transformMode==I.TransformMode.NoScale&&c*f-p*d<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T),Math.PI/2+Math.atan2(w,A)),M=Math.cos(x)*T,x=Math.sin(x)*T,g=I.MathUtils.cosDeg(a)*r,v=I.MathUtils.cosDeg(90+s)*i,y=I.MathUtils.sinDeg(a)*r,E=I.MathUtils.sinDeg(90+s)*i;this.a=A*g+M*y,this.b=A*v+M*E,this.c=w*g+x*y,this.d=w*v+x*E}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*I.MathUtils.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*I.MathUtils.radDeg},t.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},t.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t,e,n,r,i,a,s=this.parent;null==s?(this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*I.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*I.MathUtils.radDeg):(r=s.a,n=s.b,a=s.c,e=s.d,t=this.worldX-s.worldX,s=this.worldY-s.worldY,this.ax=t*e*(i=1/(r*e-n*a))-s*n*i,this.ay=s*r*i-t*a*i,e=(s=i*e)*this.a-(t=i*n)*this.c,n=s*this.b-t*this.d,r=(s=i*r)*this.c-(t=i*a)*this.a,i=s*this.d-t*this.b,this.ashearX=0,this.ascaleX=Math.sqrt(e*e+r*r),1e-4<this.ascaleX?(this.ascaleY=(a=e*i-n*r)/this.ascaleX,this.ashearY=Math.atan2(e*n+r*i,a)*I.MathUtils.radDeg,this.arotation=Math.atan2(r,e)*I.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(n*n+i*i),this.ashearY=0,this.arotation=90-Math.atan2(i,n)*I.MathUtils.radDeg))},t.prototype.worldToLocal=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,a=1/(e*i-n*r),s=t.x-this.worldX,o=t.y-this.worldY;return t.x=s*i*a-o*n*a,t.y=o*e*a-s*r*a,t},t.prototype.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},t.prototype.worldToLocalRotation=function(t){var e=I.MathUtils.sinDeg(t),t=I.MathUtils.cosDeg(t);return Math.atan2(this.a*e-this.c*t,this.d*t-this.b*e)*I.MathUtils.radDeg+this.rotation-this.shearX},t.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=I.MathUtils.sinDeg(t),t=I.MathUtils.cosDeg(t);return Math.atan2(t*this.c+e*this.d,t*this.a+e*this.b)*I.MathUtils.radDeg},t.prototype.rotateWorld=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,a=I.MathUtils.cosDeg(t),t=I.MathUtils.sinDeg(t);this.a=a*e-t*r,this.b=a*n-t*i,this.c=t*e+a*r,this.d=t*n+a*i,this.appliedValid=!1},I.Bone=t}(spine=spine||{}),!function(r){var i,t;r.BoneData=function(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=i.Normal,this.skinRequired=!1,this.color=new r.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n},(t=i=r.TransformMode||(r.TransformMode={}))[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(spine=spine||{}),(spine||(spine={})).ConstraintData=function(t,e,n){this.name=t,this.order=e,this.skinRequired=n},(spine||(spine={})).Event=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},(spine||(spine={})).EventData=function(t){this.name=t},!function(H){function t(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},t.prototype.apply1=function(t,e,n,r,i,a,s){t.appliedValid||t.updateAppliedTransform();var o=t.parent,h=o.a,l=o.b,u=o.c,c=o.d,p=-t.ashearX-t.arotation,d=0,f=0;switch(t.data.transformMode){case H.TransformMode.OnlyTranslation:d=e-t.worldX,f=n-t.worldY;break;case H.TransformMode.NoRotationOrReflection:p+=Math.atan2(u,h)*H.MathUtils.radDeg;var m=Math.abs(h*c-l*u)/(h*h+u*u),l=-u*m,c=h*m;default:var m=e-o.worldX,g=n-o.worldY,v=h*c-l*u,d=(m*c-g*l)/v-t.ax,f=(g*h-m*u)/v-t.ay}p+=Math.atan2(f,d)*H.MathUtils.radDeg,t.ascaleX<0&&(p+=180),180<p?p-=360:p<-180&&(p+=360);var y=t.ascaleX,E=t.ascaleY;if(r||i){switch(t.data.transformMode){case H.TransformMode.NoScale:case H.TransformMode.NoScaleOrReflection:d=e-t.worldX,f=n-t.worldY}var x=t.data.length*y,w=Math.sqrt(d*d+f*f);(r&&w<x||i&&x<w&&1e-4<x)&&(y*=r=(w/x-1)*s+1,a)&&(E*=r)}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*s,y,E,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,n,r,i,O,a,s){if(0==s)e.updateWorldTransform();else{t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var o,F=t.ax,D=t.ay,h=t.ascaleX,U=h,l=t.ascaleY,u=e.ascaleX,X=0,B=0,c=0,c=h<0?(h=-h,X=180,-1):(X=0,1),B=(l<0&&(l=-l,c=-c),u<0?(u=-u,180):0),p=e.ax,d=0,f=0,m=0,g=t.a,v=t.b,y=t.c,E=t.d,Y=Math.abs(h-l)<=1e-4,m=Y?(f=g*p+v*(d=e.ay)+t.worldX,y*p+E*d+t.worldY):(d=0,f=g*p+t.worldX,y*p+t.worldY),x=t.parent,w=(g=x.a,v=x.b,y=x.c,1/(g*(E=x.d)-v*y)),f=((M=f-x.worldX)*E-(I=m-x.worldY)*v)*w-F,m=(I*g-M*y)*w-D,T=Math.sqrt(f*f+m*m),A=e.data.length*u;if(T<1e-4)this.apply1(t,n,r,!1,O,!1,s),e.updateWorldTransformWith(p,d,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);else{var M,I,R=((M=n-x.worldX)*E-(I=r-x.worldY)*v)*w-F,S=(I*g-M*y)*w-D,b=R*R+S*S;0!=a&&(a*=h*(u+1)/2,0<(m=(f=Math.sqrt(b))-T-A*h+a))&&(b=(R-=(n=(m-a*(1-(n=Math.min(1,m/(2*a))-1)*n))/f)*R)*R+(S-=n*S)*S);t:if(Y){var C=(b-T*T-(A*=h)*A)/(2*T*A);C<-1?C=-1:1<C&&(C=1,O)&&(U*=(Math.sqrt(b)/(T+A)-1)*s+1),o=Math.acos(C)*i,g=T+A*C,v=A*Math.sin(o),L=Math.atan2(S*g-R*v,R*g+S*v)}else{var C=(g=h*A)*g,_=(v=l*A)*v,$=Math.atan2(S,R),P=-2*_*T,N=_-C;if(0<=(E=P*P-4*N*(y=_*T*T+C*b-C*_))){var V=Math.sqrt(E),P=(V=-(P+(V=P<0?-V:V))/2)/N,N=y/V,V=Math.abs(P)<Math.abs(N)?P:N;if(V*V<=b){I=Math.sqrt(b-V*V)*i,L=$-Math.atan2(I,V),o=Math.atan2(I/l,(V-T)/h);break t}}var P=H.MathUtils.PI,N=T-g,V=N*N,W=0,j=0,k=T+g,q=k*k,G=0;-1<=(y=-g*T/(C-_))&&y<=1&&(y=Math.acos(y),(E=(M=g*Math.cos(y)+T)*M+(I=v*Math.sin(y))*I)<V&&(P=y,V=E,N=M,W=I),q<E)&&(j=y,q=E,k=M,G=I),o=b<=(V+q)/2?(L=$-Math.atan2(W*i,N),P*i):(L=$-Math.atan2(G*i,k),j*i)}var L,r=Math.atan2(d,p)*c,x=t.arotation;180<(L=(L-r)*H.MathUtils.radDeg+X-x)?L-=360:L<-180&&(L+=360),t.updateWorldTransformWith(F,D,x+L*s,U,t.ascaleY,0,0),x=e.arotation,180<(o=((o+r)*H.MathUtils.radDeg-e.ashearX)*c+B-x)?o-=360:o<-180&&(o+=360),e.updateWorldTransformWith(p,d,x+o*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}},H.IkConstraint=t}(spine=spine||{}),!function(t){e=t.ConstraintData,__extends(r,e);var e,n=r;function r(t){t=e.call(this,t,0,!1)||this;return t.bones=new Array,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}t.IkConstraintData=n}(spine=spine||{}),!function(H){function z(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}z.prototype.isActive=function(){return this.active},z.prototype.apply=function(){this.update()},z.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof H.PathAttachment){var e=this.rotateMix,n=this.translateMix,r=0<e;if(0<n||r){var i=this.data,a=i.spacingMode==H.SpacingMode.Percent,s=i.rotateMode,o=s==H.RotateMode.Tangent,h=s==H.RotateMode.ChainScale,l=this.bones.length,u=o?l:l+1,c=this.bones,p=H.Utils.setArraySize(this.spaces,u),d=null,f=this.spacing;if(h||!a){h&&(d=H.Utils.setArraySize(this.lengths,l));for(var O=i.spacingMode==H.SpacingMode.Length,m=0,F=u-1;m<F;){var g,v=(A=c[m]).data.length;v<z.epsilon?(h&&(d[m]=0),p[++m]=0):a?(h&&(I=v*A.a,R=v*A.c,g=Math.sqrt(I*I+R*R),d[m]=g),p[++m]=f):(I=v*A.a,R=v*A.c,g=Math.sqrt(I*I+R*R),h&&(d[m]=g),p[++m]=(O?v+f:f)*g/v)}}else for(m=1;m<u;m++)p[m]=f;var y=this.computeWorldPositions(t,u,o,i.positionMode==H.PositionMode.Percent,a),E=y[0],x=y[1],w=i.offsetRotation,T=!1;0==w?T=s==H.RotateMode.Chain:(T=!1,w*=0<(M=this.target.bone).a*M.d-M.b*M.c?H.MathUtils.degRad:-H.MathUtils.degRad);for(var A,m=0,M=3;m<l;m++,M+=3){(A=c[m]).worldX+=(E-A.worldX)*n,A.worldY+=(x-A.worldY)*n;var I,R,S,b,C,_,P,N,D,V,k=(I=y[M])-E,L=(R=y[M+1])-x;h&&0!=(S=d[m])&&(S=(Math.sqrt(k*k+L*L)/S-1)*e+1,A.a*=S,A.c*=S),E=I,x=R,r&&(S=A.a,b=A.b,C=A.c,_=A.d,N=P=V=0,V=o?y[M-1]:0==p[m+1]?y[M+2]:Math.atan2(L,k),V-=Math.atan2(C,S),T?(P=Math.cos(V),N=Math.sin(V),E+=((D=A.data.length)*(P*S-N*C)-k)*e,x+=(D*(N*S+P*C)-L)*e):V+=w,V>H.MathUtils.PI?V-=H.MathUtils.PI2:V<-H.MathUtils.PI&&(V+=H.MathUtils.PI2),V*=e,P=Math.cos(V),N=Math.sin(V),A.a=P*S-N*C,A.b=P*b-N*_,A.c=N*S+P*C,A.d=N*b+P*_),A.appliedValid=!1}}}},z.prototype.computeWorldPositions=function(t,e,O,F,D){var n=this.target,r=this.position,i=this.spaces,a=H.Utils.setArraySize(this.positions,3*e+2),s=null,o=t.closed,h=t.worldVerticesLength,l=h/6,u=z.NONE;if(t.constantSpeed){o?(s=H.Utils.setArraySize(this.world,h+=2),t.computeWorldVertices(n,2,h-4,s,0,2),t.computeWorldVertices(n,0,2,s,h-4,2),s[h-2]=s[0],s[h-1]=s[1]):(l--,s=H.Utils.setArraySize(this.world,h-=4),t.computeWorldVertices(n,2,h,s,0,2));for(var U=H.Utils.setArraySize(this.curves,l),c=0,p=s[0],d=s[1],f=0,m=0,g=0,v=0,y=0,X=0,B=0,Y=0,E=0,x=0,w=0,T=0,A=0,M=0,I=0,R=2;I<l;I++,R+=6)f=s[R],m=s[R+1],g=s[R+2],v=s[R+3],w=2*(B=.1875*(p-2*f+g))+(E=.09375*(3*(f-g)-p+(y=s[R+4]))),T=2*(Y=.1875*(d-2*m+v))+(x=.09375*(3*(m-v)-d+(X=s[R+5]))),A=.75*(f-p)+B+.16666667*E,M=.75*(m-d)+Y+.16666667*x,c+=Math.sqrt(A*A+M*M),A+=w,M+=T,w+=E,T+=x,c+=Math.sqrt(A*A+M*M),A+=w,M+=T,c+=Math.sqrt(A*A+M*M),A+=w+E,M+=T+x,c+=Math.sqrt(A*A+M*M),U[I]=c,p=y,d=X;if(r*=F?c:c/t.lengths[l-1],D)for(I=1;I<e;I++)i[I]*=c;for(var S=this.segments,b=0,I=0,C=0,_=0,P=0;I<e;I++,C+=3){k=r+=q=i[I];if(o)(k%=c)<0&&(k+=c),_=0;else{if(k<0){this.addBeforePosition(k,s,0,a,C);continue}if(c<k){this.addAfterPosition(k-c,s,h-4,a,C);continue}}for(;;_++){var $=U[_];if(!($<k)){0==_?k/=$:k=(k-(L=U[_-1]))/($-L);break}}if(_!=u){var u=_,N=6*_,p=s[N],d=s[N+1],f=s[N+2],m=s[N+3],g=s[N+4],v=s[N+5],w=2*(B=.03*(p-2*f+g))+(E=.006*(3*(f-g)-p+(y=s[N+6]))),T=2*(Y=.03*(d-2*m+v))+(x=.006*(3*(m-v)-d+(X=s[N+7]))),A=.3*(f-p)+B+.16666667*E,M=.3*(m-d)+Y+.16666667*x,b=Math.sqrt(A*A+M*M);for(S[0]=b,N=1;N<8;N++)A+=w,M+=T,w+=E,T+=x,b+=Math.sqrt(A*A+M*M),S[N]=b;A+=w,M+=T,b+=Math.sqrt(A*A+M*M),S[8]=b,A+=w+E,M+=T+x,b+=Math.sqrt(A*A+M*M),S[9]=b,P=0}for(k*=b;;P++){var W=S[P];if(!(W<k)){0==P?k/=W:k=P+(k-(L=S[P-1]))/(W-L);break}}this.addCurvePosition(.1*k,p,d,f,m,g,v,y,X,a,C,O||0<I&&0==q)}}else{var j=t.lengths,V=j[l-=o?1:2];if(F&&(r*=V),D)for(var I=1;I<e;I++)i[I]*=V;for(var s=H.Utils.setArraySize(this.world,8),I=0,C=0,_=0;I<e;I++,C+=3){var q,k=r+=q=i[I];if(o)(k%=V)<0&&(k+=V),_=0;else{if(k<0){u!=z.BEFORE&&(u=z.BEFORE,t.computeWorldVertices(n,2,4,s,0,2)),this.addBeforePosition(k,s,0,a,C);continue}if(V<k){u!=z.AFTER&&(u=z.AFTER,t.computeWorldVertices(n,h-6,4,s,0,2)),this.addAfterPosition(k-V,s,0,a,C);continue}}for(;;_++){var L,G=j[_];if(!(G<k)){0==_?k/=G:k=(k-(L=j[_-1]))/(G-L);break}}_!=u&&(u=_,o&&_==l?(t.computeWorldVertices(n,h-4,4,s,0,2),t.computeWorldVertices(n,0,4,s,4,2)):t.computeWorldVertices(n,6*_+2,8,s,0,2)),this.addCurvePosition(k,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],a,C,O||0<I&&0==q)}}return a},z.prototype.addBeforePosition=function(t,e,n,r,i){var a=e[n],s=e[n+1],o=e[n+2]-a,e=e[n+3]-s,n=Math.atan2(e,o);r[i]=a+t*Math.cos(n),r[i+1]=s+t*Math.sin(n),r[i+2]=n},z.prototype.addAfterPosition=function(t,e,n,r,i){var a=e[n+2],s=e[n+3],o=a-e[n],e=s-e[n+1],n=Math.atan2(e,o);r[i]=a+t*Math.cos(n),r[i+1]=s+t*Math.sin(n),r[i+2]=n},z.prototype.addCurvePosition=function(t,e,n,r,i,a,s,o,h,l,u,c){var p,d,f,m,g,v,y;0==t||isNaN(t)?(l[u]=e,l[u+1]=n,l[u+2]=Math.atan2(i-n,r-e)):(y=n*(v=(d=(f=1-t)*f)*f)+i*(m=f*(g=3*(f=f*t)))+s*(g=g*t)+h*(p=(h=t*t)*t),l[u]=v=e*v+r*m+a*g+o*p,l[u+1]=y,c&&(l[u+2]=t<.001?Math.atan2(i-n,r-e):Math.atan2(y-(n*d+i*f*2+s*h),v-(e*d+r*f*2+a*h))))},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,H.PathConstraint=z}(spine=spine||{}),!function(t){e=t.ConstraintData,__extends(r,e);var e,n=r;function r(t){t=e.call(this,t,0,!1)||this;return t.bones=new Array,t}t.PathConstraintData=n,(n=t.PositionMode||(t.PositionMode={}))[n.Fixed=0]="Fixed",n[n.Percent=1]="Percent",(n=t.SpacingMode||(t.SpacingMode={}))[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",(n=t.RotateMode||(t.RotateMode={}))[n.Tangent=0]="Tangent",n[n.Chain=1]="Chain",n[n.ChainScale=2]="ChainScale"}(spine=spine||{}),!function(t){e.prototype.loaded=function(){var t,e=0;for(t in this.assets)e++;return e};var i=e;function e(t){this.toLoad=new Array,this.assets={},this.clientId=t}function n(t){void 0===t&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}n.prototype.queueAsset=function(t,e,n){var r=this.clientAssets[t];return null==r&&(r=new i(t),this.clientAssets[t]=r),null!==e&&(r.textureLoader=e),r.toLoad.push(n),this.queuedAssets[n]!==n&&(this.queuedAssets[n]=n,!0)},n.prototype.loadText=function(t,e){var n,r=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).overrideMimeType("text/html"),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?r.rawAssets[e]=n.responseText:r.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},n.prototype.loadJson=function(t,e){var n,r=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).overrideMimeType("text/html"),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?r.rawAssets[e]=JSON.parse(n.responseText):r.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},n.prototype.loadTexture=function(t,e,n){var r,i=this;n=this.pathPrefix+n,this.queueAsset(t,e,n)&&((r=new Image).crossOrigin="anonymous",r.onload=function(t){i.rawAssets[n]=r},r.onerror=function(t){i.errors[n]="Couldn't load image "+n},r.src=n)},n.prototype.get=function(t,e){e=this.pathPrefix+e;t=this.clientAssets[t];return null==t||t.assets[e]},n.prototype.updateClientAssets=function(t){for(var e=0;e<t.toLoad.length;e++){var n=t.toLoad[e],r=t.assets[n];null==r&&null!=(r=this.rawAssets[n])&&(r instanceof HTMLImageElement?t.assets[n]=t.textureLoader(r):t.assets[n]=r)}},n.prototype.isLoadingComplete=function(t){t=this.clientAssets[t];return null==t||(this.updateClientAssets(t),t.toLoad.length==t.loaded())},n.prototype.dispose=function(){},n.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},n.prototype.getErrors=function(){return this.errors},t.SharedAssetManager=n}(spine=spine||{}),!function(y){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n,r=t.bones[e],i=void 0;null==r.parent?i=new y.Bone(r,this,null):(n=this.bones[r.parent.index],i=new y.Bone(r,this,n),n.children.push(i)),this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var a=t.slots[e],i=this.bones[a.boneData.index],a=new y.Slot(a,i);this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new y.IkConstraint(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var o=t.transformConstraints[e];this.transformConstraints.push(new y.TransformConstraint(o,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new y.PathConstraint(h,this))}this.color=new y.Color(1,1,1,1),this.updateCache()}t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)(i=t[e]).sorted=i.data.skinRequired,i.active=!i.sorted;if(null!=this.skin)for(var r=this.skin.bones,e=0,n=this.skin.bones.length;e<n;e++)for(var i=this.bones[r[e].index];i.sorted=!1,i.active=!0,null!=(i=i.parent););var a=this.ikConstraints,s=this.transformConstraints,o=this.pathConstraints,h=a.length,l=s.length,u=o.length,c=h+l+u;t:for(e=0;e<c;e++){for(var p=0;p<h;p++)if((d=a[p]).data.order==e){this.sortIkConstraint(d);continue t}for(p=0;p<l;p++)if((d=s[p]).data.order==e){this.sortTransformConstraint(d);continue t}for(var d,p=0;p<u;p++)if((d=o[p]).data.order==e){this.sortPathConstraint(d);continue t}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){var e,n,r;t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active&&(e=t.target,this.sortBone(e),n=(e=t.bones)[0],this.sortBone(n),1<e.length&&(r=e[e.length-1],-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)),this._updateCache.push(t),this.sortReset(n.children),e[e.length-1].sorted=!0)},t.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,r=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var i=0,a=this.data.skins.length;i<a;i++)this.sortPathConstraintAttachment(this.data.skins[i],n,r);for(var e=e.getAttachment(),s=(e instanceof y.PathAttachment&&this.sortPathConstraintAttachmentWith(e,r),t.bones),o=s.length,i=0;i<o;i++)this.sortBone(s[i]);this._updateCache.push(t);for(i=0;i<o;i++)this.sortReset(s[i].children);for(i=0;i<o;i++)s[i].sorted=!0}},t.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var r=0;r<n;r++){var i=e[r];this.sortBone(i.parent),-1<this._updateCache.indexOf(i)||this.updateCacheReset.push(i)}else for(r=0;r<n;r++)this.sortBone(e[r]);this._updateCache.push(t);for(var a=0;a<n;a++)this.sortReset(e[a].children);for(a=0;a<n;a++)e[a].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof y.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var r=this.bones,i=0;i<n.length;)for(var a=n[i++],s=i+a;i<s;i++){var o=n[i];this.sortBone(r[o])}}},t.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},t.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var i=this._updateCache,e=0,n=i.length;e<n;e++)i[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var r=this.ikConstraints,e=0,n=r.length;e<n;e++)(o=r[e]).mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;for(var i=this.transformConstraints,e=0,n=i.length;e<n;e++){var a=(o=i[e]).data;o.rotateMix=a.rotateMix,o.translateMix=a.translateMix,o.scaleMix=a.scaleMix,o.shearMix=a.shearMix}for(var s=this.pathConstraints,e=0,n=s.length;e<n;e++){var o,a=(o=s[e]).data;o.position=a.position,o.spacing=a.spacing,o.rotateMix=a.rotateMix,o.translateMix=a.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;y.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n],a=i.data.attachmentName;null!=a&&null!=(a=t.getAttachment(n,a))&&i.setAttachment(a)}this.skin=t,this.updateCache()}},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==t){var s=null;if(null!=e&&null==(s=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(s)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},t.prototype.getBounds=function(t,e,n){if(void 0===n&&(n=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=0,l=r.length;h<l;h++){var u=r[h];if(u.bone.active){var c=0,p=null,d=u.getAttachment();if(d instanceof y.RegionAttachment?(p=y.Utils.setArraySize(n,c=8,0),d.computeWorldVertices(u.bone,p,0,2)):d instanceof y.MeshAttachment&&(c=(d=d).worldVerticesLength,p=y.Utils.setArraySize(n,c,0),d.computeWorldVertices(u,0,c,p,0,2)),null!=p)for(var f=0,m=p.length;f<m;f+=2)var g=p[f],v=p[f+1],i=Math.min(i,g),a=Math.min(a,v),s=Math.max(s,g),o=Math.max(o,v)}}t.set(i,a),e.set(s-i,o-a)},t.prototype.update=function(t){this.time+=t},y.Skeleton=t}(spine=spine||{}),!function(W){j.prototype.readSkeletonData=function(t){var e=this.scale,n=new W.SkeletonData,r=(n.name="",new g(t));if(n.hash=r.readString(),n.version=r.readString(),"3.8.75"==n.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=r.readFloat(),n.y=r.readFloat(),n.width=r.readFloat(),n.height=r.readFloat();for(var i=r.readBoolean(),a=(i&&(n.fps=r.readFloat(),n.imagesPath=r.readString(),n.audioPath=r.readString()),0),a=r.readInt(!0),s=0;s<a;s++)r.strings.push(r.readString());a=r.readInt(!0);for(s=0;s<a;s++){var o=r.readString(),h=0==s?null:n.bones[r.readInt(!0)];(c=new W.BoneData(s,o,h)).rotation=r.readFloat(),c.x=r.readFloat()*e,c.y=r.readFloat()*e,c.scaleX=r.readFloat(),c.scaleY=r.readFloat(),c.shearX=r.readFloat(),c.shearY=r.readFloat(),c.length=r.readFloat()*e,c.transformMode=j.TransformModeValues[r.readInt(!0)],c.skinRequired=r.readBoolean(),i&&W.Color.rgba8888ToColor(c.color,r.readInt32()),n.bones.push(c)}a=r.readInt(!0);for(s=0;s<a;s++){var l=r.readString(),u=n.bones[r.readInt(!0)],c=new W.SlotData(s,l,u),l=(W.Color.rgba8888ToColor(c.color,r.readInt32()),r.readInt32());-1!=l&&W.Color.rgb888ToColor(c.darkColor=new W.Color,l),c.attachmentName=r.readStringRef(),c.blendMode=j.BlendModeValues[r.readInt(!0)],n.slots.push(c)}a=r.readInt(!0);for(var s=0,p=void 0;s<a;s++){(c=new W.IkConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),p=r.readInt(!0);for(var d=0;d<p;d++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.bones[r.readInt(!0)],c.mix=r.readFloat(),c.softness=r.readFloat()*e,c.bendDirection=r.readByte(),c.compress=r.readBoolean(),c.stretch=r.readBoolean(),c.uniform=r.readBoolean(),n.ikConstraints.push(c)}a=r.readInt(!0);for(s=0,p=void 0;s<a;s++){(c=new W.TransformConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),p=r.readInt(!0);for(d=0;d<p;d++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.bones[r.readInt(!0)],c.local=r.readBoolean(),c.relative=r.readBoolean(),c.offsetRotation=r.readFloat(),c.offsetX=r.readFloat()*e,c.offsetY=r.readFloat()*e,c.offsetScaleX=r.readFloat(),c.offsetScaleY=r.readFloat(),c.offsetShearY=r.readFloat(),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),c.scaleMix=r.readFloat(),c.shearMix=r.readFloat(),n.transformConstraints.push(c)}a=r.readInt(!0);for(s=0,p=void 0;s<a;s++){(c=new W.PathConstraintData(r.readString())).order=r.readInt(!0),c.skinRequired=r.readBoolean(),p=r.readInt(!0);for(d=0;d<p;d++)c.bones.push(n.bones[r.readInt(!0)]);c.target=n.slots[r.readInt(!0)],c.positionMode=j.PositionModeValues[r.readInt(!0)],c.spacingMode=j.SpacingModeValues[r.readInt(!0)],c.rotateMode=j.RotateModeValues[r.readInt(!0)],c.offsetRotation=r.readFloat(),c.position=r.readFloat(),c.positionMode==W.PositionMode.Fixed&&(c.position*=e),c.spacing=r.readFloat(),c.spacingMode!=W.SpacingMode.Length&&c.spacingMode!=W.SpacingMode.Fixed||(c.spacing*=e),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),n.pathConstraints.push(c)}var t=this.readSkin(r,n,!0,i),s=(null!=t&&(n.defaultSkin=t,n.skins.push(t)),n.skins.length);for(W.Utils.setArraySize(n.skins,a=s+r.readInt(!0));s<a;s++)n.skins[s]=this.readSkin(r,n,!1,i);a=this.linkedMeshes.length;for(s=0;s<a;s++){var f=this.linkedMeshes[s],m=null==f.skin?n.defaultSkin:n.findSkin(f.skin);if(null==m)throw new Error("Skin not found: "+f.skin);m=m.getAttachment(f.slotIndex,f.parent);if(null==m)throw new Error("Parent mesh not found: "+f.parent);f.mesh.deformAttachment=f.inheritDeform?m:f.mesh,f.mesh.setParentMesh(m),f.mesh.updateUVs()}this.linkedMeshes.length=0,a=r.readInt(!0);for(s=0;s<a;s++)(c=new W.EventData(r.readStringRef())).intValue=r.readInt(!1),c.floatValue=r.readFloat(),c.stringValue=r.readString(),c.audioPath=r.readString(),null!=c.audioPath&&(c.volume=r.readFloat(),c.balance=r.readFloat()),n.events.push(c);a=r.readInt(!0);for(s=0;s<a;s++)n.animations.push(this.readAnimation(r,r.readString(),n));return n},j.prototype.readSkin=function(t,e,n,r){var i=null,a=0;if(n){if(0==(a=t.readInt(!0)))return null;i=new W.Skin("default")}else{(i=new W.Skin(t.readStringRef())).bones.length=t.readInt(!0);for(var s=0,o=i.bones.length;s<o;s++)i.bones[s]=e.bones[t.readInt(!0)];for(s=0,o=t.readInt(!0);s<o;s++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(s=0,o=t.readInt(!0);s<o;s++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);a=t.readInt(!0)}for(s=0;s<a;s++)for(var h=t.readInt(!0),l=0,u=t.readInt(!0);l<u;l++){var c=t.readStringRef(),p=this.readAttachment(t,e,i,h,c,r);null!=p&&i.setAttachment(h,c,p)}return i},j.prototype.readAttachment=function(t,e,n,r,i,a){var s=this.scale,o=t.readStringRef(),i=(null==o&&(o=i),t.readByte());switch(j.AttachmentTypeValues[i]){case W.AttachmentType.Region:var h=t.readStringRef(),l=t.readFloat(),u=t.readFloat(),c=t.readFloat(),p=t.readFloat(),d=t.readFloat(),f=t.readFloat(),m=t.readFloat(),g=t.readInt32(),v=(null==h&&(h=o),this.attachmentLoader.newRegionAttachment(n,o,h));return null==v?null:(v.path=h,v.x=u*s,v.y=c*s,v.scaleX=p,v.scaleY=d,v.rotation=l,v.width=f*s,v.height=m*s,W.Color.rgba8888ToColor(v.color,g),v.updateOffset(),v);case W.AttachmentType.BoundingBox:var y=t.readInt(!0),E=this.readVertices(t,y),g=a?t.readInt32():0,p=this.attachmentLoader.newBoundingBoxAttachment(n,o);return null==p?null:(p.worldVerticesLength=y<<1,p.vertices=E.vertices,p.bones=E.bones,a&&W.Color.rgba8888ToColor(p.color,g),p);case W.AttachmentType.Mesh:var h=t.readStringRef(),g=t.readInt32(),y=t.readInt(!0),d=this.readFloatArray(t,y<<1,1),v=this.readShortArray(t),E=this.readVertices(t,y),p=t.readInt(!0),x=null,f=0,m=0;return a&&(x=this.readShortArray(t),f=t.readFloat(),m=t.readFloat()),null==h&&(h=o),null==(w=this.attachmentLoader.newMeshAttachment(n,o,h))?null:(w.path=h,W.Color.rgba8888ToColor(w.color,g),w.bones=E.bones,w.vertices=E.vertices,w.worldVerticesLength=y<<1,w.triangles=v,w.regionUVs=d,w.updateUVs(),w.hullLength=p<<1,a&&(w.edges=x,w.width=f*s,w.height=m*s),w);case W.AttachmentType.LinkedMesh:var w,h=t.readStringRef(),g=t.readInt32(),v=t.readStringRef(),d=t.readStringRef(),p=t.readBoolean(),f=0,m=0;return a&&(f=t.readFloat(),m=t.readFloat()),null==h&&(h=o),null==(w=this.attachmentLoader.newMeshAttachment(n,o,h))?null:(w.path=h,W.Color.rgba8888ToColor(w.color,g),a&&(w.width=f*s,w.height=m*s),this.linkedMeshes.push(new I(w,v,r,d,p)),w);case W.AttachmentType.Path:for(var x=t.readBoolean(),f=t.readBoolean(),y=t.readInt(!0),E=this.readVertices(t,y),T=W.Utils.newArray(y/3,0),A=0,M=T.length;A<M;A++)T[A]=t.readFloat()*s;g=a?t.readInt32():0;return null==(h=this.attachmentLoader.newPathAttachment(n,o))?null:(h.closed=x,h.constantSpeed=f,h.worldVerticesLength=y<<1,h.vertices=E.vertices,h.bones=E.bones,h.lengths=T,a&&W.Color.rgba8888ToColor(h.color,g),h);case W.AttachmentType.Point:l=t.readFloat(),u=t.readFloat(),c=t.readFloat(),g=a?t.readInt32():0,m=this.attachmentLoader.newPointAttachment(n,o);return null==m?null:(m.x=u*s,m.y=c*s,m.rotation=l,a&&W.Color.rgba8888ToColor(m.color,g),m);case W.AttachmentType.Clipping:v=t.readInt(!0),y=t.readInt(!0),E=this.readVertices(t,y),g=a?t.readInt32():0,d=this.attachmentLoader.newClippingAttachment(n,o);return null==d?null:(d.endSlot=e.slots[v],d.worldVerticesLength=y<<1,d.vertices=E.vertices,d.bones=E.bones,a&&W.Color.rgba8888ToColor(d.color,g),d)}return null},j.prototype.readVertices=function(t,e){var n=e<<1,r=new u,i=this.scale;if(t.readBoolean()){for(var a=new Array,s=new Array,o=0;o<e;o++){var h=t.readInt(!0);s.push(h);for(var l=0;l<h;l++)s.push(t.readInt(!0)),a.push(t.readFloat()*i),a.push(t.readFloat()*i),a.push(t.readFloat())}r.vertices=W.Utils.toFloatArray(a),r.bones=s}else r.vertices=this.readFloatArray(t,n,i);return r},j.prototype.readFloatArray=function(t,e,n){var r=new Array(e);if(1==n)for(var i=0;i<e;i++)r[i]=t.readFloat();else for(i=0;i<e;i++)r[i]=t.readFloat()*n;return r},j.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),r=0;r<e;r++)n[r]=t.readShort();return n},j.prototype.readAnimation=function(t,O,e){for(var n=new Array,r=this.scale,i=0,a=new W.Color,s=new W.Color,o=0,h=t.readInt(!0);o<h;o++)for(var l=t.readInt(!0),u=0,c=t.readInt(!0);u<c;u++){var p=t.readByte(),d=t.readInt(!0);switch(p){case j.SLOT_ATTACHMENT:(v=new W.AttachmentTimeline(d)).slotIndex=l;for(var f=0;f<d;f++)v.setFrame(f,t.readFloat(),t.readStringRef());n.push(v),i=Math.max(i,v.frames[d-1]);break;case j.SLOT_COLOR:(v=new W.ColorTimeline(d)).slotIndex=l;for(f=0;f<d;f++){var m=t.readFloat();W.Color.rgba8888ToColor(a,t.readInt32()),v.setFrame(f,m,a.r,a.g,a.b,a.a),f<d-1&&this.readCurve(t,f,v)}n.push(v),i=Math.max(i,v.frames[(d-1)*W.ColorTimeline.ENTRIES]);break;case j.SLOT_TWO_COLOR:(v=new W.TwoColorTimeline(d)).slotIndex=l;for(f=0;f<d;f++){m=t.readFloat();W.Color.rgba8888ToColor(a,t.readInt32()),W.Color.rgb888ToColor(s,t.readInt32()),v.setFrame(f,m,a.r,a.g,a.b,a.a,s.r,s.g,s.b),f<d-1&&this.readCurve(t,f,v)}n.push(v),i=Math.max(i,v.frames[(d-1)*W.TwoColorTimeline.ENTRIES])}}for(o=0,h=t.readInt(!0);o<h;o++)for(var g=t.readInt(!0),u=0,c=t.readInt(!0);u<c;u++){p=t.readByte(),d=t.readInt(!0);switch(p){case j.BONE_ROTATE:(v=new W.RotateTimeline(d)).boneIndex=g;for(f=0;f<d;f++)v.setFrame(f,t.readFloat(),t.readFloat()),f<d-1&&this.readCurve(t,f,v);n.push(v),i=Math.max(i,v.frames[(d-1)*W.RotateTimeline.ENTRIES]);break;case j.BONE_TRANSLATE:case j.BONE_SCALE:case j.BONE_SHEAR:var v=void 0,y=1;p==j.BONE_SCALE?v=new W.ScaleTimeline(d):p==j.BONE_SHEAR?v=new W.ShearTimeline(d):(v=new W.TranslateTimeline(d),y=r),v.boneIndex=g;for(f=0;f<d;f++)v.setFrame(f,t.readFloat(),t.readFloat()*y,t.readFloat()*y),f<d-1&&this.readCurve(t,f,v);n.push(v),i=Math.max(i,v.frames[(d-1)*W.TranslateTimeline.ENTRIES])}}for(o=0,h=t.readInt(!0);o<h;o++){var E=t.readInt(!0),d=t.readInt(!0);(v=new W.IkConstraintTimeline(d)).ikConstraintIndex=E;for(f=0;f<d;f++)v.setFrame(f,t.readFloat(),t.readFloat(),t.readFloat()*r,t.readByte(),t.readBoolean(),t.readBoolean()),f<d-1&&this.readCurve(t,f,v);n.push(v),i=Math.max(i,v.frames[(d-1)*W.IkConstraintTimeline.ENTRIES])}for(o=0,h=t.readInt(!0);o<h;o++){E=t.readInt(!0),d=t.readInt(!0);(v=new W.TransformConstraintTimeline(d)).transformConstraintIndex=E;for(f=0;f<d;f++)v.setFrame(f,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),f<d-1&&this.readCurve(t,f,v);n.push(v),i=Math.max(i,v.frames[(d-1)*W.TransformConstraintTimeline.ENTRIES])}for(o=0,h=t.readInt(!0);o<h;o++)for(var E=t.readInt(!0),x=e.pathConstraints[E],u=0,c=t.readInt(!0);u<c;u++){p=t.readByte(),d=t.readInt(!0);switch(p){case j.PATH_POSITION:case j.PATH_SPACING:var v=void 0,y=1;p==j.PATH_SPACING?(v=new W.PathConstraintSpacingTimeline(d),x.spacingMode!=W.SpacingMode.Length&&x.spacingMode!=W.SpacingMode.Fixed||(y=r)):(v=new W.PathConstraintPositionTimeline(d),x.positionMode==W.PositionMode.Fixed&&(y=r)),v.pathConstraintIndex=E;for(f=0;f<d;f++)v.setFrame(f,t.readFloat(),t.readFloat()*y),f<d-1&&this.readCurve(t,f,v);n.push(v),i=Math.max(i,v.frames[(d-1)*W.PathConstraintPositionTimeline.ENTRIES]);break;case j.PATH_MIX:(v=new W.PathConstraintMixTimeline(d)).pathConstraintIndex=E;for(f=0;f<d;f++)v.setFrame(f,t.readFloat(),t.readFloat(),t.readFloat()),f<d-1&&this.readCurve(t,f,v);n.push(v),i=Math.max(i,v.frames[(d-1)*W.PathConstraintMixTimeline.ENTRIES])}}for(o=0,h=t.readInt(!0);o<h;o++)for(var F=e.skins[t.readInt(!0)],u=0,c=t.readInt(!0);u<c;u++)for(var l=t.readInt(!0),D=0,U=t.readInt(!0);D<U;D++){var w=F.getAttachment(l,t.readStringRef()),T=null!=w.bones,A=w.vertices,X=T?A.length/3*2:A.length,d=t.readInt(!0);(v=new W.DeformTimeline(d)).slotIndex=l,v.attachment=w;for(f=0;f<d;f++){var m=t.readFloat(),M=void 0,I=t.readInt(!0);if(0==I)M=T?W.Utils.newFloatArray(X):A;else{var M=W.Utils.newFloatArray(X),R=t.readInt(!0);if(I+=R,1==r)for(var S=R;S<I;S++)M[S]=t.readFloat();else for(S=R;S<I;S++)M[S]=t.readFloat()*r;if(!T)for(var S=0,B=M.length;S<B;S++)M[S]+=A[S]}v.setFrame(f,m,M),f<d-1&&this.readCurve(t,f,v)}n.push(v),i=Math.max(i,v.frames[d-1])}var b=t.readInt(!0);if(0<b){for(var v=new W.DrawOrderTimeline(b),C=e.slots.length,o=0;o<b;o++){for(var m=t.readFloat(),Y=t.readInt(!0),_=W.Utils.newArray(C,0),u=C-1;0<=u;u--)_[u]=-1;for(var P=W.Utils.newArray(C-Y,0),N=0,V=0,u=0;u<Y;u++){for(l=t.readInt(!0);N!=l;)P[V++]=N++;_[N+t.readInt(!0)]=N++}for(;N<C;)P[V++]=N++;for(u=C-1;0<=u;u--)-1==_[u]&&(_[u]=P[--V]);v.setFrame(o,m,_)}n.push(v),i=Math.max(i,v.frames[b-1])}var k=t.readInt(!0);if(0<k){for(v=new W.EventTimeline(k),o=0;o<k;o++){var m=t.readFloat(),$=e.events[t.readInt(!0)],L=new W.Event(m,$);L.intValue=t.readInt(!1),L.floatValue=t.readFloat(),L.stringValue=t.readBoolean()?t.readString():$.stringValue,null!=L.data.audioPath&&(L.volume=t.readFloat(),L.balance=t.readFloat()),v.setFrame(o,L)}n.push(v),i=Math.max(i,v.frames[k-1])}return new W.Animation(O,n,i)},j.prototype.readCurve=function(t,e,n){switch(t.readByte()){case j.CURVE_STEPPED:n.setStepped(e);break;case j.CURVE_BEZIER:this.setCurve(n,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},j.prototype.setCurve=function(t,e,n,r,i,a){t.setCurve(e,n,r,i,a)},j.AttachmentTypeValues=[0,1,2,3,4,5,6],j.TransformModeValues=[W.TransformMode.Normal,W.TransformMode.OnlyTranslation,W.TransformMode.NoRotationOrReflection,W.TransformMode.NoScale,W.TransformMode.NoScaleOrReflection],j.PositionModeValues=[W.PositionMode.Fixed,W.PositionMode.Percent],j.SpacingModeValues=[W.SpacingMode.Length,W.SpacingMode.Fixed,W.SpacingMode.Percent],j.RotateModeValues=[W.RotateMode.Tangent,W.RotateMode.Chain,W.RotateMode.ChainScale],j.BlendModeValues=[W.BlendMode.Normal,W.BlendMode.Additive,W.BlendMode.Multiply,W.BlendMode.Screen],j.BONE_ROTATE=0,j.BONE_TRANSLATE=1,j.BONE_SCALE=2,j.BONE_SHEAR=3,j.SLOT_ATTACHMENT=0,j.SLOT_COLOR=1,j.SLOT_TWO_COLOR=2,j.PATH_POSITION=0,j.PATH_SPACING=1,j.PATH_MIX=2,j.CURVE_LINEAR=0,j.CURVE_STEPPED=1,j.CURVE_BEZIER=2;var t=j;function j(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}W.SkeletonBinary=t;e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.prototype.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e))&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e))&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e))&&(n|=(127&this.readByte())<<28),t?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var r=this.readByte();switch(r>>4){case 12:case 13:e+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(r),n++}}return e},e.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.prototype.readBoolean=function(){return 0!=this.readByte()};var g=e;function e(t,e,n,r){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=r}var I=function(t,e,n,r,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=i},u=function(t,e){void 0===e&&(e=null),this.bones=t=void 0===t?null:t,this.vertices=e}}(spine=spine||{}),!function(c){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new c.Pool(function(){return c.Utils.newFloatArray(16)})}t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,i=this.polygonPool,a=t.slots,s=a.length;n.length=0,i.freeAll(r);for(var o=r.length=0;o<s;o++){var h,l,u=a[o];u.bone.active&&(h=u.getAttachment())instanceof c.BoundingBoxAttachment&&(n.push(h=h),(l=i.obtain()).length!=h.worldVerticesLength&&(l=c.Utils.newFloatArray(h.worldVerticesLength)),r.push(l),h.computeWorldVertices(u,0,h.worldVerticesLength,l,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,s=i.length;a<s;a++)for(var o=i[a],h=o,l=0,u=o.length;l<u;l+=2)var c=h[l],p=h[l+1],t=Math.min(t,c),e=Math.min(e,p),n=Math.max(n,c),r=Math.max(r,p);this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,n,r){var i=this.minX,a=this.minY,s=this.maxX,o=this.maxY;return!(t<=i&&n<=i||e<=a&&r<=a||s<=t&&s<=n||o<=e&&o<=r)&&(a<(n=(r=(r-e)/(n-t))*(i-t)+e)&&n<o||a<(n=r*(s-t)+e)&&n<o||i<(n=(a-e)/r+t)&&n<s||i<(n=(o-e)/r+t)&&n<s)},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},t.prototype.containsPointPolygon=function(t,e,n){for(var r=t,i=t.length,a=i-2,s=!1,o=0;o<i;o+=2){var h,l=r[o+1],u=r[a+1];(l<n&&n<=u||u<n&&n<=l)&&(h=r[o])+(n-l)/(u-l)*(r[a]-h)<e&&(s=!s),a=o}return s},t.prototype.intersectsSegment=function(t,e,n,r){for(var i=this.polygons,a=0,s=i.length;a<s;a++)if(this.intersectsSegmentPolygon(i[a],t,e,n,r))return this.boundingBoxes[a];return null},t.prototype.intersectsSegmentPolygon=function(t,e,n,r,i){for(var a=t,s=t.length,o=e-r,h=n-i,l=e*i-n*r,u=a[s-2],c=a[s-1],p=0;p<s;p+=2){var d=a[p],f=a[p+1],m=u*f-c*d,g=u-d,v=c-f,y=o*v-h*g,g=(l*g-o*m)/y;if((u<=g&&g<=d||d<=g&&g<=u)&&(e<=g&&g<=r||r<=g&&g<=e)){g=(l*v-h*m)/y;if((c<=g&&g<=f||f<=g&&g<=c)&&(n<=g&&g<=i||i<=g&&g<=n))return!0}u=d,c=f}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");t=this.boundingBoxes.indexOf(t);return-1==t?null:this.polygons[t]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},c.SkeletonBounds=t}(spine=spine||{}),!function(j){function h(){this.triangulator=new j.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}h.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;for(var n=(this.clipAttachment=e).worldVerticesLength,r=j.Utils.setArraySize(this.clippingPolygon,n),e=(e.computeWorldVertices(t,0,n,r,0,2),this.clippingPolygon),i=(h.makeClockwise(e),this.clippingPolygons=this.triangulator.decompose(e,this.triangulator.triangulate(e))),a=0,s=i.length;a<s;a++){var o=i[a];h.makeClockwise(o),o.push(o[0]),o.push(o[1])}return i.length},h.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},h.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},h.prototype.isClipping=function(){return null!=this.clipAttachment},h.prototype.clipTriangles=function(t,O,e,F,n,r,i,a){var s=this.clipOutput,o=this.clippedVertices,h=this.clippedTriangles,D=this.clippingPolygons,U=this.clippingPolygons.length,l=a?12:8,u=0;o.length=0;t:for(var c=h.length=0;c<F;c+=3)for(var p=e[c]<<1,d=t[p],f=t[1+p],m=n[p],g=n[1+p],v=t[p=e[c+1]<<1],y=t[1+p],E=n[p],x=n[1+p],w=t[p=e[c+2]<<1],T=t[1+p],A=n[p],M=n[1+p],I=0;I<U;I++){var R=o.length;if(!this.clip(d,f,v,y,w,T,D[I],s)){(_=j.Utils.setArraySize(o,R+3*l))[R]=d,_[R+1]=f,_[R+2]=r.r,_[R+3]=r.g,_[R+4]=r.b,_[R+5]=r.a,a?(_[R+6]=m,_[R+7]=g,_[R+8]=i.r,_[R+9]=i.g,_[R+10]=i.b,_[R+11]=i.a,_[R+12]=v,_[R+13]=y,_[R+14]=r.r,_[R+15]=r.g,_[R+16]=r.b,_[R+17]=r.a,_[R+18]=E,_[R+19]=x,_[R+20]=i.r,_[R+21]=i.g,_[R+22]=i.b,_[R+23]=i.a,_[R+24]=w,_[R+25]=T,_[R+26]=r.r,_[R+27]=r.g,_[R+28]=r.b,_[R+29]=r.a,_[R+30]=A,_[R+31]=M,_[R+32]=i.r,_[R+33]=i.g,_[R+34]=i.b,_[R+35]=i.a):(_[R+6]=m,_[R+7]=g,_[R+8]=v,_[R+9]=y,_[R+10]=r.r,_[R+11]=r.g,_[R+12]=r.b,_[R+13]=r.a,_[R+14]=E,_[R+15]=x,_[R+16]=w,_[R+17]=T,_[R+18]=r.r,_[R+19]=r.g,_[R+20]=r.b,_[R+21]=r.a,_[R+22]=A,_[R+23]=M),R=h.length,(L=j.Utils.setArraySize(h,R+3))[R]=u,L[R+1]=u+1,L[R+2]=u+2,u+=3;continue t}var S=s.length;if(0!=S){for(var b=y-T,X=w-v,B=d-w,Y=T-f,$=1/(b*B+X*(f-T)),C=S>>1,W=this.clipOutput,_=j.Utils.setArraySize(o,R+C*l),P=0;P<S;P+=2){var N=W[P],V=W[P+1],N=(_[R]=N,_[R+1]=V,_[R+2]=r.r,_[R+3]=r.g,_[R+4]=r.b,_[R+5]=r.a,N-w),V=V-T,k=(b*N+X*V)*$,N=(Y*N+B*V)*$,V=1-k-N;_[R+6]=m*k+E*N+A*V,_[R+7]=g*k+x*N+M*V,a&&(_[R+8]=i.r,_[R+9]=i.g,_[R+10]=i.b,_[R+11]=i.a),R+=l}var R=h.length,L=j.Utils.setArraySize(h,R+3*(C-2));C--;for(P=1;P<C;P++)L[R]=u,L[R+1]=u+P,L[R+2]=u+P+1,R+=3;u+=1+C}}},h.prototype.clip=function(t,e,n,r,i,a,s,o){for(var h=o,l=!1,u=null,c=(2<=s.length%4?(u=o,o=this.scratch):u=this.scratch,u.length=0,u.push(t),u.push(e),u.push(n),u.push(r),u.push(i),u.push(a),u.push(t),u.push(e),o.length=0,s),p=s.length-4,d=0;;d+=2){for(var f=c[d],m=c[d+1],g=c[d+2],v=c[d+3],y=f-g,E=m-v,x=u,w=u.length-2,T=o.length,A=0;A<w;A+=2){var M=x[A],I=x[A+1],R=x[A+2],S=x[A+3],b=0<y*(S-v)-E*(R-g);if(0<y*(I-v)-E*(M-g)){if(b){o.push(R),o.push(S);continue}var C,_,P,N=(C=S-I)*(g-f)-(_=R-M)*(v-m);1e-6<Math.abs(N)?(o.push(f+(g-f)*(P=(_*(m-I)-C*(f-M))/N)),o.push(m+(v-m)*P)):(o.push(f),o.push(m))}else b&&(N=(C=S-I)*(g-f)-(_=R-M)*(v-m),1e-6<Math.abs(N)?(o.push(f+(g-f)*(P=(_*(m-I)-C*(f-M))/N)),o.push(m+(v-m)*P)):(o.push(f),o.push(m)),o.push(R),o.push(S));l=!0}if(T==o.length)return!(h.length=0);if(o.push(o[0]),o.push(o[1]),d==p)break;T=o;(o=u).length=0,u=T}if(h!=o)for(var d=h.length=0,V=o.length-2;d<V;d++)h[d]=o[d];else h.length=h.length-2;return l},h.makeClockwise=function(t){for(var e,n,r,i=t,t=t.length,a=i[t-2]*i[1]-i[0]*i[t-1],s=0,o=t-3;s<o;s+=2)e=i[s],n=i[s+1],r=i[s+2],a+=e*i[s+3]-r*n;if(!(a<0))for(var s=0,h=t-2,o=t>>1;s<o;s+=2){var l=i[s],u=i[s+1],c=h-s;i[s]=i[c],i[s+1]=i[1+c],i[c]=l,i[1+c]=u}},j.SkeletonClipping=h}(spine=spine||{}),!function(t){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},e.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},e.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.SkeletonData=e}(spine=spine||{}),!function(tt){function P(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}P.prototype.readSkeletonData=function(t){var e=this.scale,n=new tt.SkeletonData,r="string"==typeof t?JSON.parse(t):t,t=r.skeleton;if(null!=t){if(n.hash=t.hash,n.version=t.spine,"3.8.75"==n.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height,n.fps=t.fps,n.imagesPath=t.images}if(r.bones)for(var i=0;i<r.bones.length;i++){var a=r.bones[i],s=null,o=this.getValue(a,"parent",null);if(null!=o&&null==(s=n.findBone(o)))throw new Error("Parent bone not found: "+o);(c=new tt.BoneData(n.bones.length,a.name,s)).length=this.getValue(a,"length",0)*e,c.x=this.getValue(a,"x",0)*e,c.y=this.getValue(a,"y",0)*e,c.rotation=this.getValue(a,"rotation",0),c.scaleX=this.getValue(a,"scaleX",1),c.scaleY=this.getValue(a,"scaleY",1),c.shearX=this.getValue(a,"shearX",0),c.shearY=this.getValue(a,"shearY",0),c.transformMode=P.transformModeFromString(this.getValue(a,"transform","normal")),c.skinRequired=this.getValue(a,"skin",!1),n.bones.push(c)}if(r.slots)for(i=0;i<r.slots.length;i++){var h=(x=r.slots[i]).name,l=x.bone,u=n.findBone(l);if(null==u)throw new Error("Slot bone not found: "+l);var c=new tt.SlotData(n.slots.length,h,u),u=this.getValue(x,"color",null),u=(null!=u&&c.color.setFromString(u),this.getValue(x,"dark",null));null!=u&&(c.darkColor=new tt.Color(1,1,1,1),c.darkColor.setFromString(u)),c.attachmentName=this.getValue(x,"attachment",null),c.blendMode=P.blendModeFromString(this.getValue(x,"blend","normal")),n.slots.push(c)}if(r.ik)for(i=0;i<r.ik.length;i++){var p=r.ik[i];(c=new tt.IkConstraintData(p.name)).order=this.getValue(p,"order",0),c.skinRequired=this.getValue(p,"skin",!1);for(var d=0;d<p.bones.length;d++){l=p.bones[d];if(null==(v=n.findBone(l)))throw new Error("IK bone not found: "+l);c.bones.push(v)}var f=p.target;if(c.target=n.findBone(f),null==c.target)throw new Error("IK target bone not found: "+f);c.mix=this.getValue(p,"mix",1),c.softness=this.getValue(p,"softness",0)*e,c.bendDirection=this.getValue(p,"bendPositive",!0)?1:-1,c.compress=this.getValue(p,"compress",!1),c.stretch=this.getValue(p,"stretch",!1),c.uniform=this.getValue(p,"uniform",!1),n.ikConstraints.push(c)}if(r.transform)for(i=0;i<r.transform.length;i++){p=r.transform[i];(c=new tt.TransformConstraintData(p.name)).order=this.getValue(p,"order",0),c.skinRequired=this.getValue(p,"skin",!1);for(d=0;d<p.bones.length;d++){l=p.bones[d];if(null==(v=n.findBone(l)))throw new Error("Transform constraint bone not found: "+l);c.bones.push(v)}f=p.target;if(c.target=n.findBone(f),null==c.target)throw new Error("Transform constraint target bone not found: "+f);c.local=this.getValue(p,"local",!1),c.relative=this.getValue(p,"relative",!1),c.offsetRotation=this.getValue(p,"rotation",0),c.offsetX=this.getValue(p,"x",0)*e,c.offsetY=this.getValue(p,"y",0)*e,c.offsetScaleX=this.getValue(p,"scaleX",0),c.offsetScaleY=this.getValue(p,"scaleY",0),c.offsetShearY=this.getValue(p,"shearY",0),c.rotateMix=this.getValue(p,"rotateMix",1),c.translateMix=this.getValue(p,"translateMix",1),c.scaleMix=this.getValue(p,"scaleMix",1),c.shearMix=this.getValue(p,"shearMix",1),n.transformConstraints.push(c)}if(r.path)for(i=0;i<r.path.length;i++){p=r.path[i];(c=new tt.PathConstraintData(p.name)).order=this.getValue(p,"order",0),c.skinRequired=this.getValue(p,"skin",!1);for(d=0;d<p.bones.length;d++){l=p.bones[d];if(null==(v=n.findBone(l)))throw new Error("Transform constraint bone not found: "+l);c.bones.push(v)}f=p.target;if(c.target=n.findSlot(f),null==c.target)throw new Error("Path target slot not found: "+f);c.positionMode=P.positionModeFromString(this.getValue(p,"positionMode","percent")),c.spacingMode=P.spacingModeFromString(this.getValue(p,"spacingMode","length")),c.rotateMode=P.rotateModeFromString(this.getValue(p,"rotateMode","tangent")),c.offsetRotation=this.getValue(p,"rotation",0),c.position=this.getValue(p,"position",0),c.positionMode==tt.PositionMode.Fixed&&(c.position*=e),c.spacing=this.getValue(p,"spacing",0),c.spacingMode!=tt.SpacingMode.Length&&c.spacingMode!=tt.SpacingMode.Fixed||(c.spacing*=e),c.rotateMix=this.getValue(p,"rotateMix",1),c.translateMix=this.getValue(p,"translateMix",1),n.pathConstraints.push(c)}if(r.skins)for(i=0;i<r.skins.length;i++){var m=r.skins[i],g=new tt.Skin(m.name);if(m.bones)for(var v,y=0;y<m.bones.length;y++){if(null==(v=n.findBone(m.bones[y])))throw new Error("Skin bone not found: "+m.bones[i]);g.bones.push(v)}if(m.ik)for(y=0;y<m.ik.length;y++){if(null==(E=n.findIkConstraint(m.ik[y])))throw new Error("Skin IK constraint not found: "+m.ik[i]);g.constraints.push(E)}if(m.transform)for(y=0;y<m.transform.length;y++){if(null==(E=n.findTransformConstraint(m.transform[y])))throw new Error("Skin transform constraint not found: "+m.transform[i]);g.constraints.push(E)}if(m.path)for(var E,y=0;y<m.path.length;y++){if(null==(E=n.findPathConstraint(m.path[y])))throw new Error("Skin path constraint not found: "+m.path[i]);g.constraints.push(E)}for(h in m.attachments){var x,w,T=n.findSlot(h);if(null==T)throw new Error("Slot not found: "+h);for(w in x=m.attachments[h]){var A=this.readAttachment(x[w],g,T.index,w,n);null!=A&&g.setAttachment(T.index,w,A)}}n.skins.push(g),"default"==g.name&&(n.defaultSkin=g)}for(var i=0,M=this.linkedMeshes.length;i<M;i++){var I=this.linkedMeshes[i];if(null==(g=null==I.skin?n.defaultSkin:n.findSkin(I.skin)))throw new Error("Skin not found: "+I.skin);var R=g.getAttachment(I.slotIndex,I.parent);if(null==R)throw new Error("Parent mesh not found: "+I.parent);I.mesh.deformAttachment=I.inheritDeform?R:I.mesh,I.mesh.setParentMesh(R),I.mesh.updateUVs()}if(this.linkedMeshes.length=0,r.events)for(var S in r.events){var b=r.events[S];(c=new tt.EventData(S)).intValue=this.getValue(b,"int",0),c.floatValue=this.getValue(b,"float",0),c.stringValue=this.getValue(b,"string",""),c.audioPath=this.getValue(b,"audio",null),null!=c.audioPath&&(c.volume=this.getValue(b,"volume",1),c.balance=this.getValue(b,"balance",0)),n.events.push(c)}if(r.animations)for(var C in r.animations){var _=r.animations[C];this.readAnimation(_,C,n)}return n},P.prototype.readAttachment=function(t,e,n,r,i){var a=this.scale;switch(r=this.getValue(t,"name",r),this.getValue(t,"type","region")){case"region":var s=this.getValue(t,"path",r),o=this.attachmentLoader.newRegionAttachment(e,r,s);return null==o?null:(o.path=s,o.x=this.getValue(t,"x",0)*a,o.y=this.getValue(t,"y",0)*a,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*a,o.height=t.height*a,null!=(p=this.getValue(t,"color",null))&&o.color.setFromString(p),o.updateOffset(),o);case"boundingbox":o=this.attachmentLoader.newBoundingBoxAttachment(e,r);return null==o?null:(this.readVertices(t,o,t.vertexCount<<1),null!=(p=this.getValue(t,"color",null))&&o.color.setFromString(p),o);case"mesh":case"linkedmesh":var s=this.getValue(t,"path",r),o=this.attachmentLoader.newMeshAttachment(e,r,s);if(null==o)return null;o.path=s;null!=(p=this.getValue(t,"color",null))&&o.color.setFromString(p),o.width=this.getValue(t,"width",0)*a,o.height=this.getValue(t,"height",0)*a;var h=this.getValue(t,"parent",null);return null!=h?this.linkedMeshes.push(new d(o,this.getValue(t,"skin",null),n,h,this.getValue(t,"deform",!0))):(h=t.uvs,this.readVertices(t,o,h.length),o.triangles=t.triangles,o.regionUVs=h,o.updateUVs(),o.edges=this.getValue(t,"edges",null),o.hullLength=2*this.getValue(t,"hull",0)),o;case"path":if(null==(s=this.attachmentLoader.newPathAttachment(e,r)))return null;s.closed=this.getValue(t,"closed",!1),s.constantSpeed=this.getValue(t,"constantSpeed",!0);for(var l=t.vertexCount,u=(this.readVertices(t,s,l<<1),tt.Utils.newArray(l/3,0)),c=0;c<t.lengths.length;c++)u[c]=t.lengths[c]*a;return s.lengths=u,null!=(p=this.getValue(t,"color",null))&&s.color.setFromString(p),s;case"point":h=this.attachmentLoader.newPointAttachment(e,r);return null==h?null:(h.x=this.getValue(t,"x",0)*a,h.y=this.getValue(t,"y",0)*a,h.rotation=this.getValue(t,"rotation",0),null!=(p=this.getValue(t,"color",null))&&h.color.setFromString(p),h);case"clipping":o=this.attachmentLoader.newClippingAttachment(e,r);if(null==o)return null;s=this.getValue(t,"end",null);if(null!=s){h=i.findSlot(s);if(null==h)throw new Error("Clipping end slot not found: "+s);o.endSlot=h}var p,l=t.vertexCount;return this.readVertices(t,o,l<<1),null!=(p=this.getValue(t,"color",null))&&o.color.setFromString(p),o}return null},P.prototype.readVertices=function(t,e,n){var r=this.scale,i=(e.worldVerticesLength=n,t.vertices);if(n==i.length){var a=tt.Utils.toFloatArray(i);if(1!=r)for(var s=0,o=i.length;s<o;s++)a[s]*=r;e.vertices=a}else{for(var h=new Array,l=new Array,s=0,o=i.length;s<o;){var u=i[s++];l.push(u);for(var c=s+4*u;s<c;s+=4)l.push(i[s]),h.push(i[s+1]*r),h.push(i[s+2]*r),h.push(i[s+3])}e.bones=l,e.vertices=tt.Utils.toFloatArray(h)}},P.prototype.readAnimation=function(t,O,e){var n=this.scale,r=new Array,i=0;if(t.slots)for(var a in t.slots){var s=t.slots[a];if(-1==(N=e.findSlotIndex(a)))throw new Error("Slot not found: "+a);for(w in s){var o=s[w];if("attachment"==w){(g=new tt.AttachmentTimeline(o.length)).slotIndex=N;for(var h=0,l=0;l<o.length;l++){var u=o[l];g.setFrame(h++,this.getValue(u,"time",0),u.name)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}else if("color"==w){for(h=((g=new tt.ColorTimeline(o.length)).slotIndex=N,0),l=0;l<o.length;l++){var u=o[l],c=new tt.Color;c.setFromString(u.color),g.setFrame(h,this.getValue(u,"time",0),c.r,c.g,c.b,c.a),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.ColorTimeline.ENTRIES])}else{if("twoColor"!=w)throw new Error("Invalid timeline type for a slot: "+w+" ("+a+")");for(h=((g=new tt.TwoColorTimeline(o.length)).slotIndex=N,0),l=0;l<o.length;l++){var u=o[l],p=new tt.Color,d=new tt.Color;p.setFromString(u.light),d.setFromString(u.dark),g.setFrame(h,this.getValue(u,"time",0),p.r,p.g,p.b,p.a,d.r,d.g,d.b),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var f in t.bones){var F=t.bones[f],m=e.findBoneIndex(f);if(-1==m)throw new Error("Bone not found: "+f);for(w in F){o=F[w];if("rotate"===w){for(h=((g=new tt.RotateTimeline(o.length)).boneIndex=m,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"angle",0)),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.RotateTimeline.ENTRIES])}else{if("translate"!==w&&"scale"!==w&&"shear"!==w)throw new Error("Invalid timeline type for a bone: "+w+" ("+f+")");for(var g=null,v=1,D=0,h=("scale"===w?(g=new tt.ScaleTimeline(o.length),D=1):"shear"===w?g=new tt.ShearTimeline(o.length):(g=new tt.TranslateTimeline(o.length),v=n),g.boneIndex=m,0),l=0;l<o.length;l++){var u=o[l],U=this.getValue(u,"x",D),X=this.getValue(u,"y",D);g.setFrame(h,this.getValue(u,"time",0),U*v,X*v),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var y in t.ik){for(var E=t.ik[y],B=e.findIkConstraint(y),h=((g=new tt.IkConstraintTimeline(E.length)).ikConstraintIndex=e.ikConstraints.indexOf(B),0),l=0;l<E.length;l++){u=E[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"mix",1),this.getValue(u,"softness",0)*n,this.getValue(u,"bendPositive",!0)?1:-1,this.getValue(u,"compress",!1),this.getValue(u,"stretch",!1)),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var y in t.transform){for(E=t.transform[y],B=e.findTransformConstraint(y),h=((g=new tt.TransformConstraintTimeline(E.length)).transformConstraintIndex=e.transformConstraints.indexOf(B),0),l=0;l<E.length;l++){u=E[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1),this.getValue(u,"scaleMix",1),this.getValue(u,"shearMix",1)),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var y in t.path){var E=t.path[y],x=e.findPathConstraintIndex(y);if(-1==x)throw new Error("Path constraint not found: "+y);var Y=e.pathConstraints[x];for(w in E){o=E[w];if("position"===w||"spacing"===w){for(g=null,v=1,h=("spacing"===w?(g=new tt.PathConstraintSpacingTimeline(o.length),Y.spacingMode!=tt.SpacingMode.Length&&Y.spacingMode!=tt.SpacingMode.Fixed||(v=n)):(g=new tt.PathConstraintPositionTimeline(o.length),Y.positionMode==tt.PositionMode.Fixed&&(v=n)),g.pathConstraintIndex=x,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,w,0)*v),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===w){for(h=((g=new tt.PathConstraintMixTimeline(o.length)).pathConstraintIndex=x,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,this.getValue(u,"time",0),this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1)),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[(g.getFrameCount()-1)*tt.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var $ in t.deform){var W=t.deform[$],j=e.findSkin($);if(null==j)throw new Error("Skin not found: "+$);for(a in W){var w,s=W[a];if(-1==(N=e.findSlotIndex(a)))throw new Error("Slot not found: "+s.name);for(w in s){var o=s[w],T=j.getAttachment(N,w);if(null==T)throw new Error("Deform attachment not found: "+o.name);for(var q=null!=T.bones,A=T.vertices,G=q?A.length/3*2:A.length,h=((g=new tt.DeformTimeline(o.length)).slotIndex=N,g.attachment=T,0),M=0;M<o.length;M++){var u=o[M],I=void 0,R=this.getValue(u,"vertices",null);if(null==R)I=q?tt.Utils.newFloatArray(G):A;else{var I=tt.Utils.newFloatArray(G),H=this.getValue(u,"offset",0);if(tt.Utils.arrayCopy(R,0,I,H,R.length),1!=n)for(var z=(l=H)+R.length;l<z;l++)I[l]*=n;if(!q)for(l=0;l<G;l++)I[l]+=A[l]}g.setFrame(h,this.getValue(u,"time",0),I),this.readCurve(u,g,h),h++}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}}}var S=t.drawOrder;if(null!=(S=null==S?t.draworder:S)){for(var g=new tt.DrawOrderTimeline(S.length),b=e.slots.length,h=0,M=0;M<S.length;M++){var Z=S[M],C=null,_=this.getValue(Z,"offsets",null);if(null!=_){for(var C=tt.Utils.newArray(b,-1),J=tt.Utils.newArray(b-_.length,0),P=0,Q=0,l=0;l<_.length;l++){var N,K=_[l];if(-1==(N=e.findSlotIndex(K.slot)))throw new Error("Slot not found: "+K.slot);for(;P!=N;)J[Q++]=P++;C[P+K.offset]=P++}for(;P<b;)J[Q++]=P++;for(l=b-1;0<=l;l--)-1==C[l]&&(C[l]=J[--Q])}g.setFrame(h++,this.getValue(Z,"time",0),C)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(t.events){for(g=new tt.EventTimeline(t.events.length),h=0,l=0;l<t.events.length;l++){var V=t.events[l],k=e.findEvent(V.name);if(null==k)throw new Error("Event not found: "+V.name);var L=new tt.Event(tt.Utils.toSinglePrecision(this.getValue(V,"time",0)),k);L.intValue=this.getValue(V,"int",k.intValue),L.floatValue=this.getValue(V,"float",k.floatValue),L.stringValue=this.getValue(V,"string",k.stringValue),null!=L.data.audioPath&&(L.volume=this.getValue(V,"volume",1),L.balance=this.getValue(V,"balance",0)),g.setFrame(h++,L)}r.push(g),i=Math.max(i,g.frames[g.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");e.animations.push(new tt.Animation(O,r,i))},P.prototype.readCurve=function(t,e,n){var r;t.hasOwnProperty("curve")&&("stepped"==t.curve?e.setStepped(n):(r=t.curve,e.setCurve(n,r,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))))},P.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},P.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.BlendMode.Normal;if("additive"==t)return tt.BlendMode.Additive;if("multiply"==t)return tt.BlendMode.Multiply;if("screen"==t)return tt.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},P.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return tt.PositionMode.Fixed;if("percent"==t)return tt.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},P.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return tt.SpacingMode.Length;if("fixed"==t)return tt.SpacingMode.Fixed;if("percent"==t)return tt.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},P.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return tt.RotateMode.Tangent;if("chain"==t)return tt.RotateMode.Chain;if("chainscale"==t)return tt.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},P.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.TransformMode.Normal;if("onlytranslation"==t)return tt.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return tt.TransformMode.NoRotationOrReflection;if("noscale"==t)return tt.TransformMode.NoScale;if("noscaleorreflection"==t)return tt.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},tt.SkeletonJson=P;var d=function(t,e,n,r,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=i}}(spine=spine||{}),!function(h){var a=function(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n},t=(h.SkinEntry=a,e.prototype.setAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},e.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var a=t.constraints[e],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==a){r=!0;break}r||this.constraints.push(a)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var o=s[e];this.setAttachment(o.slotIndex,o.name,o.attachment)}},e.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var a=t.constraints[e],r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==a){r=!0;break}r||this.constraints.push(a)}for(var s=t.getAttachments(),e=0;e<s.length;e++){var o=s[e];null!=o.attachment&&(o.attachment instanceof h.MeshAttachment?o.attachment=o.attachment.newLinkedMesh():o.attachment=o.attachment.copy(),this.setAttachment(o.slotIndex,o.name,o.attachment))}},e.prototype.getAttachment=function(t,e){t=this.attachments[t];return t?t[e]:null},e.prototype.removeAttachment=function(t,e){t=this.attachments[t];t&&(t[e]=null)},e.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var r in n){var i=n[r];i&&t.push(new a(e,r,i))}}return t},e.prototype.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var r in n){var i=n[r];i&&e.push(new a(t,r,i))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var i=t.slots[r],a=i.getAttachment();if(a&&n<e.attachments.length){var s,o=e.attachments[n];for(s in o)if(a==o[s]){var h=this.getAttachment(n,s);null!=h&&i.setAttachment(h);break}}n++}},e);function e(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}h.Skin=t}(spine=spine||{}),!function(n){function t(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new n.Color,this.darkColor=null==t.darkColor?null:new n.Color,this.setToSetupPose()}t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},n.Slot=t}(spine=spine||{}),!function(r){r.SlotData=function(t,e,n){if(this.color=new r.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}}(spine=spine||{}),!function(t){i.prototype.getImage=function(){return this._image},i.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},i.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}};var e,n,r=i;function i(t){this._image=t}t.Texture=r,(s=e=t.TextureFilter||(t.TextureFilter={}))[s.Nearest=9728]="Nearest",s[s.Linear=9729]="Linear",s[s.MipMap=9987]="MipMap",s[s.MipMapNearestNearest=9984]="MipMapNearestNearest",s[s.MipMapLinearNearest=9985]="MipMapLinearNearest",s[s.MipMapNearestLinear=9986]="MipMapNearestLinear",s[s.MipMapLinearLinear=9987]="MipMapLinearLinear",(s=n=t.TextureWrap||(t.TextureWrap={}))[s.MirroredRepeat=33648]="MirroredRepeat",s[s.ClampToEdge=33071]="ClampToEdge",s[s.Repeat=10497]="Repeat";t.TextureRegion=function(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0},__extends(o,a=r),o.prototype.setFilters=function(t,e){},o.prototype.setWraps=function(t,e){},o.prototype.dispose=function(){};var a,s=o;function o(){return null!==a&&a.apply(this,arguments)||this}t.FakeTexture=s}(spine=spine||{}),!function(c){function t(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}t.prototype.load=function(t,e){if(null==e)throw new Error("textureLoader cannot be null.");for(var n=new p(t),r=new Array(4),i=null;;){var a,s,o,h,l,u=n.readLine();if(null==u)break;0==(u=u.trim()).length?i=null:i?((a=new f).name=u,a.page=i,"true"==(l=n.readValue()).toLocaleLowerCase()?a.degrees=90:"false"==l.toLocaleLowerCase()?a.degrees=0:a.degrees=parseFloat(l),a.rotate=90==a.degrees,n.readTuple(r),l=parseInt(r[0]),s=parseInt(r[1]),n.readTuple(r),o=parseInt(r[0]),h=parseInt(r[1]),a.u=l/i.width,a.v=s/i.height,a.rotate?(a.u2=(l+h)/i.width,a.v2=(s+o)/i.height):(a.u2=(l+o)/i.width,a.v2=(s+h)/i.height),a.x=l,a.y=s,a.width=Math.abs(o),a.height=Math.abs(h),4==n.readTuple(r)&&4==n.readTuple(r)&&n.readTuple(r),a.originalWidth=parseInt(r[0]),a.originalHeight=parseInt(r[1]),n.readTuple(r),a.offsetX=parseInt(r[0]),a.offsetY=parseInt(r[1]),a.index=parseInt(n.readValue()),a.texture=i.texture,this.regions.push(a)):((i=new d).name=u,2==n.readTuple(r)&&(i.width=parseInt(r[0]),i.height=parseInt(r[1]),n.readTuple(r)),n.readTuple(r),i.minFilter=c.Texture.filterFromString(r[0]),i.magFilter=c.Texture.filterFromString(r[1]),l=n.readValue(),i.uWrap=c.TextureWrap.ClampToEdge,i.vWrap=c.TextureWrap.ClampToEdge,"x"==l?i.uWrap=c.TextureWrap.Repeat:"y"==l?i.vWrap=c.TextureWrap.Repeat:"xy"==l&&(i.uWrap=i.vWrap=c.TextureWrap.Repeat),i.texture=e(u),i.texture.setFilters(i.minFilter,i.magFilter),i.texture.setWraps(i.uWrap,i.vWrap),i.width=i.texture.getImage().width,i.height=i.texture.getImage().height,this.pages.push(i))}},t.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},t.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},c.TextureAtlas=t;e.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},e.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var r=0,i=n+1;r<3;r++){var a=e.indexOf(",",i);if(-1==a)break;t[r]=e.substr(i,a-i).trim(),i=a+1}return t[r]=e.substring(i).trim(),r+1};var p=e;function e(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var n,d=function(){},f=(c.TextureAtlasPage=d,n=c.TextureRegion,__extends(r,n),r);function r(){return null!==n&&n.apply(this,arguments)||this}c.TextureAtlasRegion=f}(spine=spine||{}),!function(I){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new I.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.a,s=i.b,o=i.c,h=i.d,l=0<a*h-s*o?I.MathUtils.degRad:-I.MathUtils.degRad,u=this.data.offsetRotation*l,c=this.data.offsetShearY*l,p=this.bones,d=0,f=p.length;d<f;d++){var m,g,v,y,E,x,w,T,A=p[d],M=!1;0!=t&&(g=A.a,y=A.b,v=A.c,E=A.d,(w=Math.atan2(o,a)-Math.atan2(v,g)+u)>I.MathUtils.PI?w-=I.MathUtils.PI2:w<-I.MathUtils.PI&&(w+=I.MathUtils.PI2),w*=t,m=Math.cos(w),x=Math.sin(w),A.a=m*g-x*v,A.b=m*y-x*E,A.c=x*g+m*v,A.d=x*y+m*E,M=!0),0!=e&&(g=this.temp,i.localToWorld(g.set(this.data.offsetX,this.data.offsetY)),A.worldX+=(g.x-A.worldX)*e,A.worldY+=(g.y-A.worldY)*e,M=!0),0<n&&(T=Math.sqrt(A.a*A.a+A.c*A.c),v=Math.sqrt(a*a+o*o),1e-5<T&&(T=(T+(v-T+this.data.offsetScaleX)*n)/T),A.a*=T,A.c*=T,T=Math.sqrt(A.b*A.b+A.d*A.d),v=Math.sqrt(s*s+h*h),1e-5<T&&(T=(T+(v-T+this.data.offsetScaleY)*n)/T),A.b*=T,A.d*=T,M=!0),0<r&&(y=A.b,E=A.d,x=Math.atan2(E,y),(w=Math.atan2(h,s)-Math.atan2(o,a)-(x-Math.atan2(A.c,A.a)))>I.MathUtils.PI?w-=I.MathUtils.PI2:w<-I.MathUtils.PI&&(w+=I.MathUtils.PI2),w=x+(w+c)*r,T=Math.sqrt(y*y+E*E),A.b=Math.cos(w)*T,A.d=Math.sin(w)*T,M=!0),M&&(A.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=i.a,s=i.b,o=i.c,h=i.d,l=0<a*h-s*o?I.MathUtils.degRad:-I.MathUtils.degRad,u=this.data.offsetRotation*l,c=this.data.offsetShearY*l,p=this.bones,d=0,f=p.length;d<f;d++){var m,g,v,y,E,x,w,T,A=p[d],M=!1;0!=t&&(y=A.a,x=A.b,m=A.c,w=A.d,(E=Math.atan2(o,a)+u)>I.MathUtils.PI?E-=I.MathUtils.PI2:E<-I.MathUtils.PI&&(E+=I.MathUtils.PI2),E*=t,g=Math.cos(E),v=Math.sin(E),A.a=g*y-v*m,A.b=g*x-v*w,A.c=v*y+g*m,A.d=v*x+g*w,M=!0),0!=e&&(y=this.temp,i.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),A.worldX+=y.x*e,A.worldY+=y.y*e,M=!0),0<n&&(T=(Math.sqrt(a*a+o*o)-1+this.data.offsetScaleX)*n+1,A.a*=T,A.c*=T,T=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleY)*n+1,A.b*=T,A.d*=T,M=!0),0<r&&((E=Math.atan2(h,s)-Math.atan2(o,a))>I.MathUtils.PI?E-=I.MathUtils.PI2:E<-I.MathUtils.PI&&(E+=I.MathUtils.PI2),x=A.b,w=A.d,E=Math.atan2(w,x)+(E-I.MathUtils.PI/2+c)*r,T=Math.sqrt(x*x+w*w),A.b=Math.cos(E)*T,A.d=Math.sin(E)*T,M=!0),M&&(A.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=(i.appliedValid||i.updateAppliedTransform(),this.bones),s=0,o=a.length;s<o;s++){var h,l=a[s],u=(l.appliedValid||l.updateAppliedTransform(),l.arotation),c=(0!=t&&(h=i.arotation-u+this.data.offsetRotation,u+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t),l.ax),p=l.ay,d=(0!=e&&(c+=(i.ax-c+this.data.offsetX)*e,p+=(i.ay-p+this.data.offsetY)*e),l.ascaleX),f=l.ascaleY,m=(0!=n&&(1e-5<d&&(d=(d+(i.ascaleX-d+this.data.offsetScaleX)*n)/d),1e-5<f)&&(f=(f+(i.ascaleY-f+this.data.offsetScaleY)*n)/f),l.ashearY);0!=r&&(h=i.ashearY-m+this.data.offsetShearY,h-=360*(16384-(16384.499999999996-h/360|0)),l.shearY+=h*r),l.updateWorldTransformWith(c,p,u,d,f,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target,a=(i.appliedValid||i.updateAppliedTransform(),this.bones),s=0,o=a.length;s<o;s++){var h=a[s],l=(h.appliedValid||h.updateAppliedTransform(),h.arotation),u=(0!=t&&(l+=(i.arotation+this.data.offsetRotation)*t),h.ax),c=h.ay,p=(0!=e&&(u+=(i.ax+this.data.offsetX)*e,c+=(i.ay+this.data.offsetY)*e),h.ascaleX),d=h.ascaleY,f=(0!=n&&(1e-5<p&&(p*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<d)&&(d*=(i.ascaleY-1+this.data.offsetScaleY)*n+1),h.ashearY);0!=r&&(f+=(i.ashearY+this.data.offsetShearY)*r),h.updateWorldTransformWith(u,c,l,p,d,h.ashearX,f)}},I.TransformConstraint=t}(spine=spine||{}),!function(t){e=t.ConstraintData,__extends(r,e);var e,n=r;function r(t){t=e.call(this,t,0,!1)||this;return t.bones=new Array,t.rotateMix=0,t.translateMix=0,t.scaleMix=0,t.shearMix=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}t.TransformConstraintData=n}(spine=spine||{}),!function(t){function B(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(function(){return new Array}),this.polygonIndicesPool=new t.Pool(function(){return new Array})}B.prototype.triangulate=function(t){for(var e=t,n=t.length>>1,r=this.indicesArray,i=r.length=0;i<n;i++)r[i]=i;for(var a=this.isConcaveArray,i=a.length=0,s=n;i<s;++i)a[i]=B.isConcave(i,n,e,r);var o=this.triangles;for(o.length=0;3<n;){for(var h=n-1,i=0,l=1;;){t:if(!a[i]){for(var u=r[h]<<1,c=r[i]<<1,p=r[l]<<1,d=e[u],f=e[1+u],m=e[c],g=e[1+c],v=e[p],y=e[1+p],E=(l+1)%n;E!=h;E=(E+1)%n)if(a[E]){var x=r[E]<<1,w=e[x],x=e[1+x];if(B.positiveArea(v,y,d,f,w,x)&&B.positiveArea(d,f,m,g,w,x)&&B.positiveArea(m,g,v,y,w,x))break t}break}if(0==l){for(;a[i]&&0<--i;);break}h=i,l=((i=l)+1)%n}o.push(r[(n+i-1)%n]),o.push(r[i]),o.push(r[(i+1)%n]),r.splice(i,1),a.splice(i,1);var T=(--n+i-1)%n,A=i==n?0:i;a[T]=B.isConcave(T,n,e,r),a[A]=B.isConcave(A,n,e,r)}return 3==n&&(o.push(r[2]),o.push(r[0]),o.push(r[1])),o},B.prototype.decompose=function(O,t){for(var e=O,n=this.convexPolygons,r=(this.polygonPool.freeAll(n),n.length=0,this.convexPolygonsIndices),i=(this.polygonIndicesPool.freeAll(r),r.length=0,this.polygonIndicesPool.obtain()),a=(i.length=0,this.polygonPool.obtain()),s=-1,o=a.length=0,h=0,l=t.length;h<l;h+=3){var u=t[h]<<1,c=t[h+1]<<1,p=t[h+2]<<1,d=e[u],f=e[1+u],m=e[c],g=e[1+c],v=e[p],y=e[1+p],E=!1;s==u&&(x=a.length-4,R=B.winding(a[x],a[x+1],a[x+2],a[x+3],v,y),S=B.winding(v,y,a[0],a[1],a[2],a[3]),R==o)&&S==o&&(a.push(v),a.push(y),i.push(p),E=!0),E||(0<a.length?(n.push(a),r.push(i)):(this.polygonPool.free(a),this.polygonIndicesPool.free(i)),(a=this.polygonPool.obtain()).length=0,a.push(d),a.push(f),a.push(m),a.push(g),a.push(v),a.push(y),(i=this.polygonIndicesPool.obtain()).length=0,i.push(u),i.push(c),i.push(p),o=B.winding(d,f,m,g,v,y),s=u)}0<a.length&&(n.push(a),r.push(i));for(h=0,l=n.length;h<l;h++)if(0!=(i=r[h]).length)for(var x,w,T,A,M,I,R,S,F=i[0],D=i[i.length-1],b=(a=n[h])[x=a.length-4],C=a[x+1],_=a[x+2],P=a[x+3],N=a[0],V=a[1],U=a[2],X=a[3],k=B.winding(b,C,_,P,N,V),L=0;L<l;L++)L!=h&&(3==(w=r[L]).length&&(T=w[0],A=w[1],M=w[2],v=(I=n[L])[I.length-2],y=I[I.length-1],T==F)&&A==D&&(R=B.winding(b,C,_,P,v,y),S=B.winding(v,y,N,V,U,X),R==k)&&S==k)&&(I.length=0,w.length=0,a.push(v),a.push(y),i.push(M),b=_,C=P,_=v,P=y,L=0);for(h=n.length-1;0<=h;h--)0==(a=n[h]).length&&(n.splice(h,1),this.polygonPool.free(a),i=r[h],r.splice(h,1),this.polygonIndicesPool.free(i));return n},B.isConcave=function(t,e,n,r){var i=r[(e+t-1)%e]<<1,a=r[t]<<1,r=r[(t+1)%e]<<1;return!this.positiveArea(n[i],n[1+i],n[a],n[1+a],n[r],n[1+r])},B.positiveArea=function(t,e,n,r,i,a){return 0<=t*(a-r)+n*(e-a)+i*(r-e)},B.winding=function(t,e,n,r,i,a){n-=t,r-=e;return 0<=i*r-a*n+n*e-t*r?1:-1},t.Triangulator=B}(spine=spine||{}),!function(t){function e(){this.array=new Array}function n(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t=void 0===t?0:t,this.g=e,this.b=n,this.a=r}function r(){}e.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},e.prototype.contains=function(t){return null!=this.array[0|t]},e.prototype.remove=function(t){this.array[0|t]=void 0},e.prototype.clear=function(){this.array.length=0},t.IntSet=e,n.prototype.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp(),this},n.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},n.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},n.prototype.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp(),this},n.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},n.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},n.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},n.WHITE=new n(1,1,1,1),n.RED=new n(1,0,0,1),n.GREEN=new n(0,1,0,1),n.BLUE=new n(0,0,1,1),n.MAGENTA=new n(1,0,1,1),t.Color=n,r.clamp=function(t,e,n){return t<e?e:n<t?n:t},r.cosDeg=function(t){return Math.cos(t*r.degRad)},r.sinDeg=function(t){return Math.sin(t*r.degRad)},r.signum=function(t){return 0<t?1:t<0?-1:0},r.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},r.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},r.randomTriangular=function(t,e){return r.randomTriangularWith(t,e,.5*(t+e))},r.randomTriangularWith=function(t,e,n){var r=Math.random(),i=e-t;return r<=(n-t)/i?t+Math.sqrt(r*i*(n-t)):e-Math.sqrt((1-r)*i*(e-n))},r.PI2=2*(r.PI=3.1415927),r.radDeg=r.radiansToDegrees=180/r.PI,r.degRad=r.degreesToRadians=r.PI/180,t.MathUtils=r;a.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)};var i=a;function a(){}t.Interpolation=i;__extends(o,s=i),o.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1};var s,i=o;function o(t){var e=s.call(this)||this;return e.power=2,e.power=t,e}t.Pow=i;__extends(l,h=i),l.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1};var h,i=l;function l(t){return h.call(this,t)||this}function u(){}function c(){}function p(t){this.items=new Array,this.instantiator=t}function d(t,e){void 0===e&&(e=0),this.x=t=void 0===t?0:t,this.y=e}function f(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}function m(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.PowOut=i,u.arrayCopy=function(t,e,n,r,i){for(var a=e,s=r;a<e+i;a++,s++)n[s]=t[a]},u.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r!=e&&r<(t.length=e))for(var i=r;i<e;i++)t[i]=n;return t},u.ensureArrayCapacity=function(t,e,n){return void 0===n&&(n=0),t.length>=e?t:u.setArraySize(t,e,n)},u.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},u.newFloatArray=function(t){if(u.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},u.newShortArray=function(t){if(u.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},u.toFloatArray=function(t){return u.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},u.toSinglePrecision=function(t){return u.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},u.webkit602BugfixHelper=function(t,e){},u.contains=function(t,e,n){void 0===n&&(n=!0);for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},u.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t.Utils=u,c.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}},t.DebugUtils=c,p.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},p.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},p.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},p.prototype.clear=function(){this.items.length=0},t.Pool=p,d.prototype.set=function(t,e){return this.x=t,this.y=e,this},d.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},d.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t.Vector2=d,f.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t.TimeKeeper=f,m.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},m.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},m.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t.WindowedMean=m}(spine=spine||{}),!function(){var e;Math.fround||(Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),!function(e){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}e.Attachment=t,__extends(i,n=t),i.prototype.computeWorldVertices=function(t,e,n,r,i,a){n=i+(n>>1)*a;var s=t.bone.skeleton,o=t.deform,h=this.vertices,l=this.bones;if(null==l){0<o.length&&(h=o);for(var u=(S=t.bone).worldX,c=S.worldY,p=S.a,d=S.b,f=S.c,m=S.d,g=e,v=i;v<n;g+=2,v+=a){var y=h[g],E=h[g+1];r[v]=y*p+E*d+u,r[v+1]=y*f+E*m+c}}else{for(var x=0,w=0,T=0;T<e;T+=2)x+=(R=l[x])+1,w+=R;var A=s.bones;if(0==o.length)for(v=i,d=3*w;v<n;v+=a){var M=0,I=0,R=l[x++];for(R+=x;x<R;x++,d+=3){var S=A[l[x]],y=h[d],E=h[d+1],b=h[d+2];M+=(y*S.a+E*S.b+S.worldX)*b,I+=(y*S.c+E*S.d+S.worldY)*b}r[v]=M,r[v+1]=I}else for(var C=o,v=i,d=3*w,_=w<<1;v<n;v+=a){M=0,I=0,R=l[x++];for(R+=x;x<R;x++,d+=3,_+=2){S=A[l[x]],y=h[d]+C[_],E=h[d+1]+C[_+1],b=h[d+2];M+=(y*S.a+E*S.b+S.worldX)*b,I+=(y*S.c+E*S.d+S.worldY)*b}r[v]=M,r[v+1]=I}}},i.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},i.nextID=0;var n,r=i;function i(t){t=n.call(this,t)||this;return t.id=(65535&i.nextID++)<<11,t.worldVerticesLength=0,t.deformAttachment=t}e.VertexAttachment=r}(spine=spine||{}),!function(t){(t=t.AttachmentType||(t.AttachmentType={}))[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(spine=spine||{}),!function(e){n=e.VertexAttachment,__extends(r,n),r.prototype.copy=function(){var t=new r(name);return this.copyTo(t),t.color.setFromColor(this.color),t};var n,t=r;function r(t){t=n.call(this,t)||this;return t.color=new e.Color(1,1,1,1),t}e.BoundingBoxAttachment=t}(spine=spine||{}),!function(e){n=e.VertexAttachment,__extends(r,n),r.prototype.copy=function(){var t=new r(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t};var n,t=r;function r(t){t=n.call(this,t)||this;return t.color=new e.Color(.2275,.2275,.8078,1),t}e.ClippingAttachment=t}(spine=spine||{}),!function(c){e=c.VertexAttachment,__extends(n,e),n.prototype.updateUVs=function(){var t=this.regionUVs,e=(null!=this.uvs&&this.uvs.length==t.length||(this.uvs=c.Utils.newFloatArray(t.length)),this.uvs),n=this.uvs.length,r=this.region.u,i=this.region.v,a=0,s=0;if(this.region instanceof c.TextureAtlasRegion){var o=this.region,h=o.texture.getImage().width,l=o.texture.getImage().height;switch(o.degrees){case 90:r-=(o.originalHeight-o.offsetY-o.height)/h,i-=(o.originalWidth-o.offsetX-o.width)/l;for(var a=o.originalHeight/h,s=o.originalWidth/l,u=0;u<n;u+=2)e[u]=r+t[u+1]*a,e[u+1]=i+(1-t[u])*s;return;case 180:r-=(o.originalWidth-o.offsetX-o.width)/h,i-=o.offsetY/l,a=o.originalWidth/h,s=o.originalHeight/l;for(u=0;u<n;u+=2)e[u]=r+(1-t[u])*a,e[u+1]=i+(1-t[u+1])*s;return;case 270:r-=o.offsetY/h,i-=o.offsetX/l,a=o.originalHeight/h,s=o.originalWidth/l;for(u=0;u<n;u+=2)e[u]=r+(1-t[u+1])*a,e[u+1]=i+t[u]*s;return}r-=o.offsetX/h,i-=(o.originalHeight-o.offsetY-o.height)/l,a=o.originalWidth/h,s=o.originalHeight/l}else null==this.region?(r=i=0,a=s=1):(a=this.region.u2-r,s=this.region.v2-i);for(u=0;u<n;u+=2)e[u]=r+t[u]*a,e[u+1]=i+t[u+1]*s},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},n.prototype.copy=function(){var t;return null!=this.parentMesh?this.newLinkedMesh():((t=new n(this.name)).region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),c.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),c.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),c.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),c.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t)},n.prototype.newLinkedMesh=function(){var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t.updateUVs(),t};var e,t=n;function n(t){t=e.call(this,t)||this;return t.color=new c.Color(1,1,1,1),t.tempColor=new c.Color(0,0,0,0),t}c.MeshAttachment=t}(spine=spine||{}),!function(e){n=e.VertexAttachment,__extends(r,n),r.prototype.copy=function(){var t=new r(name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),e.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t};var n,t=r;function r(t){t=n.call(this,t)||this;return t.closed=!1,t.constantSpeed=!1,t.color=new e.Color(1,1,1,1),t}e.PathAttachment=t}(spine=spine||{}),!function(i){e=i.VertexAttachment,__extends(n,e),n.prototype.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},n.prototype.computeWorldRotation=function(t){var e=i.MathUtils.cosDeg(this.rotation),n=i.MathUtils.sinDeg(this.rotation),r=e*t.a+n*t.b,e=e*t.c+n*t.d;return Math.atan2(e,r)*i.MathUtils.radDeg},n.prototype.copy=function(){var t=new n(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t};var e,t=n;function n(t){t=e.call(this,t)||this;return t.color=new i.Color(.38,.94,0,1),t}i.PointAttachment=t}(spine=spine||{}),!function(e){n=e.Attachment,__extends(p,n),p.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,t=n+this.region.width*t,e=r+this.region.height*e,i=this.rotation*Math.PI/180,a=Math.cos(i),i=Math.sin(i),s=n*a+this.x,n=n*i,o=r*a+this.y,r=r*i,h=t*a+this.x,t=t*i,a=e*a+this.y,e=e*i,i=this.offset;i[p.OX1]=s-r,i[p.OY1]=o+n,i[p.OX2]=s-e,i[p.OY2]=a+n,i[p.OX3]=h-e,i[p.OY3]=a+t,i[p.OX4]=h-r,i[p.OY4]=o+t},p.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},p.prototype.computeWorldVertices=function(t,e,n,r){var i=this.offset,a=t.worldX,s=t.worldY,o=t.a,h=t.b,l=t.c,t=t.d,u=i[p.OX1],c=i[p.OY1];e[n]=u*o+c*h+a,e[n+1]=u*l+c*t+s,u=i[p.OX2],c=i[p.OY2],e[n+=r]=u*o+c*h+a,e[n+1]=u*l+c*t+s,u=i[p.OX3],c=i[p.OY3],e[n+=r]=u*o+c*h+a,e[n+1]=u*l+c*t+s,u=i[p.OX4],c=i[p.OY4],e[n+=r]=u*o+c*h+a,e[n+1]=u*l+c*t+s},p.prototype.copy=function(){var t=new p(name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,e.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),e.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},p.OX1=0,p.OY1=1,p.OX2=2,p.OY2=3,p.OX3=4,p.OY3=5,p.OX4=6,p.OY4=7,p.X1=0,p.Y1=1,p.C1R=2,p.C1G=3,p.C1B=4,p.C1A=5,p.U1=6,p.V1=7,p.X2=8,p.Y2=9,p.C2R=10,p.C2G=11,p.C2B=12,p.C2A=13,p.U2=14,p.V2=15,p.X3=16,p.Y3=17,p.C3R=18,p.C3G=19,p.C3B=20,p.C3A=21,p.U3=22,p.V3=23,p.X4=24,p.Y4=25,p.C4R=26,p.C4G=27,p.C4B=28,p.C4A=29,p.U4=30,p.V4=31;var n,t=p;function p(t){t=n.call(this,t)||this;return t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new e.Color(1,1,1,1),t.offset=e.Utils.newFloatArray(8),t.uvs=e.Utils.newFloatArray(8),t.tempColor=new e.Color(1,1,1,1),t}e.RegionAttachment=t}(spine=spine||{}),!function(i){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}t.prototype.begin=function(t){},t.prototype.transform=function(t,e,n,r){t.x+=i.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=i.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},i.JitterEffect=t}(spine=spine||{}),!function(h){l.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},l.prototype.transform=function(t,e,n,r){var i=this.angle*h.MathUtils.degreesToRadians,a=t.x-this.worldX,s=t.y-this.worldY,o=Math.sqrt(a*a+s*s);o<this.radius&&(i=l.interpolation.apply(0,i,(this.radius-o)/this.radius),o=Math.cos(i),i=Math.sin(i),t.x=o*a-i*s+this.worldX,t.y=i*a+o*s+this.worldY)},l.prototype.end=function(){},l.interpolation=new h.PowOut(2);var t=l;function l(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}h.SwirlEffect=t}(spine=spine||{}),pc.extend(pc,function(){function s(t,e,n){var r=n&&n.lexicographical,n=n&&n.zeroExtend,i=t.split("."),a=e.split(".");function s(t){return(r?/^\d+[A-Za-z]*$/:/^\d+$/).test(t)}if(!i.every(s)||!a.every(s))return NaN;if(n){for(;i.length<a.length;)i.push("0");for(;a.length<i.length;)a.push("0")}r||(i=i.map(Number),a=a.map(Number));for(var o=0;o<i.length;++o){if(a.length===o)return 1;if(i[o]!==a[o])return i[o]>a[o]?1:-1}return i.length!==a.length?-1:0}function o(t){this._image={width:t.width,height:t.height},this.pcTexture=t}function t(t,e,n,r){var i;if(this._app=t,this._position=new pc.Vec3,1===spine.TextureAtlas.length)for(const a of(i=new spine.TextureAtlas(e)).pages)a.setTexture(new o(r[a.name]));else i=new spine.TextureAtlas(e,function(t){return new o(r[t])});(t=new spine.SkeletonJson(new spine.AtlasAttachmentLoader(i))).scale*=.01,e=t.readSkeletonData(n),this.skeletonVersion=e.version,this._spine_3_6_0=s(this.skeletonVersion,"3.6.0")<=0,this._spine_3_7_99=s(this.skeletonVersion,"3.7.99")<=0,this._spine_4_1_X=semver.satisfies(semver.valid(semver.coerce(this.skeletonVersion)),"~4.1.23"),this.skeleton=new spine.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new spine.AnimationStateData(this.skeleton.data),this.states=[new spine.AnimationState(this.stateData)],this.clipper=new spine.SkeletonClipping,this._node=new pc.GraphNode,this._meshes=[],this._meshInstances=[],this._materials={},this._tint={},this._aabb=new pc.BoundingBox,this._aabbTempArray=[],this._aabbTempOffset=new pc.Vec2,this._aabbTempSize=new pc.Vec2,this._renderCounts={vertexCount:0,indexCount:0},this._vertexFormat=null,this._vertexBuffer=null,this._indexBuffer=null,this._priority=0,this._timeScale=1,this._layers=[pc.LAYERID_UI],this.init(),this.autoUpdate=!0,this._hidden=!1}var h=0,l=1,u=2,n={9728:pc.FILTER_NEAREST,9729:pc.FILTER_LINEAR,9984:pc.FILTER_NEAREST_MIPMAP_NEAREST,9985:pc.FILTER_LINEAR_MIPMAP_NEAREST,9986:pc.FILTER_NEAREST_MIPMAP_LINEAR,9987:pc.FILTER_LINEAR_MIPMAP_LINEAR},r={33648:pc.ADDRESS_MIRRORED_REPEAT,33071:pc.ADDRESS_CLAMP_TO_EDGE,10487:pc.ADDRESS_REPEAT},c=[0,1,2,2,3,0];o.prototype={setFilters:function(t,e){this.pcTexture.minFilter=n[t],this.pcTexture.magFilter=n[e]},setWraps:function(t,e){this.pcTexture.addressU=r[t],this.pcTexture.addressV=r[e]},getImage:function(){return this._image},dispose:function(){this.pcTexture.destroy()}};return t.prototype.destroy=function(){this.removeFromLayers();for(var t=0;t<this._meshInstances.length;t++)this._meshInstances[t].mesh.vertexBuffer=null,this._meshInstances[t].mesh.indexBuffer.length=0,this._meshInstances[t].material=null;this._vertexBuffer&&(this._vertexBuffer.destroy(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer.destroy(),this._indexBuffer=null),this._meshInstances=[],this.skeleton=null,this.stateData=null,this._materials={},this._node=null},t.prototype.hide=function(){if(!this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!1;this._hidden=!0}},t.prototype.show=function(){if(this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!0;this._hidden=!1}},t.prototype.init=function(){this._vertexFormat=new pc.VertexFormat(this._app.graphicsDevice,[{semantic:pc.SEMANTIC_POSITION,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_NORMAL,components:4,type:pc.TYPE_UINT8,normalize:!0},{semantic:pc.SEMANTIC_TEXCOORD0,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_COLOR,components:4,type:pc.TYPE_UINT8,normalize:!0}]);for(var t=this.skeleton.drawOrder,e=0,n=t.length;e<n;e++)this.initSlot(t[e])},t.prototype.initSlot=function(t){t.positions=[],t.uvs=[],t.indices=[],t.vertexColor={},t._active={name:"",type:h},this.initAttachment(t)},t.prototype.createMaterial=function(t){var e=new pc.StandardMaterial;return e.shadingModel=pc.SPECULAR_BLINN,e.diffuse=new pc.Color(1,1,1),e.emissiveMap=t,e.emissiveMapChannel="rgb",e.emissiveVertexColor=!0,e.emissiveVertexColorChannel="rgb",e.opacityMap=t,e.opacityMapChannel="a",e.opacityVertexColor=!0,e.opacityVertexColorChannel="a",e.depthWrite=!1,e.cull=pc.CULLFACE_NONE,e.blendType=pc.BLEND_PREMULTIPLIED,this._spine_3_6_0&&(t=["gl_FragColor.rgb *= vVertexColor.a;","gl_FragColor.a = dAlpha;"].join("\n"),e.chunks.outputAlphaPremulPS=t),e.update(),e},t.prototype.initAttachment=function(t){var e,n=t.attachment;n&&(t._active.name=n.name,n instanceof spine.RegionAttachment?t._active.type=u:n instanceof spine.MeshAttachment&&(t._active.type=l),n.region)&&n.region.texture&&(n=n.region.texture.pcTexture)&&(n instanceof pc.StandardMaterial?(this._materials[n.name]=n,t.material=n.name):(e=null,n.name?e=n.name:n.getSource()instanceof Image&&(e=n.getSource().getAttribute("src")),e&&(void 0===this._materials[e]&&(n=this.createMaterial(n),this._materials[e]=n),t.material=e)))},t.prototype.updateSlot=function(t,e){var n=t.attachment,r=n.name,i=n instanceof spine.RegionAttachment?u:n instanceof spine.MeshAttachment?l:h,i=(t._active.name===r&&t._active.type===i||this.initAttachment(t),t.positions.length=0,n instanceof spine.RegionAttachment?this._spine_4_1_X?n.computeWorldVertices(t,t.positions,0,2):n.computeWorldVertices(t.bone,t.positions,0,2):n instanceof spine.MeshAttachment&&n.computeWorldVertices(t,0,n.worldVerticesLength,t.positions,0,2),this._tint[r]),r=(t.vertexColor={r:Math.round(255*t.color.r*(i?i.r:1)),g:Math.round(255*t.color.g*(i?i.g:1)),b:Math.round(255*t.color.b*(i?i.b:1)),a:Math.round(255*t.color.a*(i?i.a:1))},n.triangles||c);if(e.isClipping()){e.clipTriangles(t.positions,0,r,r.length,n.uvs,spine.Color.WHITE,spine.Color.WHITE,!1),t.positions.length=0,t.uvs.length=0;for(var a=e.clippedVertices.length,s=0;s<a;s+=8)t.positions.push(e.clippedVertices[s],e.clippedVertices[s+1]),t.uvs.push(e.clippedVertices[s+6],1-e.clippedVertices[s+7]);t.indices=e.clippedTriangles.slice()}else{for(t.uvs.length=0,a=t.positions.length,s=0;s<a;s+=2)t.uvs.push(n.uvs[s],1-n.uvs[s+1]);t.indices=r}this._renderCounts.vertexCount+=t.positions.length/2,this._renderCounts.indexCount+=t.indices.length},t.prototype.updateSkeleton=function(t){this._renderCounts.vertexCount=0,this._renderCounts.indexCount=0;for(var e=this.clipper,n=!1,n=!0,r=this.skeleton.drawOrder,i=r.length,a=0;a<i;a++){var s,o=r[a];this._spine_3_7_99||o.bone.active?n?(s=o.getAttachment())instanceof spine.ClippingAttachment?e.clipStart(o,s):s instanceof spine.RegionAttachment||s instanceof spine.MeshAttachment?this.updateSlot(o,e):this._spine_3_7_99||e.clipEndWithSlot(o):e.clipEndWithSlot(o):e.clipEndWithSlot(o)}},t.prototype.render=function(){if(this._meshInstances.forEach(function(t){t.material=null}),this.removeFromLayers(),this._meshes=[],(this._meshInstances.length=0)<this._renderCounts.indexCount&&0<this._renderCounts.vertexCount){this.skeleton.getBounds(this._aabbTempOffset,this._aabbTempSize,this._aabbTempArray),this._aabb.center=new pc.Vec3(this._aabbTempOffset.x,this._aabbTempOffset.y,0),this._aabb.halfExtents=new pc.Vec3(.5*this._aabbTempSize.x,.5*this._aabbTempSize.y,0),(!this._vertexBuffer||this._vertexBuffer.getNumVertices()<this._renderCounts.vertexCount)&&(this._vertexBuffer&&this._vertexBuffer.destroy(),this._vertexBuffer=new pc.VertexBuffer(this._app.graphicsDevice,this._vertexFormat,this._renderCounts.vertexCount)),(!this._indexBuffer||this._indexBuffer.getNumIndices()<this._renderCounts.indexCount)&&(this._indexBuffer&&this._indexBuffer.destroy(),this._indexBuffer=new pc.IndexBuffer(this._app.graphicsDevice,pc.INDEXFORMAT_UINT16,this._renderCounts.indexCount));for(var t=null,e=0,n=0,r=new pc.VertexIterator(this._vertexBuffer),i=new Uint16Array(this._indexBuffer.lock()),a=0,s=0,o=this.skeleton.drawOrder,h=o.length,l=0;l<h;l++){var u=o[l];if(u.attachment&&u.material&&0<u.positions.length&&0<u.indices.length){t&&t!==u.material&&(this.SubmitBatch(e,n,t),t=u.material,e=a,n=0);for(var t=u.material,c=u.positions,p=u.vertexColor.r,d=u.vertexColor.g,f=u.vertexColor.b,m=u.vertexColor.a,g=u.uvs,v=c.length/2,y=0;y<v;y++)r.element[pc.SEMANTIC_POSITION].set(c[2*y],c[2*y+1]),r.element[pc.SEMANTIC_NORMAL].set(0,255,0,0),r.element[pc.SEMANTIC_COLOR].set(p,d,f,m),r.element[pc.SEMANTIC_TEXCOORD0].set(g[2*y],1-g[2*y+1]),r.next();var E=u.indices,x=E.length;for(y=0;y<x;y++)i[a+y]=E[y]+s;n+=x,a+=x,s+=v}}r.end(),this._indexBuffer.unlock(),this.SubmitBatch(e,n,t)}this.addToLayers()},t.prototype.SubmitBatch=function(t,e,n){var r;0<e&&((r=new pc.Mesh(this._app.graphicsDevice)).vertexBuffer=this._vertexBuffer,r.indexBuffer[0]=this._indexBuffer,r.primitive[0].type=pc.PRIMITIVE_TRIANGLES,r.primitive[0].base=t,r.primitive[0].count=e,r.primitive[0].indexed=!0,r.aabb=this._aabb,this._meshes.push(r),(t=new pc.MeshInstance(this._node,r,this._materials[n])).drawOrder=this.priority+this._meshInstances.length,t.visible=!this._hidden,this._meshInstances.push(t))},t.prototype.update=function(t){if(!this._hidden){t*=this._timeScale;for(var e=this.states.length,n=0;n<e;n++)this.states[n].update(t);for(n=0;n<e;n++)this.states[n].apply(this.skeleton);this.autoUpdate&&this.skeleton.updateWorldTransform(),this.updateSkeleton(),this.render()}},t.prototype.setPosition=function(t){this._position.copy(t)},t.prototype.setTint=function(t,e){this._tint[t]=e},t.prototype.removeFromLayers=function(){if(this._meshInstances.length)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.removeMeshInstances(this._meshInstances)}},t.prototype.addToLayers=function(){if(this._meshInstances.length)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.addMeshInstances(this._meshInstances)}},Object.defineProperty(t.prototype,"state",{get:function(){return this.states[0]}}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},set:function(t){this._priority=t}}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale=t}}),Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},set:function(t){this.removeFromLayers(),this._layers=t||[],this.addToLayers()}}),{Spine:t}}()),pc.extend(pc,function(){function t(t){pc.ComponentSystem.call(this,t),this.id="spine",this.ComponentType=pc.SpineComponent,this.DataType=pc.SpineComponentData,this.schema=["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","speed","spine"],this.on("beforeremove",this.onBeforeRemove,this),this.app.systems.on("update",this.onUpdate,this)}return(t.prototype=Object.create(pc.ComponentSystem.prototype)).constructor=t,Object.assign(t.prototype,{initializeComponentData:function(t,e,n){pc.ComponentSystem.prototype.initializeComponentData.call(this.system,t,e,["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","spine"])},onBeforeRemove:function(t,e){var n=t.spine.data;n.spine&&n.spine.destroy(),t.spine.removeComponent()},onUpdate:function(t){var e,n,r,i=this.store;for(e in i)i.hasOwnProperty(e)&&(r=(n=i[e]).data).enabled&&n.entity.enabled&&r.spine&&(r.spine.setPosition(n.entity.getPosition()),r.spine.update(r.speed*t))}}),{SpineComponentSystem:t}}()),pc.extend(pc,function(){function t(t,e){pc.Component.call(this,t,e),this.on("set_atlasAsset",this.onSetAsset,this),this.on("set_textureAssets",this.onSetAssets,this),this.on("set_skeletonAsset",this.onSetAsset,this),this.on("set_atlasData",this.onSetResource,this),this.on("set_textures",this.onSetResource,this),this.on("set_skeletonData",this.onSetResource,this)}return(t.prototype=Object.create(pc.Component.prototype)).constructor=t,Object.assign(t.prototype,{_createSpine:function(){this.data.spine&&(this.data.spine.destroy(),this.data.spine=null);for(var t={},e=0,n=this.textureAssets.length;e<n;e++){var r=this.system.app.assets.get(this.textureAssets[e]),i=r.name||(r.file?r.file.filename:null),a=(i=i||pc.path.getBasename(r.file.url)).indexOf("?");t[i=-1!==a?i.substring(0,a):i]=r.resource}this.data.spine=new pc.Spine(this.system.app,this.atlasData,this.skeletonData,t),this.state=this.data.spine.state,this.states=this.data.spine.states,this.skeleton=this.data.spine.skeleton,this.entity.addChild(this.data.spine._node)},_onAssetReady:function(t){"texture"===t.type&&this.textures.push(t.resource),"json"===t.type&&(this.skeletonData=t.resource),"text"===t.type&&(this.atlasData=t.resource)},_onAssetAdd:function(t){t.off("change",this.onAssetChanged,this),t.on("change",this.onAssetChanged,this),t.off("remove",this.onAssetRemoved,this),t.on("remove",this.onAssetRemoved,this),t.ready(this._onAssetReady,this),this.system.app.assets.load(t)},onSetResource:function(){this.data.atlasData&&this.data.textures.length&&this.data.skeletonData&&this._createSpine()},onSetAsset:function(t,e,n){var r=this.system.app.assets,i=null;e&&(i=r.get(e))&&(i.off("change",this.onAssetChanged),i.off("remove",this.onAssetRemoved)),n&&((e=n)instanceof pc.Asset&&(e=n.id,this.data[t]=e),(i=r.get(e))?this._onAssetAdd(i):r.on("add:"+e))},onSetAssets:function(t,e,n){var r=this.system.app.assets,i=null;if(e.length)for(s=0,o=e.length;s<o;s++)(i=r.get(e[s]))&&(i.off("change",this.onAssetChanged),i.off("remove",this.onAssetRemoved));if(n&&n.length)for(var a=n.map(function(t){return t instanceof pc.Asset?t.id:t}),s=0,o=n.length;s<o;s++)(i=r.get(a[s]))?this._onAssetAdd(i):r.on("add:"+a[s])},onAssetChanged:function(t,e,n,r){},onAssetRemoved:function(t){},onEnable:function(){pc.Component.prototype.onEnable.call(this);var t=this.data.spine;t&&t.addToLayers()},onDisable:function(){pc.Component.prototype.onDisable.call(this);var t=this.data.spine;t&&t.removeFromLayers()},hide:function(){this.data.spine&&this.data.spine.hide()},show:function(){this.data.spine&&this.data.spine.show()},removeComponent:function(){var t;if(this.atlasAsset&&(t=this.system.app.assets.get(this.atlasAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.skeletonAsset&&(t=this.system.app.assets.get(this.skeletonAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.textureAssets&&this.textureAssets.length)for(var e=0;e<this.textureAssets.length;e++)(t=this.system.app.assets.get(this.textureAssets[e]))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved))}}),{SpineComponent:t}}()),pc.extend(pc,{SpineComponentData:function(){this.enabled=!0,this.atlasAsset=null,this.textureAssets=[],this.skeletonAsset=null,this.speed=1,this.spine=null,this.atlasData=null,this.textures=[],this.skeletonData=null}}),(()=>{var n=Object.getOwnPropertyNames,t=(t,e)=>function(){return e||(0,t[n(t)[0]])((e={exports:{}}).exports,e),e.exports},_=t({"node_modules/semver/internal/constants.js"(t,e){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}}),P=t({"node_modules/semver/internal/debug.js"(t,e){var n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};e.exports=n}}),N=t({"node_modules/semver/internal/re.js"(t,e){var{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=_(),a=P(),s=(t=e.exports={}).re=[],o=t.safeRe=[],h=t.src=[],l=t.t={},u=0,e="[a-zA-Z0-9-]",c=[["\\s",1],["\\d",i],[e,r]],i=(t,e,n)=>{var r=(t=>{for(var[e,n]of c)t=t.split(e+"*").join(`${e}{0,${n}}`).split(e+"+").join(`${e}{1,${n}}`);return t})(e),i=u++;a(t,i,e),l[t]=i,h[i]=e,s[i]=new RegExp(e,n?"g":void 0),o[i]=new RegExp(r,n?"g":void 0)};i("NUMERICIDENTIFIER","0|[1-9]\\d*"),i("NUMERICIDENTIFIERLOOSE","\\d+"),i("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${e}*`),i("MAINVERSION",`(${h[l.NUMERICIDENTIFIER]})\\.(${h[l.NUMERICIDENTIFIER]})\\.(${h[l.NUMERICIDENTIFIER]})`),i("MAINVERSIONLOOSE",`(${h[l.NUMERICIDENTIFIERLOOSE]})\\.(${h[l.NUMERICIDENTIFIERLOOSE]})\\.(${h[l.NUMERICIDENTIFIERLOOSE]})`),i("PRERELEASEIDENTIFIER",`(?:${h[l.NUMERICIDENTIFIER]}|${h[l.NONNUMERICIDENTIFIER]})`),i("PRERELEASEIDENTIFIERLOOSE",`(?:${h[l.NUMERICIDENTIFIERLOOSE]}|${h[l.NONNUMERICIDENTIFIER]})`),i("PRERELEASE",`(?:-(${h[l.PRERELEASEIDENTIFIER]}(?:\\.${h[l.PRERELEASEIDENTIFIER]})*))`),i("PRERELEASELOOSE",`(?:-?(${h[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[l.PRERELEASEIDENTIFIERLOOSE]})*))`),i("BUILDIDENTIFIER",e+"+"),i("BUILD",`(?:\\+(${h[l.BUILDIDENTIFIER]}(?:\\.${h[l.BUILDIDENTIFIER]})*))`),i("FULLPLAIN",`v?${h[l.MAINVERSION]}${h[l.PRERELEASE]}?${h[l.BUILD]}?`),i("FULL",`^${h[l.FULLPLAIN]}$`),i("LOOSEPLAIN",`[v=\\s]*${h[l.MAINVERSIONLOOSE]}${h[l.PRERELEASELOOSE]}?${h[l.BUILD]}?`),i("LOOSE",`^${h[l.LOOSEPLAIN]}$`),i("GTLT","((?:<|>)?=?)"),i("XRANGEIDENTIFIERLOOSE",h[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),i("XRANGEIDENTIFIER",h[l.NUMERICIDENTIFIER]+"|x|X|\\*"),i("XRANGEPLAIN",`[v=\\s]*(${h[l.XRANGEIDENTIFIER]})(?:\\.(${h[l.XRANGEIDENTIFIER]})(?:\\.(${h[l.XRANGEIDENTIFIER]})(?:${h[l.PRERELEASE]})?${h[l.BUILD]}?)?)?`),i("XRANGEPLAINLOOSE",`[v=\\s]*(${h[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[l.XRANGEIDENTIFIERLOOSE]})(?:${h[l.PRERELEASELOOSE]})?${h[l.BUILD]}?)?)?`),i("XRANGE",`^${h[l.GTLT]}\\s*${h[l.XRANGEPLAIN]}$`),i("XRANGELOOSE",`^${h[l.GTLT]}\\s*${h[l.XRANGEPLAINLOOSE]}$`),i("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),i("COERCERTL",h[l.COERCE],!0),i("LONETILDE","(?:~>?)"),i("TILDETRIM",`(\\s*)${h[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",i("TILDE",`^${h[l.LONETILDE]}${h[l.XRANGEPLAIN]}$`),i("TILDELOOSE",`^${h[l.LONETILDE]}${h[l.XRANGEPLAINLOOSE]}$`),i("LONECARET","(?:\\^)"),i("CARETTRIM",`(\\s*)${h[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",i("CARET",`^${h[l.LONECARET]}${h[l.XRANGEPLAIN]}$`),i("CARETLOOSE",`^${h[l.LONECARET]}${h[l.XRANGEPLAINLOOSE]}$`),i("COMPARATORLOOSE",`^${h[l.GTLT]}\\s*(${h[l.LOOSEPLAIN]})$|^$`),i("COMPARATOR",`^${h[l.GTLT]}\\s*(${h[l.FULLPLAIN]})$|^$`),i("COMPARATORTRIM",`(\\s*)${h[l.GTLT]}\\s*(${h[l.LOOSEPLAIN]}|${h[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",i("HYPHENRANGE",`^\\s*(${h[l.XRANGEPLAIN]})\\s+-\\s+(${h[l.XRANGEPLAIN]})\\s*$`),i("HYPHENRANGELOOSE",`^\\s*(${h[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[l.XRANGEPLAINLOOSE]})\\s*$`),i("STAR","(<|>)?=?\\s*\\*"),i("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),i("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),V=t({"node_modules/semver/internal/parse-options.js"(t,e){var n=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=t=>t?"object"!=typeof t?n:t:r}}),u=t({"node_modules/semver/internal/identifiers.js"(t,e){var i=/^[0-9]+$/,n=(t,e)=>{var n=i.test(t),r=i.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r||(!r||n)&&t<e?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(t,e)=>n(e,t)}}}),k=t({"node_modules/semver/classes/semver.js"(t,e){var i=P(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:r}=_(),{safeRe:a,t:s}=N(),o=V(),h=u()["compareIdentifiers"];e.exports=class l{constructor(t,e){if(e=o(e),t instanceof l){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>n)throw new TypeError(`version is longer than ${n} characters`);i("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;e=t.trim().match(e.loose?a[s.LOOSE]:a[s.FULL]);if(!e)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+e[1],this.minor=+e[2],this.patch=+e[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");e[4]?this.prerelease=e[4].split(".").map(t=>{if(/^[0-9]+$/.test(t)){var e=+t;if(0<=e&&e<r)return e}return t}):this.prerelease=[],this.build=e[5]?e[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(t){if(i("SemVer.compare",this.version,this.options,t),!(t instanceof l)){if("string"==typeof t&&t===this.version)return 0;t=new l(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof l||(t=new l(t,this.options)),h(this.major,t.major)||h(this.minor,t.minor)||h(this.patch,t.patch)}comparePre(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(i("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return h(n,r)}while(++e)}compareBuild(t){t instanceof l||(t=new l(t,this.options));let e=0;do{var n=this.build[e],r=t.build[e];if(i("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return h(n,r)}while(++e)}inc(t,e,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var r=Number(n)?1:0;if(!e&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[r];else{let t=this.prerelease.length;for(;0<=--t;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);if(-1===t){if(e===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(e){let t=!1===n?[e]:[e,r];(0!==h(this.prerelease[0],e)||isNaN(this.prerelease[1]))&&(this.prerelease=t)}break;default:throw new Error("invalid increment argument: "+t)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}}}}),r=t({"node_modules/semver/functions/parse.js"(t,e){var r=k();e.exports=(t,e,n=!1)=>{if(t instanceof r)return t;try{return new r(t,e)}catch(t){if(n)throw t;return null}}}}),s=t({"node_modules/semver/functions/valid.js"(t,e){var n=r();e.exports=(t,e)=>{t=n(t,e);return t?t.version:null}}}),o=t({"node_modules/semver/functions/coerce.js"(t,e){var i=k(),a=r(),{safeRe:s,t:o}=N();e.exports=(t,e)=>{if(t instanceof i)return t;if("string"!=typeof(t="number"==typeof t?String(t):t))return null;let n=null;if((e=e||{}).rtl){for(var r;(r=s[o.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),s[o.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;s[o.COERCERTL].lastIndex=-1}else n=t.match(s[o.COERCE]);return null===n?null:a(`${n[2]}.${n[3]||"0"}.`+(n[4]||"0"),e)}}}),i=t({"node_modules/yallist/iterator.js"(t,e){"use strict";e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}}}),x=t({"node_modules/yallist/yallist.js"(t,e){"use strict";function a(t){var e=this;if((e=e instanceof a?e:new a).tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(0<arguments.length)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}function s(t,e,n,r){if(!(this instanceof s))return new s(t,e,n,r);this.list=r,this.value=t,e?(e.next=this).prev=e:this.prev=null,n?(n.prev=this).next=n:this.next=null}(e.exports=a).Node=s,(a.create=a).prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},a.prototype.unshiftNode=function(t){var e;t!==this.head&&(t.list&&t.list.removeNode(t),e=this.head,t.list=this,(t.next=e)&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++)},a.prototype.pushNode=function(t){var e;t!==this.tail&&(t.list&&t.list.removeNode(t),e=this.tail,t.list=this,(t.prev=e)&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++)},a.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++){r=n=void 0;var n=this,r=arguments[t];n.tail=new s(r,n.tail,null,n),n.head||(n.head=n.tail),n.length++}return this.length},a.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++){r=n=void 0;var n=this,r=arguments[t];n.head=new s(r,null,n.head,n),n.tail||(n.tail=n.head),n.length++}return this.length},a.prototype.pop=function(){var t;if(this.tail)return t=this.tail.value,this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t},a.prototype.shift=function(){var t;if(this.head)return t=this.head.value,this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t},a.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},a.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},a.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},a.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},a.prototype.map=function(t,e){e=e||this;for(var n=new a,r=this.head;null!==r;)n.push(t.call(e,r.value,this)),r=r.next;return n},a.prototype.mapReverse=function(t,e){e=e||this;for(var n=new a,r=this.tail;null!==r;)n.push(t.call(e,r.value,this)),r=r.prev;return n},a.prototype.reduce=function(t,e){var n,r=this.head;if(1<arguments.length)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},a.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(1<arguments.length)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},a.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},a.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},a.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new a;if(!(e<t||e<0)){t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;null!==i&&r<t;r++)i=i.next;for(;null!==i&&r<e;r++,i=i.next)n.push(i.value)}return n},a.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new a;if(!(e<t||e<0)){t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;null!==i&&e<r;r--)i=i.prev;for(;null!==i&&t<r;r--,i=i.prev)n.push(i.value)}return n},a.prototype.splice=function(t,e,...n){(t=t>this.length?this.length-1:t)<0&&(t=this.length+t);for(var r=0,i=this.head;null!==i&&r<t;r++)i=i.next;for(var a=[],r=0;i&&r<e;r++)a.push(i.value),i=this.removeNode(i);(i=null===i?this.tail:i)!==this.head&&i!==this.tail&&(i=i.prev);for(r=0;r<n.length;r++)i=function(t,e,n){n=e===t.head?new s(n,null,e,t):new s(n,e,e.next,t);null===n.next&&(t.tail=n);null===n.prev&&(t.head=n);return t.length++,n}(this,i,n[r]);return a},a.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};try{i()(a)}catch(t){}}}),L=t({"node_modules/lru-cache/index.js"(t,e){"use strict";var n=x(),s=Symbol("max"),o=Symbol("length"),h=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),c=Symbol("noDisposeOnSet"),p=Symbol("lruList"),d=Symbol("cache"),i=Symbol("updateAgeOnGet"),r=()=>1,f=(t,e,n)=>{e=t[d].get(e);if(e){var r=e.value;if(m(t,r)){if(v(t,e),!t[a])return}else n&&(t[i]&&(e.value.now=Date.now()),t[p].unshiftNode(e));return r.value}},m=(t,e)=>{var n;return!(!e||!e.maxAge&&!t[l])&&(n=Date.now()-e.now,e.maxAge?n>e.maxAge:t[l]&&n>t[l])},g=e=>{if(e[o]>e[s])for(let t=e[p].tail;e[o]>e[s]&&null!==t;){var n=t.prev;v(e,t),t=n}},v=(t,e)=>{var n;e&&(n=e.value,t[u]&&t[u](n.key,n.value),t[o]-=n.length,t[d].delete(n.key),t[p].removeNode(e))},y=class{constructor(t,e,n,r,i){this.key=t,this.value=e,this.length=n,this.now=r,this.maxAge=i||0}},E=(t,e,n,r)=>{let i=n.value;m(t,i)&&(v(t,n),t[a]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};e.exports=class{constructor(t){if((t=(t="number"==typeof t?{max:t}:t)||{}).max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[s]=t.max||1/0;var e=t.length||r;if(this[h]="function"!=typeof e?r:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[u]=t.dispose,this[c]=t.noDisposeOnSet||!1,this[i]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[s]=t||1/0,g(this)}get max(){return this[s]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[l]=t,g(this)}get maxAge(){return this[l]}set lengthCalculator(t){(t="function"!=typeof t?r:t)!==this[h]&&(this[h]=t,this[o]=0,this[p].forEach(t=>{t.length=this[h](t.value,t.key),this[o]+=t.length})),g(this)}get lengthCalculator(){return this[h]}get length(){return this[o]}get itemCount(){return this[p].length}rforEach(e,n){n=n||this;for(let t=this[p].tail;null!==t;){var r=t.prev;E(this,e,t,n),t=r}}forEach(e,n){n=n||this;for(let t=this[p].head;null!==t;){var r=t.next;E(this,e,t,n),t=r}}keys(){return this[p].toArray().map(t=>t.key)}values(){return this[p].toArray().map(t=>t.value)}reset(){this[u]&&this[p]&&this[p].length&&this[p].forEach(t=>this[u](t.key,t.value)),this[d]=new Map,this[p]=new n,this[o]=0}dump(){return this[p].map(t=>!m(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[p]}set(t,e,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var r,i=n?Date.now():0,a=this[h](e,t);return this[d].has(t)?a>this[s]?(v(this,this[d].get(t)),!1):(r=this[d].get(t).value,this[u]&&!this[c]&&this[u](t,r.value),r.now=i,r.maxAge=n,r.value=e,this[o]+=a-r.length,r.length=a,this.get(t),g(this),!0):(r=new y(t,e,a,i,n)).length>this[s]?(this[u]&&this[u](t,e),!1):(this[o]+=r.length,this[p].unshift(r),this[d].set(t,this[p].head),g(this),!0)}has(t){return!!this[d].has(t)&&(t=this[d].get(t).value,!m(this,t))}get(t){return f(this,t,!0)}peek(t){return f(this,t,!1)}pop(){var t=this[p].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[d].get(t))}load(e){this.reset();var n=Date.now();for(let t=e.length-1;0<=t;t--){var r=e[t],i=r.e||0;0===i?this.set(r.k,r.v):0<(i=i-n)&&this.set(r.k,r.v,i)}}prune(){this[d].forEach((t,e)=>f(this,e,!1))}}}}),a=t({"node_modules/semver/functions/compare.js"(t,e){var r=k();e.exports=(t,e,n)=>new r(t,n).compare(new r(e,n))}}),c=t({"node_modules/semver/functions/eq.js"(t,e){var r=a();e.exports=(t,e,n)=>0===r(t,e,n)}}),p=t({"node_modules/semver/functions/neq.js"(t,e){var r=a();e.exports=(t,e,n)=>0!==r(t,e,n)}}),d=t({"node_modules/semver/functions/gt.js"(t,e){var r=a();e.exports=(t,e,n)=>0<r(t,e,n)}}),f=t({"node_modules/semver/functions/gte.js"(t,e){var r=a();e.exports=(t,e,n)=>0<=r(t,e,n)}}),m=t({"node_modules/semver/functions/lt.js"(t,e){var r=a();e.exports=(t,e,n)=>r(t,e,n)<0}}),g=t({"node_modules/semver/functions/lte.js"(t,e){var r=a();e.exports=(t,e,n)=>r(t,e,n)<=0}}),v=t({"node_modules/semver/functions/cmp.js"(t,e){var i=c(),a=p(),s=d(),o=f(),h=m(),l=g();e.exports=(t,e,n,r)=>{switch(e){case"===":return(t="object"==typeof t?t.version:t)===(n="object"==typeof n?n.version:n);case"!==":return(t="object"==typeof t?t.version:t)!==(n="object"==typeof n?n.version:n);case"":case"=":case"==":return i(t,n,r);case"!=":return a(t,n,r);case">":return s(t,n,r);case">=":return o(t,n,r);case"<":return h(t,n,r);case"<=":return l(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}}}),O=t({"node_modules/semver/classes/comparator.js"(t,e){var n=Symbol("SemVer ANY"),r=(e.exports=class u{static get ANY(){return n}constructor(t,e){if(e=r(e),t instanceof u){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),o("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===n?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(t){var e=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],e=t.match(e);if(!e)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==e[1]?e[1]:"","="===this.operator&&(this.operator=""),e[2]?this.semver=new h(e[2],this.options.loose):this.semver=n}toString(){return this.value}test(t){if(o("Comparator.test",t,this.options.loose),this.semver===n||t===n)return!0;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}return s(t,this.operator,this.semver,this.options)}intersects(t,e){if(t instanceof u)return""===this.operator?""===this.value||new l(t.value,e).test(this.value):""===t.operator?""===t.value||new l(this.value,e).test(t.semver):(!(e=r(e)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==t.value)&&!(!e.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!t.operator.startsWith(">"))&&!(this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||s(this.semver,"<",t.semver,e)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||s(this.semver,">",t.semver,e)&&this.operator.startsWith("<")&&t.operator.startsWith(">")));throw new TypeError("a Comparator is required")}},V()),{safeRe:i,t:a}=N(),s=v(),o=P(),h=k(),l=y()}}),y=t({"node_modules/semver/classes/range.js"(t,e){e.exports=class C{constructor(t,e){if(e=r(e),t instanceof C)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new C(t.raw,e);if(t instanceof h)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(t=>this.parseRange(t.trim())).filter(t=>t.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(1<this.set.length){e=this.set[0];if(this.set=this.set.filter(t=>!v(t[0])),0===this.set.length)this.set=[e];else if(1<this.set.length)for(const n of this.set)if(1===n.length&&i(n[0])){this.set=[n];break}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){var e=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+t,n=o.get(e);if(n)return n;var n=this.options.loose,r=n?p[d.HYPHENRANGELOOSE]:p[d.HYPHENRANGE];t=t.replace(r,S(this.options.includePrerelease)),c("hyphen replace",t),t=t.replace(p[d.COMPARATORTRIM],l),c("comparator trim",t),t=t.replace(p[d.TILDETRIM],u),c("tilde trim",t),t=t.replace(p[d.CARETTRIM],f),c("caret trim",t);let i=t.split(" ").map(t=>y(t,this.options)).join(" ").split(/\s+/).map(t=>R(t,this.options));n&&(i=i.filter(t=>(c("loose invalid filter",t,this.options),!!t.match(p[d.COMPARATORLOOSE])))),c("range list",i);var a=new Map;for(const s of i.map(t=>new h(t,this.options))){if(v(s))return[s];a.set(s.value,s)}1<a.size&&a.has("")&&a.delete("");r=[...a.values()];return o.set(e,r),r}intersects(t,n){if(t instanceof C)return this.set.some(e=>a(e,n)&&t.set.some(t=>a(t,n)&&e.every(e=>t.every(t=>e.intersects(t,n)))));throw new TypeError("a Range is required")}test(e){if(e){if("string"==typeof e)try{e=new n(e,this.options)}catch(t){return!1}for(let t=0;t<this.set.length;t++)if(b(this.set[t],e,this.options))return!0}return!1}};var o=new(L())({max:1e3}),r=V(),h=O(),c=P(),n=k(),{safeRe:p,t:d,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:f}=N(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=_(),v=t=>"<0.0.0-0"===t.value,i=t=>""===t.value,a=(t,e)=>{let n=!0;var r=t.slice();let i=r.pop();for(;n&&r.length;)n=r.every(t=>i.intersects(t,e)),i=r.pop();return n},y=(t,e)=>(c("comp",t,e),t=w(t,e),c("caret",t),t=s(t,e),c("tildes",t),t=A(t,e),c("xrange",t),t=I(t,e),c("stars",t),t),E=t=>!t||"x"===t.toLowerCase()||"*"===t,s=(t,e)=>t.trim().split(/\s+/).map(t=>x(t,e)).join(" "),x=(s,t)=>{t=t.loose?p[d.TILDELOOSE]:p[d.TILDE];return s.replace(t,(t,e,n,r,i)=>{c("tilde",s,t,e,n,r,i);let a;return a=E(e)?"":E(n)?`>=${e}.0.0 <${+e+1}.0.0-0`:E(r)?`>=${e}.${n}.0 <${e}.${+n+1}.0-0`:i?(c("replaceTilde pr",i),`>=${e}.${n}.${r}-${i} <${e}.${+n+1}.0-0`):`>=${e}.${n}.${r} <${e}.${+n+1}.0-0`,c("tilde return",a),a})},w=(t,e)=>t.trim().split(/\s+/).map(t=>T(t,e)).join(" "),T=(s,t)=>{c("caret",s,t);var e=t.loose?p[d.CARETLOOSE]:p[d.CARET];const o=t.includePrerelease?"-0":"";return s.replace(e,(t,e,n,r,i)=>{c("caret",s,t,e,n,r,i);let a;return a=E(e)?"":E(n)?`>=${e}.0.0${o} <${+e+1}.0.0-0`:E(r)?"0"===e?`>=${e}.${n}.0${o} <${e}.${+n+1}.0-0`:`>=${e}.${n}.0${o} <${+e+1}.0.0-0`:i?(c("replaceCaret pr",i),"0"===e?"0"===n?`>=${e}.${n}.${r}-${i} <${e}.${n}.${+r+1}-0`:`>=${e}.${n}.${r}-${i} <${e}.${+n+1}.0-0`:`>=${e}.${n}.${r}-${i} <${+e+1}.0.0-0`):(c("no pr"),"0"===e?"0"===n?`>=${e}.${n}.${r}${o} <${e}.${n}.${+r+1}-0`:`>=${e}.${n}.${r}${o} <${e}.${+n+1}.0-0`:`>=${e}.${n}.${r} <${+e+1}.0.0-0`),c("caret return",a),a})},A=(t,e)=>(c("replaceXRanges",t,e),t.split(/\s+/).map(t=>M(t,e)).join(" ")),M=(l,u)=>{l=l.trim();var t=u.loose?p[d.XRANGELOOSE]:p[d.XRANGE];return l.replace(t,(t,e,n,r,i,a)=>{c("xRange",l,t,e,n,r,i,a);var s=E(n),o=s||E(r),h=o||E(i);return"="===e&&h&&(e=""),a=u.includePrerelease?"-0":"",s?t=">"===e||"<"===e?"<0.0.0-0":"*":e&&h?(o&&(r=0),i=0,">"===e?(e=">=",i=o?(n=+n+1,r=0):(r=+r+1,0)):"<="===e&&(e="<",o?n=+n+1:r=+r+1),t=e+n+`.${r}.`+i+(a="<"===e?"-0":a)):o?t=`>=${n}.0.0${a} <${+n+1}.0.0-0`:h&&(t=`>=${n}.${r}.0${a} <${n}.${+r+1}.0-0`),c("xRange return",t),t})},I=(t,e)=>(c("replaceStars",t,e),t.trim().replace(p[d.STAR],"")),R=(t,e)=>(c("replaceGTE0",t,e),t.trim().replace(p[e.includePrerelease?d.GTE0PRE:d.GTE0],"")),S=d=>(t,e,n,r,i,a,s,o,h,l,u,c,p)=>((e=E(n)?"":E(r)?`>=${n}.0.0`+(d?"-0":""):E(i)?`>=${n}.${r}.0`+(d?"-0":""):a?">="+e:">="+e+(d?"-0":""))+" "+(o=E(h)?"":E(l)?`<${+h+1}.0.0-0`:E(u)?`<${h}.${+l+1}.0-0`:c?`<=${h}.${l}.${u}-`+c:d?`<${h}.${l}.${+u+1}-0`:"<="+o)).trim(),b=(e,n,t)=>{for(let t=0;t<e.length;t++)if(!e[t].test(n))return!1;if(!n.prerelease.length||t.includePrerelease)return!0;for(let t=0;t<e.length;t++)if(c(e[t].semver),e[t].semver!==h.ANY&&0<e[t].semver.prerelease.length){var r=e[t].semver;if(r.major===n.major&&r.minor===n.minor&&r.patch===n.patch)return!0}return!1}}}),h=t({"node_modules/semver/functions/satisfies.js"(t,e){var r=y();e.exports=(t,e,n)=>{try{e=new r(e,n)}catch(t){return!1}return e.test(t)}}});return t({"src/semver/index.js"(t,e){var n=_(),r=s(),i=o(),a=h();e.exports={valid:r,coerce:i,satisfies:a,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION}}})()})());!function(){var t,e;pc.Application.registerPlugin?pc.Application.registerPlugin("spine",function(t){new pc.SpineComponentSystem(t)}):(t=pc.Application.getApplication(),e=new pc.SpineComponentSystem(t),t.systems.add(e))}();