/* Copyright 2015-2023 PlayCanvas Ltd */
var spine,__extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])});return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),semver=(!function(N){e.prototype.apply=function(t,e,n,i,r,s,a,o){if(null==t)throw new Error("skeleton cannot be null.");i&&0!=this.duration&&(n%=this.duration,0<e)&&(e%=this.duration);for(var h=this.timelines,l=0,u=h.length;l<u;l++)h[l].apply(t,e,n,r,s,a,o)},e.binarySearch=function(t,e,n){var i=0,r=t.length/(n=void 0===n?1:n)-2;if(0==r)return n;for(var s=r>>>1;;){if(t[(s+1)*n]<=e?i=s+1:r=s,i==r)return(i+1)*n;s=i+r>>>1}},e.linearSearch=function(t,e,n){for(var i=0,r=t.length-n;i<=r;i+=n)if(t[i]>e)return i;return-1};var V,c,t,L=e;function e(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}N.Animation=L,(n=V=N.MixPose||(N.MixPose={}))[n.setup=0]="setup",n[n.current=1]="current",n[n.currentLayered=2]="currentLayered",(n=c=N.MixDirection||(N.MixDirection={}))[n.in=0]="in",n[n.out=1]="out",(n=t=N.TimelineType||(N.TimelineType={}))[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";E.prototype.getFrameCount=function(){return this.curves.length/E.BEZIER_SIZE+1},E.prototype.setLinear=function(t){this.curves[t*E.BEZIER_SIZE]=E.LINEAR},E.prototype.setStepped=function(t){this.curves[t*E.BEZIER_SIZE]=E.STEPPED},E.prototype.getCurveType=function(t){var t=t*E.BEZIER_SIZE;return t==this.curves.length||(t=this.curves[t])==E.LINEAR?E.LINEAR:t==E.STEPPED?E.STEPPED:E.BEZIER},E.prototype.setCurve=function(t,e,n,i,r){for(var s=.03*(2*-e+i),a=.03*(2*-n+r),o=.006*(3*(e-i)+1),h=.006*(3*(n-r)+1),l=2*s+o,u=2*a+h,p=.3*e+s+.16666667*o,c=.3*n+a+.16666667*h,f=t*E.BEZIER_SIZE,d=this.curves,m=(d[f++]=E.BEZIER,p),g=c,v=f+E.BEZIER_SIZE-1;f<v;f+=2)d[f]=m,d[f+1]=g,p+=l,c+=u,l+=o,u+=h,m+=p,g+=c},E.prototype.getCurvePercent=function(t,e){e=N.MathUtils.clamp(e,0,1);var n=this.curves,i=t*E.BEZIER_SIZE,t=n[i];if(t==E.LINEAR)return e;if(t==E.STEPPED)return 0;for(var r,s,a=0,o=++i,h=i+E.BEZIER_SIZE-1;i<h;i+=2)if(e<=(a=n[i]))return s=r=void 0,(s=i==o?r=0:(r=n[i-2],n[i-1]))+(n[i+1]-s)*(e-r)/(a-r);t=n[i-1];return t+(1-t)*(e-a)/(1-a)},E.LINEAR=0,E.STEPPED=1,E.BEZIER=2,E.BEZIER_SIZE=19;var n=E;function E(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=N.Utils.newFloatArray((t-1)*E.BEZIER_SIZE)}N.CurveTimeline=n;__extends(f,i=n),f.prototype.getPropertyId=function(){return(t.rotate<<24)+this.boneIndex},f.prototype.setFrame=function(t,e,n){this.frames[t<<=1]=e,this.frames[t+f.ROTATION]=n},f.prototype.apply=function(t,e,n,i,r,s,a){var o,h,l=this.frames,u=t.bones[this.boneIndex];if(n<l[0])switch(s){case V.setup:return void(u.rotation=u.data.rotation);case V.current:var p=u.data.rotation-u.rotation;u.rotation+=(p-=360*(16384-(16384.499999999996-p/360|0)))*r}else n>=l[l.length-f.ENTRIES]?s==V.setup?u.rotation=u.data.rotation+l[l.length+f.PREV_ROTATION]*r:(t=u.data.rotation+l[l.length+f.PREV_ROTATION]-u.rotation,u.rotation+=(t-=360*(16384-(16384.499999999996-t/360|0)))*r):(o=l[(t=L.binarySearch(l,n,f.ENTRIES))+f.PREV_ROTATION],h=l[t],n=this.getCurvePercent((t>>1)-1,1-(n-h)/(l[t+f.PREV_TIME]-h)),h=l[t+f.ROTATION]-o,h=o+(h-=360*(16384-(16384.499999999996-h/360|0)))*n,s==V.setup?u.rotation=u.data.rotation+(h-=360*(16384-(16384.499999999996-h/360|0)))*r:(h=u.data.rotation+h-u.rotation,u.rotation+=(h-=360*(16384-(16384.499999999996-h/360|0)))*r))},f.ENTRIES=2,f.PREV_TIME=-2,f.PREV_ROTATION=-1,f.ROTATION=1;var i,r=f;function f(t){var e=i.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t<<1),e}N.RotateTimeline=r;__extends(d,s=n),d.prototype.getPropertyId=function(){return(t.translate<<24)+this.boneIndex},d.prototype.setFrame=function(t,e,n,i){this.frames[t*=d.ENTRIES]=e,this.frames[t+d.X]=n,this.frames[t+d.Y]=i},d.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.bones[this.boneIndex];if(n<o[0])switch(s){case V.setup:return h.x=h.data.x,void(h.y=h.data.y);case V.current:h.x+=(h.data.x-h.x)*r,h.y+=(h.data.y-h.y)*r}else{var l,u,t=0,p=0;n>=o[o.length-d.ENTRIES]?(t=o[o.length+d.PREV_X],p=o[o.length+d.PREV_Y]):(t=o[(l=L.binarySearch(o,n,d.ENTRIES))+d.PREV_X],p=o[l+d.PREV_Y],u=o[l],n=this.getCurvePercent(l/d.ENTRIES-1,1-(n-u)/(o[l+d.PREV_TIME]-u)),t+=(o[l+d.X]-t)*n,p+=(o[l+d.Y]-p)*n),s==V.setup?(h.x=h.data.x+t*r,h.y=h.data.y+p*r):(h.x+=(h.data.x+t-h.x)*r,h.y+=(h.data.y+p-h.y)*r)}},d.ENTRIES=3,d.PREV_TIME=-3,d.PREV_X=-2,d.PREV_Y=-1,d.X=1,d.Y=2;var s,r=d;function d(t){var e=s.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*d.ENTRIES),e}N.TranslateTimeline=r;__extends(m,a=r),m.prototype.getPropertyId=function(){return(t.scale<<24)+this.boneIndex},m.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.bones[this.boneIndex];if(n<o[0])switch(s){case V.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case V.current:h.scaleX+=(h.data.scaleX-h.scaleX)*r,h.scaleY+=(h.data.scaleY-h.scaleY)*r}else{var l,u,t=0,p=0;p=n>=o[o.length-m.ENTRIES]?(t=o[o.length+m.PREV_X]*h.data.scaleX,o[o.length+m.PREV_Y]*h.data.scaleY):(t=o[(l=L.binarySearch(o,n,m.ENTRIES))+m.PREV_X],p=o[l+m.PREV_Y],u=o[l],n=this.getCurvePercent(l/m.ENTRIES-1,1-(n-u)/(o[l+m.PREV_TIME]-u)),t=(t+(o[l+m.X]-t)*n)*h.data.scaleX,(p+(o[l+m.Y]-p)*n)*h.data.scaleY),1==r?(h.scaleX=t,h.scaleY=p):(o=u=0,o=(s==V.setup?(u=h.data.scaleX,h.data):(u=h.scaleX,h)).scaleY,a==c.out?(t=Math.abs(t)*N.MathUtils.signum(u),p=Math.abs(p)*N.MathUtils.signum(o)):(u=Math.abs(u)*N.MathUtils.signum(t),o=Math.abs(o)*N.MathUtils.signum(p)),h.scaleX=u+(t-u)*r,h.scaleY=o+(p-o)*r)}};var a,o=m;function m(t){return a.call(this,t)||this}N.ScaleTimeline=o;__extends(g,h=r),g.prototype.getPropertyId=function(){return(t.shear<<24)+this.boneIndex},g.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.bones[this.boneIndex];if(n<o[0])switch(s){case V.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case V.current:h.shearX+=(h.data.shearX-h.shearX)*r,h.shearY+=(h.data.shearY-h.shearY)*r}else{var l,u,t=0,p=0;n>=o[o.length-g.ENTRIES]?(t=o[o.length+g.PREV_X],p=o[o.length+g.PREV_Y]):(t=o[(l=L.binarySearch(o,n,g.ENTRIES))+g.PREV_X],p=o[l+g.PREV_Y],u=o[l],n=this.getCurvePercent(l/g.ENTRIES-1,1-(n-u)/(o[l+g.PREV_TIME]-u)),t+=(o[l+g.X]-t)*n,p+=(o[l+g.Y]-p)*n),s==V.setup?(h.shearX=h.data.shearX+t*r,h.shearY=h.data.shearY+p*r):(h.shearX+=(h.data.shearX+t-h.shearX)*r,h.shearY+=(h.data.shearY+p-h.shearY)*r)}};var h,o=g;function g(t){return h.call(this,t)||this}N.ShearTimeline=o;__extends(v,l=n),v.prototype.getPropertyId=function(){return(t.color<<24)+this.slotIndex},v.prototype.setFrame=function(t,e,n,i,r,s){this.frames[t*=v.ENTRIES]=e,this.frames[t+v.R]=n,this.frames[t+v.G]=i,this.frames[t+v.B]=r,this.frames[t+v.A]=s},v.prototype.apply=function(t,e,n,i,r,s,a){var o=t.slots[this.slotIndex],t=this.frames;if(n<t[0])switch(s){case V.setup:return void o.color.setFromColor(o.data.color);case V.current:var h=o.color,l=o.data.color;h.add((l.r-h.r)*r,(l.g-h.g)*r,(l.b-h.b)*r,(l.a-h.a)*r)}else{var u,p,c=0,f=0,d=0,m=0;n>=t[t.length-v.ENTRIES]?(c=t[(u=t.length)+v.PREV_R],f=t[u+v.PREV_G],d=t[u+v.PREV_B],m=t[u+v.PREV_A]):(c=t[(u=L.binarySearch(t,n,v.ENTRIES))+v.PREV_R],f=t[u+v.PREV_G],d=t[u+v.PREV_B],m=t[u+v.PREV_A],p=t[u],n=this.getCurvePercent(u/v.ENTRIES-1,1-(n-p)/(t[u+v.PREV_TIME]-p)),c+=(t[u+v.R]-c)*n,f+=(t[u+v.G]-f)*n,d+=(t[u+v.B]-d)*n,m+=(t[u+v.A]-m)*n),1==r?o.color.set(c,f,d,m):(h=o.color,s==V.setup&&h.setFromColor(o.data.color),h.add((c-h.r)*r,(f-h.g)*r,(d-h.b)*r,(m-h.a)*r))}},v.ENTRIES=5,v.PREV_TIME=-5,v.PREV_R=-4,v.PREV_G=-3,v.PREV_B=-2,v.PREV_A=-1,v.R=1,v.G=2,v.B=3,v.A=4;var l,r=v;function v(t){var e=l.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*v.ENTRIES),e}N.ColorTimeline=r;__extends(w,u=n),w.prototype.getPropertyId=function(){return(t.twoColor<<24)+this.slotIndex},w.prototype.setFrame=function(t,e,n,i,r,s,a,o,h){this.frames[t*=w.ENTRIES]=e,this.frames[t+w.R]=n,this.frames[t+w.G]=i,this.frames[t+w.B]=r,this.frames[t+w.A]=s,this.frames[t+w.R2]=a,this.frames[t+w.G2]=o,this.frames[t+w.B2]=h},w.prototype.apply=function(t,e,n,i,r,s,a){var o=t.slots[this.slotIndex],t=this.frames;if(n<t[0])switch(s){case V.setup:return o.color.setFromColor(o.data.color),void o.darkColor.setFromColor(o.data.darkColor);case V.current:var h=o.color,l=o.darkColor,u=o.data.color,p=o.data.darkColor;h.add((u.r-h.r)*r,(u.g-h.g)*r,(u.b-h.b)*r,(u.a-h.a)*r),l.add((p.r-l.r)*r,(p.g-l.g)*r,(p.b-l.b)*r,0)}else{var c,f,d=0,m=0,g=0,v=0,E=0,y=0,x=0;n>=t[t.length-w.ENTRIES]?(d=t[(c=t.length)+w.PREV_R],m=t[c+w.PREV_G],g=t[c+w.PREV_B],v=t[c+w.PREV_A],E=t[c+w.PREV_R2],y=t[c+w.PREV_G2],x=t[c+w.PREV_B2]):(d=t[(c=L.binarySearch(t,n,w.ENTRIES))+w.PREV_R],m=t[c+w.PREV_G],g=t[c+w.PREV_B],v=t[c+w.PREV_A],E=t[c+w.PREV_R2],y=t[c+w.PREV_G2],x=t[c+w.PREV_B2],f=t[c],n=this.getCurvePercent(c/w.ENTRIES-1,1-(n-f)/(t[c+w.PREV_TIME]-f)),d+=(t[c+w.R]-d)*n,m+=(t[c+w.G]-m)*n,g+=(t[c+w.B]-g)*n,v+=(t[c+w.A]-v)*n,E+=(t[c+w.R2]-E)*n,y+=(t[c+w.G2]-y)*n,x+=(t[c+w.B2]-x)*n),1==r?(o.color.set(d,m,g,v),o.darkColor.set(E,y,x,1)):(h=o.color,l=o.darkColor,s==V.setup&&(h.setFromColor(o.data.color),l.setFromColor(o.data.darkColor)),h.add((d-h.r)*r,(m-h.g)*r,(g-h.b)*r,(v-h.a)*r),l.add((E-l.r)*r,(y-l.g)*r,(x-l.b)*r,0))}},w.ENTRIES=8,w.PREV_TIME=-8,w.PREV_R=-7,w.PREV_G=-6,w.PREV_B=-5,w.PREV_A=-4,w.PREV_R2=-3,w.PREV_G2=-2,w.PREV_B2=-1,w.R=1,w.G=2,w.B=3,w.A=4,w.R2=5,w.G2=6,w.B2=7;var u,o=w;function w(t){var e=u.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*w.ENTRIES),e}function p(t){this.frames=N.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}N.TwoColorTimeline=o,p.prototype.getPropertyId=function(){return(t.attachment<<24)+this.slotIndex},p.prototype.getFrameCount=function(){return this.frames.length},p.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},p.prototype.apply=function(t,e,n,i,r,s,a){var o=t.slots[this.slotIndex];a==c.out&&s==V.setup?(a=o.data.attachmentName,o.setAttachment(null==a?null:t.getAttachment(this.slotIndex,a))):n<(a=this.frames)[0]?s==V.setup&&(s=o.data.attachmentName,o.setAttachment(null==s?null:t.getAttachment(this.slotIndex,s))):(o=0,o=n>=a[a.length-1]?a.length-1:L.binarySearch(a,n,1)-1,s=this.attachmentNames[o],t.slots[this.slotIndex].setAttachment(null==s?null:t.getAttachment(this.slotIndex,s)))},N.AttachmentTimeline=p;var y,x=null,r=(__extends(A,y=n),A.prototype.getPropertyId=function(){return(t.deform<<27)+ +this.attachment.id+this.slotIndex},A.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},A.prototype.apply=function(t,e,n,i,r,s,a){var t=t.slots[this.slotIndex],o=t.getAttachment();if(o instanceof N.VertexAttachment&&o.applyDeform(this.attachment)){var h=t.attachmentVertices,t=(0==h.length&&(r=1),this.frameVertices),l=t[0].length,u=this.frames;if(n<u[0]){var p=o;switch(s){case V.setup:return void(h.length=0);case V.current:if(1==r)h.length=0;else{var c=N.Utils.setArraySize(h,l);if(null==p.bones)for(var f=p.vertices,d=0;d<l;d++)c[d]+=(f[d]-c[d])*r;else{r=1-r;for(d=0;d<l;d++)c[d]*=r}}}}else{var m=N.Utils.setArraySize(h,l);if(n>=u[u.length-1]){var g=t[u.length-1];if(1==r)N.Utils.arrayCopy(g,0,m,0,l);else if(s==V.setup)if(null==(p=o).bones)for(var v=p.vertices,E=0;E<l;E++){var y=v[E];m[E]=y+(g[E]-y)*r}else for(var x=0;x<l;x++)m[x]=g[x]*r;else for(var w=0;w<l;w++)m[w]+=(g[w]-m[w])*r}else{var A=L.binarySearch(u,n),T=t[A-1],M=t[A],t=u[A],R=this.getCurvePercent(A-1,1-(n-t)/(u[A-1]-t));if(1==r)for(var I=0;I<l;I++){var S=T[I];m[I]=S+(M[I]-S)*R}else if(s==V.setup)if(null==(p=o).bones)for(var b=p.vertices,C=0;C<l;C++){S=T[C],y=b[C];m[C]=y+(S+(M[C]-S)*R-y)*r}else for(var _=0;_<l;_++){S=T[_];m[_]=(S+(M[_]-S)*R)*r}else for(var P=0;P<l;P++){S=T[P];m[P]+=(S+(M[P]-S)*R-m[P])*r}}}}},A);function A(t){var e=y.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==x&&(x=N.Utils.newFloatArray(64)),e}function T(t){this.frames=N.Utils.newFloatArray(t),this.events=new Array(t)}function M(t){this.frames=N.Utils.newFloatArray(t),this.drawOrders=new Array(t)}N.DeformTimeline=r,T.prototype.getPropertyId=function(){return t.event<<24},T.prototype.getFrameCount=function(){return this.frames.length},T.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},T.prototype.apply=function(t,e,n,i,r,s,a){if(null!=i){var o=this.frames,h=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,i,r,s,a),e=-1;else if(e>=o[h-1])return;if(!(n<o[0])){var l=0;if(e<o[0])l=0;else for(var u=o[l=L.binarySearch(o,e)];0<l&&o[l-1]==u;)l--;for(;l<h&&n>=o[l];l++)i.push(this.events[l])}}},N.EventTimeline=T,M.prototype.getPropertyId=function(){return t.drawOrder<<24},M.prototype.getFrameCount=function(){return this.frames.length},M.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},M.prototype.apply=function(t,e,n,i,r,s,a){var o=t.drawOrder,h=t.slots;if(a==c.out&&s==V.setup)N.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{a=this.frames;if(n<a[0])s==V.setup&&N.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var s=0,s=n>=a[a.length-1]?a.length-1:L.binarySearch(a,n)-1,l=this.drawOrders[s];if(null==l)N.Utils.arrayCopy(h,0,o,0,h.length);else for(var u=0,p=l.length;u<p;u++)o[u]=h[l[u]]}}},N.DrawOrderTimeline=M;__extends(I,R=n),I.prototype.getPropertyId=function(){return(t.ikConstraint<<24)+this.ikConstraintIndex},I.prototype.setFrame=function(t,e,n,i){this.frames[t*=I.ENTRIES]=e,this.frames[t+I.MIX]=n,this.frames[t+I.BEND_DIRECTION]=i},I.prototype.apply=function(t,e,n,i,r,s,a){var o,h,l=this.frames,u=t.ikConstraints[this.ikConstraintIndex];if(n<l[0])switch(s){case V.setup:return u.mix=u.data.mix,void(u.bendDirection=u.data.bendDirection);case V.current:u.mix+=(u.data.mix-u.mix)*r,u.bendDirection=u.data.bendDirection}else n>=l[l.length-I.ENTRIES]?s==V.setup?(u.mix=u.data.mix+(l[l.length+I.PREV_MIX]-u.data.mix)*r,u.bendDirection=a==c.out?u.data.bendDirection:l[l.length+I.PREV_BEND_DIRECTION]):(u.mix+=(l[l.length+I.PREV_MIX]-u.mix)*r,a==c.in&&(u.bendDirection=l[l.length+I.PREV_BEND_DIRECTION])):(o=l[(t=L.binarySearch(l,n,I.ENTRIES))+I.PREV_MIX],h=l[t],n=this.getCurvePercent(t/I.ENTRIES-1,1-(n-h)/(l[t+I.PREV_TIME]-h)),s==V.setup?(u.mix=u.data.mix+(o+(l[t+I.MIX]-o)*n-u.data.mix)*r,u.bendDirection=a==c.out?u.data.bendDirection:l[t+I.PREV_BEND_DIRECTION]):(u.mix+=(o+(l[t+I.MIX]-o)*n-u.mix)*r,a==c.in&&(u.bendDirection=l[t+I.PREV_BEND_DIRECTION])))},I.ENTRIES=3,I.PREV_TIME=-3,I.PREV_MIX=-2,I.PREV_BEND_DIRECTION=-1,I.MIX=1,I.BEND_DIRECTION=2;var R,o=I;function I(t){var e=R.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*I.ENTRIES),e}N.IkConstraintTimeline=o;__extends(b,S=n),b.prototype.getPropertyId=function(){return(t.transformConstraint<<24)+this.transformConstraintIndex},b.prototype.setFrame=function(t,e,n,i,r,s){this.frames[t*=b.ENTRIES]=e,this.frames[t+b.ROTATE]=n,this.frames[t+b.TRANSLATE]=i,this.frames[t+b.SCALE]=r,this.frames[t+b.SHEAR]=s},b.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(n<o[0]){var l=h.data;switch(s){case V.setup:return h.rotateMix=l.rotateMix,h.translateMix=l.translateMix,h.scaleMix=l.scaleMix,void(h.shearMix=l.shearMix);case V.current:h.rotateMix+=(l.rotateMix-h.rotateMix)*r,h.translateMix+=(l.translateMix-h.translateMix)*r,h.scaleMix+=(l.scaleMix-h.scaleMix)*r,h.shearMix+=(l.shearMix-h.shearMix)*r}}else{var u,p,t=0,c=0,f=0,d=0;n>=o[o.length-b.ENTRIES]?(t=o[(u=o.length)+b.PREV_ROTATE],c=o[u+b.PREV_TRANSLATE],f=o[u+b.PREV_SCALE],d=o[u+b.PREV_SHEAR]):(t=o[(u=L.binarySearch(o,n,b.ENTRIES))+b.PREV_ROTATE],c=o[u+b.PREV_TRANSLATE],f=o[u+b.PREV_SCALE],d=o[u+b.PREV_SHEAR],p=o[u],n=this.getCurvePercent(u/b.ENTRIES-1,1-(n-p)/(o[u+b.PREV_TIME]-p)),t+=(o[u+b.ROTATE]-t)*n,c+=(o[u+b.TRANSLATE]-c)*n,f+=(o[u+b.SCALE]-f)*n,d+=(o[u+b.SHEAR]-d)*n),s==V.setup?(l=h.data,h.rotateMix=l.rotateMix+(t-l.rotateMix)*r,h.translateMix=l.translateMix+(c-l.translateMix)*r,h.scaleMix=l.scaleMix+(f-l.scaleMix)*r,h.shearMix=l.shearMix+(d-l.shearMix)*r):(h.rotateMix+=(t-h.rotateMix)*r,h.translateMix+=(c-h.translateMix)*r,h.scaleMix+=(f-h.scaleMix)*r,h.shearMix+=(d-h.shearMix)*r)}},b.ENTRIES=5,b.PREV_TIME=-5,b.PREV_ROTATE=-4,b.PREV_TRANSLATE=-3,b.PREV_SCALE=-2,b.PREV_SHEAR=-1,b.ROTATE=1,b.TRANSLATE=2,b.SCALE=3,b.SHEAR=4;var S,r=b;function b(t){var e=S.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*b.ENTRIES),e}N.TransformConstraintTimeline=r;__extends(_,C=n),_.prototype.getPropertyId=function(){return(t.pathConstraintPosition<<24)+this.pathConstraintIndex},_.prototype.setFrame=function(t,e,n){this.frames[t*=_.ENTRIES]=e,this.frames[t+_.VALUE]=n},_.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(n<o[0])switch(s){case V.setup:return void(h.position=h.data.position);case V.current:h.position+=(h.data.position-h.position)*r}else{var l,u,t=0;n>=o[o.length-_.ENTRIES]?t=o[o.length+_.PREV_VALUE]:(t=o[(l=L.binarySearch(o,n,_.ENTRIES))+_.PREV_VALUE],u=o[l],n=this.getCurvePercent(l/_.ENTRIES-1,1-(n-u)/(o[l+_.PREV_TIME]-u)),t+=(o[l+_.VALUE]-t)*n),s==V.setup?h.position=h.data.position+(t-h.data.position)*r:h.position+=(t-h.position)*r}},_.ENTRIES=2,_.PREV_TIME=-2,_.PREV_VALUE=-1,_.VALUE=1;var C,o=_;function _(t){var e=C.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*_.ENTRIES),e}N.PathConstraintPositionTimeline=o;__extends(P,k=o),P.prototype.getPropertyId=function(){return(t.pathConstraintSpacing<<24)+this.pathConstraintIndex},P.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(n<o[0])switch(s){case V.setup:return void(h.spacing=h.data.spacing);case V.current:h.spacing+=(h.data.spacing-h.spacing)*r}else{var l,u,t=0;n>=o[o.length-P.ENTRIES]?t=o[o.length+P.PREV_VALUE]:(t=o[(l=L.binarySearch(o,n,P.ENTRIES))+P.PREV_VALUE],u=o[l],n=this.getCurvePercent(l/P.ENTRIES-1,1-(n-u)/(o[l+P.PREV_TIME]-u)),t+=(o[l+P.VALUE]-t)*n),s==V.setup?h.spacing=h.data.spacing+(t-h.data.spacing)*r:h.spacing+=(t-h.spacing)*r}};var k,r=P;function P(t){return k.call(this,t)||this}N.PathConstraintSpacingTimeline=r;__extends(O,D=n),O.prototype.getPropertyId=function(){return(t.pathConstraintMix<<24)+this.pathConstraintIndex},O.prototype.setFrame=function(t,e,n,i){this.frames[t*=O.ENTRIES]=e,this.frames[t+O.ROTATE]=n,this.frames[t+O.TRANSLATE]=i},O.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(n<o[0])switch(s){case V.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case V.current:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*r,h.translateMix+=(h.data.translateMix-h.translateMix)*r}else{var l,u,t=0,p=0;n>=o[o.length-O.ENTRIES]?(t=o[o.length+O.PREV_ROTATE],p=o[o.length+O.PREV_TRANSLATE]):(t=o[(l=L.binarySearch(o,n,O.ENTRIES))+O.PREV_ROTATE],p=o[l+O.PREV_TRANSLATE],u=o[l],n=this.getCurvePercent(l/O.ENTRIES-1,1-(n-u)/(o[l+O.PREV_TIME]-u)),t+=(o[l+O.ROTATE]-t)*n,p+=(o[l+O.TRANSLATE]-p)*n),s==V.setup?(h.rotateMix=h.data.rotateMix+(t-h.data.rotateMix)*r,h.translateMix=h.data.translateMix+(p-h.data.translateMix)*r):(h.rotateMix+=(t-h.rotateMix)*r,h.translateMix+=(p-h.translateMix)*r)}},O.ENTRIES=3,O.PREV_TIME=-3,O.PREV_ROTATE=-2,O.PREV_TRANSLATE=-1,O.ROTATE=1,O.TRANSLATE=2;var D,o=O;function O(t){var e=D.call(this,t)||this;return e.frames=N.Utils.newFloatArray(t*O.ENTRIES),e}N.PathConstraintMixTimeline=o}(spine=spine||{}),!function(T){M.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var s=t*r.timeScale;if(0<r.delay){if(r.delay-=s,0<r.delay)continue;s=-r.delay,r.delay=0}var a=r.next;if(null!=a){var o=r.trackLast-a.delay;if(0<=o){for(a.delay=0,a.trackTime=o+t*a.timeScale,r.trackTime+=s,this.setCurrent(n,a,!0);null!=a.mixingFrom;)a.mixTime+=s,a=a.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[n]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var h=r.mixingFrom;for(r.mixingFrom=null;null!=h;)this.queue.end(h),h=h.mixingFrom}r.trackTime+=s}}this.queue.drain()},M.prototype.updateMixingFrom=function(t,e){var n,i=t.mixingFrom;return null==i||(n=this.updateMixingFrom(i,e),i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,0<t.mixTime&&(t.mixTime>=t.mixDuration||0==t.timeScale)?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),n):(i.trackTime+=e*i.timeScale,t.mixTime+=e*t.timeScale,!1))},M.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,i=!1,r=0,s=n.length;r<s;r++){var a=n[r];if(!(null==a||0<a.delay)){var i=!0,o=0==r?T.MixPose.current:T.MixPose.currentLayered,h=a.alpha,l=(null!=a.mixingFrom?h*=this.applyMixingFrom(a,t,o):a.trackTime>=a.trackEnd&&null==a.next&&(h=0),a.animationLast),u=a.getAnimationTime(),p=a.animation.timelines.length,c=a.animation.timelines;if(1==h)for(var f=0;f<p;f++)c[f].apply(t,l,u,e,1,T.MixPose.setup,T.MixDirection.in);else for(var d=a.timelineData,m=0==a.timelinesRotation.length,g=(m&&T.Utils.setArraySize(a.timelinesRotation,p<<1,null),a.timelinesRotation),f=0;f<p;f++){var v=c[f],E=d[f]>=M.FIRST?T.MixPose.setup:o;v instanceof T.RotateTimeline?this.applyRotateTimeline(v,t,u,h,E,g,f<<1,m):(T.Utils.webkit602BugfixHelper(h,E),v.apply(t,l,u,e,h,E,T.MixDirection.in))}this.queueEvents(a,u),e.length=0,a.nextAnimationLast=u,a.nextTrackLast=a.trackTime}}return this.queue.drain(),i},M.prototype.applyMixingFrom=function(t,e,n){for(var i=t.mixingFrom,r=(null!=i.mixingFrom&&this.applyMixingFrom(i,e,n),0),s=(0==t.mixDuration?(r=1,n=T.MixPose.setup):1<(r=t.mixTime/t.mixDuration)&&(r=1),r<i.eventThreshold?this.events:null),a=r<i.attachmentThreshold,o=r<i.drawOrderThreshold,h=i.animationLast,l=i.getAnimationTime(),u=i.animation.timelines.length,p=i.animation.timelines,c=i.timelineData,f=i.timelineDipMix,d=0==i.timelinesRotation.length,m=(d&&T.Utils.setArraySize(i.timelinesRotation,u<<1,null),i.timelinesRotation),g=i.alpha*t.interruptAlpha,v=g*(1-r),E=0,y=i.totalAlpha=0;y<u;y++){var x=p[y];switch(c[y]){case M.SUBSEQUENT:if(!a&&x instanceof T.AttachmentTimeline)continue;if(!o&&x instanceof T.DrawOrderTimeline)continue;w=n,E=v;break;case M.FIRST:w=T.MixPose.setup,E=v;break;case M.DIP:w=T.MixPose.setup,E=g;break;default:var w=T.MixPose.setup,E=g,A=f[y];E*=Math.max(0,1-A.mixTime/A.mixDuration)}i.totalAlpha+=E,x instanceof T.RotateTimeline?this.applyRotateTimeline(x,e,l,E,w,m,y<<1,d):(T.Utils.webkit602BugfixHelper(E,w),x.apply(e,h,l,s,E,w,T.MixDirection.out))}return 0<t.mixDuration&&this.queueEvents(i,l),this.events.length=0,i.nextAnimationLast=l,i.nextTrackLast=i.trackTime,r},M.prototype.applyRotateTimeline=function(t,e,n,i,r,s,a,o){var h,l,u,p,c;o&&(s[a]=0),1==i?t.apply(e,0,n,null,1,r,T.MixDirection.in):(l=(t=t).frames,e=e.bones[t.boneIndex],n<l[0]?r==T.MixPose.setup&&(e.rotation=e.data.rotation):(c=0,n>=l[l.length-T.RotateTimeline.ENTRIES]?c=e.data.rotation+l[l.length+T.RotateTimeline.PREV_ROTATION]:(p=l[(u=T.Animation.binarySearch(l,n,T.RotateTimeline.ENTRIES))+T.RotateTimeline.PREV_ROTATION],h=l[u],t=t.getCurvePercent((u>>1)-1,1-(n-h)/(l[u+T.RotateTimeline.PREV_TIME]-h)),c=l[u+T.RotateTimeline.ROTATION]-p,c=p+(c-=360*(16384-(16384.499999999996-c/360|0)))*t+e.data.rotation,c-=360*(16384-(16384.499999999996-c/360|0))),(n=0)==(l=c-(h=(r==T.MixPose.setup?e.data:e).rotation))?n=s[a]:(l-=360*(16384-(16384.499999999996-l/360|0)),p=u=0,p=o?(u=0,l):(u=s[a],s[a+1]),t=0<l,c=0<=u,T.MathUtils.signum(p)!=T.MathUtils.signum(l)&&Math.abs(p)<=90&&(180<Math.abs(u)&&(u+=360*T.MathUtils.signum(u)),c=t),n=l+u-u%360,c!=t&&(n+=360*T.MathUtils.signum(u)),s[a]=n),s[a+1]=l,e.rotation=(h+=n*i)-360*(16384-(16384.499999999996-h/360|0))))},M.prototype.queueEvents=function(t,e){for(var n=t.animationStart,i=t.animationEnd,r=i-n,s=t.trackLast%r,a=this.events,o=0,h=a.length;o<h;o++){var l=a[o];if(l.time<s)break;l.time>i||this.queue.event(t,l)}for((t.loop?0==r||s>t.trackTime%r:i<=e&&t.animationLast<i)&&this.queue.complete(t);o<h;o++)a[o].time<n||this.queue.event(t,a[o])},M.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},M.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){t=this.tracks[t];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var e=t;;){var n=e.mixingFrom;if(null==n)break;this.queue.end(n),e.mixingFrom=null,e=n}this.tracks[t.trackIndex]=null,this.queue.drain()}}},M.prototype.setCurrent=function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,null!=i&&(n&&this.queue.interrupt(i),e.mixingFrom=i,e.mixTime=0,null!=i.mixingFrom&&0<i.mixDuration&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)},M.prototype.setAnimation=function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)},M.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var i=!0,r=this.expandToIndex(t),e=(null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,i=!1):this.disposeNext(r)),this.trackEntry(t,e,n,r));return this.setCurrent(t,e,i),this.queue.drain(),e},M.prototype.addAnimation=function(t,e,n,i){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,n,i)},M.prototype.addAnimationWith=function(t,e,n,i){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;n=this.trackEntry(t,e,n,r);return null==r?(this.setCurrent(t,n,!0),this.queue.drain()):(r.next=n,i<=0&&(0!=(t=r.animationEnd-r.animationStart)?(r.loop?i+=t*(1+(r.trackTime/t|0)):i+=t,i-=this.data.getMix(r.animation,e)):i=0)),n.delay=i,n},M.prototype.setEmptyAnimation=function(t,e){t=this.setAnimationWith(t,M.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t},M.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);t=this.addAnimationWith(t,M.emptyAnimation,!1,n);return t.mixDuration=e,t.trackEnd=e,t},M.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var r=this.tracks[n];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},M.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(T.Utils.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},M.prototype.trackEntry=function(t,e,n,i){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=n,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==i?0:this.data.getMix(i.animation,e),r},M.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},M.prototype._animationsChanged=function(){this.animationsChanged=!1;for(var t=this.propertyIDs,e=(t.clear(),this.mixingTo),n=0,i=this.tracks.length;n<i;n++){var r=this.tracks[n];null!=r&&r.setTimelineData(null,e,t)}},M.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},M.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},M.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0<=t&&this.listeners.splice(t,1)},M.prototype.clearListeners=function(){this.listeners.length=0},M.prototype.clearListenerNotifications=function(){this.queue.clear()},M.emptyAnimation=new T.Animation("<empty>",[],0),M.SUBSEQUENT=0,M.FIRST=1,M.DIP=2,M.DIP_MIX=3;var d=M;function M(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new i(this),this.propertyIDs=new T.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new T.Pool(function(){return new e}),this.data=t}T.AnimationState=d;t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},t.prototype.setTimelineData=function(t,e,n){null!=t&&e.push(t);var i=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,e,n):this,r=(null!=t&&e.pop(),e),s=e.length-1,a=this.animation.timelines,o=this.animation.timelines.length,h=T.Utils.setArraySize(this.timelineData,o),l=(this.timelineDipMix.length=0,T.Utils.setArraySize(this.timelineDipMix,o));t:for(var u=0;u<o;u++){var p=a[u].getPropertyId();if(n.add(p))if(null!=t&&t.hasTimeline(p)){for(var c=s;0<=c;c--){var f=r[c];if(!f.hasTimeline(p)&&0<f.mixDuration){h[u]=d.DIP_MIX,l[u]=f;continue t}}h[u]=d.DIP}else h[u]=d.FIRST;else h[u]=d.SUBSEQUENT}return i},t.prototype.hasTimeline=function(t){for(var e=this.animation.timelines,n=0,i=e.length;n<i;n++)if(e[n].getPropertyId()==t)return!0;return!1},t.prototype.getAnimationTime=function(){var t;return this.loop?0==(t=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%t+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0};var e=t;function t(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}T.TrackEntry=e;r.prototype.start=function(t){this.objects.push(o.start),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.interrupt=function(t){this.objects.push(o.interrupt),this.objects.push(t)},r.prototype.end=function(t){this.objects.push(o.end),this.objects.push(t),this.animState.animationsChanged=!0},r.prototype.dispose=function(t){this.objects.push(o.dispose),this.objects.push(t)},r.prototype.complete=function(t){this.objects.push(o.complete),this.objects.push(t)},r.prototype.event=function(t,e){this.objects.push(o.event),this.objects.push(t),this.objects.push(e)},r.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];switch(i){case o.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(var s=0;s<e.length;s++)e[s].start&&e[s].start(r);break;case o.interrupt:null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(s=0;s<e.length;s++)e[s].interrupt&&e[s].interrupt(r);break;case o.end:null!=r.listener&&r.listener.end&&r.listener.end(r);for(s=0;s<e.length;s++)e[s].end&&e[s].end(r);case o.dispose:null!=r.listener&&r.listener.dispose&&r.listener.dispose(r);for(s=0;s<e.length;s++)e[s].dispose&&e[s].dispose(r);this.animState.trackEntryPool.free(r);break;case o.complete:null!=r.listener&&r.listener.complete&&r.listener.complete(r);for(s=0;s<e.length;s++)e[s].complete&&e[s].complete(r);break;case o.event:var a=t[2+n++];null!=r.listener&&r.listener.event&&r.listener.event(r,a);for(s=0;s<e.length;s++)e[s].event&&e[s].event(r,a)}}this.clear(),this.drainDisabled=!1}},r.prototype.clear=function(){this.objects.length=0};var o,n,i=r;function r(t){this.objects=[],this.drainDisabled=!1,this.animState=t}function s(){}T.EventQueue=i,(n=o=T.EventType||(T.EventType={}))[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event",s.prototype.start=function(t){},s.prototype.interrupt=function(t){},s.prototype.end=function(t){},s.prototype.dispose=function(t){},s.prototype.complete=function(t){},s.prototype.event=function(t,e){},T.AnimationStateAdapter2=s}(spine=spine||{}),!function(t){function e(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}e.prototype.setMix=function(t,e,n){var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: "+t);t=this.skeletonData.findAnimation(e);if(null==t)throw new Error("Animation not found: "+e);this.setMixWith(i,t,n)},e.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");t=t.name+"."+e.name;this.animationToMixTime[t]=n},e.prototype.getMix=function(t,e){t=t.name+"."+e.name,e=this.animationToMixTime[t];return void 0===e?this.defaultMix:e},t.AnimationStateData=e}(spine=spine||{}),!function(c){function t(t,e){void 0===e&&(e=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=e}t.downloadText=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onload=function(){200==i.status?e(i.responseText):n(i.status,i.responseText)},i.onerror=function(){n(i.status,i.responseText)},i.send()},t.downloadBinary=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status?e(new Uint8Array(i.response)):n(i.status,i.responseText)},i.onerror=function(){n(i.status,i.responseText)},i.send()},t.prototype.loadText=function(n,e,i){var r=this;void 0===e&&(e=null),void 0===i&&(i=null),n=this.pathPrefix+n,this.toLoad++,t.downloadText(n,function(t){r.assets[n]=t,e&&e(n,t),r.toLoad--,r.loaded++},function(t,e){r.errors[n]="Couldn't load text "+n+": status "+status+", "+e,i&&i(n,"Couldn't load text "+n+": status "+status+", "+e),r.toLoad--,r.loaded++})},t.prototype.loadTexture=function(n,i,e){var r=this,s=(void 0===i&&(i=null),void 0===e&&(e=null),n=this.pathPrefix+n,this.toLoad++,new Image);s.crossOrigin="anonymous",s.onload=function(t){var e=r.textureLoader(s);r.assets[n]=e,r.toLoad--,r.loaded++,i&&i(n,s)},s.onerror=function(t){r.errors[n]="Couldn't load image "+n,r.toLoad--,r.loaded++,e&&e(n,"Couldn't load image "+n)},s.src=n},t.prototype.loadTextureData=function(n,t,i,e){var r=this,s=(void 0===i&&(i=null),void 0===e&&(e=null),n=this.pathPrefix+n,this.toLoad++,new Image);s.onload=function(t){var e=r.textureLoader(s);r.assets[n]=e,r.toLoad--,r.loaded++,i&&i(n,s)},s.onerror=function(t){r.errors[n]="Couldn't load image "+n,r.toLoad--,r.loaded++,e&&e(n,"Couldn't load image "+n)},s.src=t},t.prototype.loadTextureAtlas=function(o,h,l){var u=this,p=(void 0===h&&(h=null),void 0===l&&(l=null),0<=o.lastIndexOf("/")?o.substring(0,o.lastIndexOf("/")):"");o=this.pathPrefix+o,this.toLoad++,t.downloadText(o,function(r){var s={count:0},a=new Array;try{new c.TextureAtlas(r,function(t){a.push(p+"/"+t);t=document.createElement("img");return t.width=16,t.height=16,new c.FakeTexture(t)})}catch(t){var e=t;return u.errors[o]="Couldn't load texture atlas "+o+": "+e.message,l&&l(o,"Couldn't load texture atlas "+o+": "+e.message),u.toLoad--,void u.loaded++}for(var t=0,n=a;t<n.length;t++)!function(t){var i=!1;u.loadTexture(t,function(e,t){if(s.count++,s.count==a.length)if(i)u.errors[o]="Couldn't load texture atlas page "+e+"} of atlas "+o,l&&l(o,"Couldn't load texture atlas page "+e+" of atlas "+o),u.toLoad--,u.loaded++;else try{var n=new c.TextureAtlas(r,function(t){return u.get(p+"/"+t)});u.assets[o]=n,h&&h(o,n),u.toLoad--,u.loaded++}catch(t){e=t;u.errors[o]="Couldn't load texture atlas "+o+": "+e.message,l&&l(o,"Couldn't load texture atlas "+o+": "+e.message),u.toLoad--,u.loaded++}},function(t,e){i=!0,s.count++,s.count==a.length&&(u.errors[o]="Couldn't load texture atlas page "+t+"} of atlas "+o,l&&l(o,"Couldn't load texture atlas page "+t+" of atlas "+o),u.toLoad--,u.loaded++)})}(n[t])},function(t,e){u.errors[o]="Couldn't load texture atlas "+o+": status "+status+", "+e,l&&l(o,"Couldn't load texture atlas "+o+": status "+status+", "+e),u.toLoad--,u.loaded++})},t.prototype.get=function(t){return t=this.pathPrefix+t,this.assets[t]},t.prototype.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];e.dispose&&e.dispose(),this.assets[t]=null},t.prototype.removeAll=function(){for(var t in this.assets){t=this.assets[t];t.dispose&&t.dispose()}this.assets={}},t.prototype.isLoadingComplete=function(){return 0==this.toLoad},t.prototype.getToLoad=function(){return this.toLoad},t.prototype.getLoaded=function(){return this.loaded},t.prototype.dispose=function(){this.removeAll()},t.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},t.prototype.getErrors=function(){return this.errors},c.AssetManager=t}(spine=spine||{}),!function(r){function t(t){this.atlas=t}t.prototype.newRegionAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");i.renderObject=i;n=new r.RegionAttachment(e);return n.setRegion(i),n},t.prototype.newMeshAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");i.renderObject=i;n=new r.MeshAttachment(e);return n.region=i,n},t.prototype.newBoundingBoxAttachment=function(t,e){return new r.BoundingBoxAttachment(e)},t.prototype.newPathAttachment=function(t,e){return new r.PathAttachment(e)},t.prototype.newPointAttachment=function(t,e){return new r.PointAttachment(e)},t.prototype.newClippingAttachment=function(t,e){return new r.ClippingAttachment(e)},r.AtlasAttachmentLoader=t}(spine=spine||{}),!function(t){(t=t.BlendMode||(t.BlendMode={}))[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(spine=spine||{}),!function(T){function t(t,e,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.worldX=0,this.c=0,this.d=0,this.worldY=0,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,n,i,r,s,a){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=r,this.ashearX=s,this.ashearY=a,this.appliedValid=!0;var o,h=this.parent;if(null==h)f=n+90+a,d=T.MathUtils.cosDeg(n+s)*i,m=T.MathUtils.cosDeg(f)*r,g=T.MathUtils.sinDeg(n+s)*i,v=T.MathUtils.sinDeg(f)*r,(o=this.skeleton).flipX&&(t=-t,d=-d,m=-m),o.flipY&&(e=-e,g=-g,v=-v),this.a=d,this.b=m,this.c=g,this.d=v,this.worldX=t+o.x,this.worldY=e+o.y;else{var l=h.a,u=h.b,p=h.c,c=h.d;switch(this.worldX=l*t+u*e+h.worldX,this.worldY=p*t+c*e+h.worldY,this.data.transformMode){case T.TransformMode.Normal:var f=n+90+a,d=T.MathUtils.cosDeg(n+s)*i,m=T.MathUtils.cosDeg(f)*r,g=T.MathUtils.sinDeg(n+s)*i,v=T.MathUtils.sinDeg(f)*r;return this.a=l*d+u*g,this.b=l*m+u*v,this.c=p*d+c*g,void(this.d=p*m+c*v);case T.TransformMode.OnlyTranslation:f=n+90+a;this.a=T.MathUtils.cosDeg(n+s)*i,this.b=T.MathUtils.cosDeg(f)*r,this.c=T.MathUtils.sinDeg(n+s)*i,this.d=T.MathUtils.sinDeg(f)*r;break;case T.TransformMode.NoRotationOrReflection:var E=0,y=n+s-(E=1e-4<(x=l*l+p*p)?(u=p*(x=Math.abs(l*c-u*p)/x),c=l*x,Math.atan2(p,l)*T.MathUtils.radDeg):(p=l=0,90-Math.atan2(c,u)*T.MathUtils.radDeg)),E=n+a-E+90,d=T.MathUtils.cosDeg(y)*i,m=T.MathUtils.cosDeg(E)*r,g=T.MathUtils.sinDeg(y)*i,v=T.MathUtils.sinDeg(E)*r;this.a=l*d-u*g,this.b=l*m-u*v,this.c=p*d+c*g,this.d=p*m+c*v;break;case T.TransformMode.NoScale:case T.TransformMode.NoScaleOrReflection:var x,y=T.MathUtils.cosDeg(n),E=T.MathUtils.sinDeg(n),w=l*y+u*E,y=p*y+c*E,E=(w*=x=1e-5<(x=Math.sqrt(w*w+y*y))?1/x:x,y*=x,x=Math.sqrt(w*w+y*y),Math.PI/2+Math.atan2(y,w)),A=Math.cos(E)*x,E=Math.sin(E)*x,d=T.MathUtils.cosDeg(s)*i,m=T.MathUtils.cosDeg(90+a)*r,g=T.MathUtils.sinDeg(s)*i,v=T.MathUtils.sinDeg(90+a)*r;return(this.data.transformMode!=T.TransformMode.NoScaleOrReflection?l*c-u*p<0:this.skeleton.flipX!=this.skeleton.flipY)&&(A=-A,E=-E),this.a=w*d+A*g,this.b=w*m+A*v,this.c=y*d+E*g,void(this.d=y*m+E*v)}this.skeleton.flipX&&(this.a=-this.a,this.b=-this.b),this.skeleton.flipY&&(this.c=-this.c,this.d=-this.d)}},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*T.MathUtils.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*T.MathUtils.radDeg},t.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},t.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t,e,n,i,r,s,a=this.parent;null==a?(this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*T.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*T.MathUtils.radDeg):(i=a.a,n=a.b,s=a.c,e=a.d,t=this.worldX-a.worldX,a=this.worldY-a.worldY,this.ax=t*e*(r=1/(i*e-n*s))-a*n*r,this.ay=a*i*r-t*s*r,e=(a=r*e)*this.a-(t=r*n)*this.c,n=a*this.b-t*this.d,i=(a=r*i)*this.c-(t=r*s)*this.a,r=a*this.d-t*this.b,this.ashearX=0,this.ascaleX=Math.sqrt(e*e+i*i),1e-4<this.ascaleX?(this.ascaleY=(s=e*r-n*i)/this.ascaleX,this.ashearY=Math.atan2(e*n+i*r,s)*T.MathUtils.radDeg,this.arotation=Math.atan2(i,e)*T.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(n*n+r*r),this.ashearY=0,this.arotation=90-Math.atan2(r,n)*T.MathUtils.radDeg))},t.prototype.worldToLocal=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,s=1/(e*r-n*i),a=t.x-this.worldX,o=t.y-this.worldY;return t.x=a*r*s-o*n*s,t.y=o*e*s-a*i*s,t},t.prototype.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},t.prototype.worldToLocalRotation=function(t){var e=T.MathUtils.sinDeg(t),t=T.MathUtils.cosDeg(t);return Math.atan2(this.a*e-this.c*t,this.d*t-this.b*e)*T.MathUtils.radDeg},t.prototype.localToWorldRotation=function(t){var e=T.MathUtils.sinDeg(t),t=T.MathUtils.cosDeg(t);return Math.atan2(t*this.c+e*this.d,t*this.a+e*this.b)*T.MathUtils.radDeg},t.prototype.rotateWorld=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,s=T.MathUtils.cosDeg(t),t=T.MathUtils.sinDeg(t);this.a=s*e-t*i,this.b=s*n-t*r,this.c=t*e+s*i,this.d=t*n+s*r,this.appliedValid=!1},T.Bone=t}(spine=spine||{}),!function(t){var i;t.BoneData=function(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=i.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n},(t=i=t.TransformMode||(t.TransformMode={}))[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(spine=spine||{}),(spine||(spine={})).Event=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},(spine||(spine={})).EventData=function(t){this.name=t},!function(j){function t(t,e){if(this.mix=1,this.bendDirection=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},t.prototype.apply1=function(t,e,n,i){t.appliedValid||t.updateAppliedTransform();var r=t.parent,s=1/(r.a*r.d-r.b*r.c),e=e-r.worldX,n=n-r.worldY,a=(e*r.d-n*r.b)*s-t.ax,n=(n*r.a-e*r.c)*s-t.ay,e=Math.atan2(n,a)*j.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(e+=180),180<e?e-=360:e<-180&&(e+=360),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+e*i,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,n,i,r,s){if(0==s)e.updateWorldTransform();else{t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var a=t.ax,k=t.ay,o=t.ascaleX,h=t.ascaleY,l=e.ascaleX,D=0,F=0,u=0,u=o<0?(o=-o,D=180,-1):(D=0,1),F=(h<0&&(h=-h,u=-u),l<0?(l=-l,180):0),p=e.ax,c=0,f=0,d=0,m=t.a,g=t.b,v=t.c,E=t.d,X=Math.abs(o-h)<=1e-4,d=X?(f=m*p+g*(c=e.ay)+t.worldX,v*p+E*c+t.worldY):(c=0,f=m*p+t.worldX,v*p+t.worldY),y=t.parent,x=(m=y.a,g=y.b,v=y.c,1/(m*(E=y.d)-g*v)),w=n-y.worldX,A=i-y.worldY,T=(w*E-A*g)*x-a,M=(A*m-w*v)*x-k,n=((w=f-y.worldX)*E-(A=d-y.worldY)*g)*x-a,i=(A*m-w*v)*x-k,R=Math.sqrt(n*n+i*i),I=e.data.length*l,S=0,b=0;t:if(X){var C=(T*T+M*M-R*R-(I*=o)*I)/(2*R*I);C<-1?C=-1:1<C&&(C=1),b=Math.acos(C)*r,m=R+I*C,g=I*Math.sin(b),S=Math.atan2(M*m-T*g,T*m+M*g)}else{var C=(m=o*I)*m,_=(g=h*I)*g,P=T*T+M*M,U=Math.atan2(M,T),N=-2*_*R,V=_-C;if(0<=(E=N*N-4*V*(v=_*R*R+C*P-C*_))){var L=Math.sqrt(E),N=(L=-(N+(L=N<0?-L:L))/2)/V,V=v/L,L=Math.abs(N)<Math.abs(V)?N:V;if(L*L<=P){A=Math.sqrt(P-L*L)*r,S=U-Math.atan2(A,L),b=Math.atan2(A/h,(L-R)/o);break t}}var N=j.MathUtils.PI,V=R-m,L=V*V,Y=0,$=0,O=R+m,B=O*O,W=0;-1<=(v=-m*R/(C-_))&&v<=1&&(v=Math.acos(v),(E=(w=m*Math.cos(v)+R)*w+(A=g*Math.sin(v))*A)<L&&(N=v,L=E,V=w,Y=A),B<E)&&($=v,B=E,O=w,W=A),b=P<=(L+B)/2?(S=U-Math.atan2(Y*r,V),N*r):(S=U-Math.atan2(W*r,O),$*r)}f=Math.atan2(c,p)*u,d=t.arotation;180<(S=(S-f)*j.MathUtils.radDeg+D-d)?S-=360:S<-180&&(S+=360),t.updateWorldTransformWith(a,k,d+S*s,t.ascaleX,t.ascaleY,0,0),d=e.arotation,180<(b=((b+f)*j.MathUtils.radDeg-e.ashearX)*u+F-d)?b-=360:b<-180&&(b+=360),e.updateWorldTransformWith(p,c,d+b*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},j.IkConstraint=t}(spine=spine||{}),(spine||(spine={})).IkConstraintData=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t},!function(H){function z(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,i=t.bones.length;n<i;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}z.prototype.apply=function(){this.update()},z.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof H.PathAttachment){var e=this.rotateMix,n=this.translateMix,i=0<e;if(0<n||i){var r=this.data,s=r.spacingMode,a=s==H.SpacingMode.Length,o=r.rotateMode,h=o==H.RotateMode.Tangent,l=o==H.RotateMode.ChainScale,u=this.bones.length,p=h?u:u+1,k=this.bones,c=H.Utils.setArraySize(this.spaces,p),f=null,d=this.spacing;if(l||a){l&&(f=H.Utils.setArraySize(this.lengths,u));for(var m=0,D=p-1;m<D;){var g,v=(T=k[m]).data.length;v<z.epsilon?(l&&(f[m]=0),c[++m]=0):(R=v*T.a,I=v*T.c,g=Math.sqrt(R*R+I*I),l&&(f[m]=g),c[++m]=(a?v+d:d)*g/v)}}else for(m=1;m<p;m++)c[m]=d;var E=this.computeWorldPositions(t,p,h,r.positionMode==H.PositionMode.Percent,s==H.SpacingMode.Percent),y=E[0],x=E[1],w=r.offsetRotation,A=!1;0==w?A=o==H.RotateMode.Chain:(A=!1,w*=0<(M=this.target.bone).a*M.d-M.b*M.c?H.MathUtils.degRad:-H.MathUtils.degRad);for(var T,m=0,M=3;m<u;m++,M+=3){(T=k[m]).worldX+=(y-T.worldX)*n,T.worldY+=(x-T.worldY)*n;var R,I,S,b,C,_,P,N,F,V,L=(R=E[M])-y,O=(I=E[M+1])-x;l&&0!=(S=f[m])&&(S=(Math.sqrt(L*L+O*O)/S-1)*e+1,T.a*=S,T.c*=S),y=R,x=I,i&&(S=T.a,b=T.b,C=T.c,_=T.d,N=P=V=0,V=h?E[M-1]:0==c[m+1]?E[M+2]:Math.atan2(O,L),V-=Math.atan2(C,S),A?(P=Math.cos(V),N=Math.sin(V),y+=((F=T.data.length)*(P*S-N*C)-L)*e,x+=(F*(N*S+P*C)-O)*e):V+=w,V>H.MathUtils.PI?V-=H.MathUtils.PI2:V<-H.MathUtils.PI&&(V+=H.MathUtils.PI2),V*=e,P=Math.cos(V),N=Math.sin(V),T.a=P*S-N*C,T.b=P*b-N*_,T.c=N*S+P*C,T.d=N*b+P*_),T.appliedValid=!1}}}},z.prototype.computeWorldPositions=function(t,e,k,D,F){var n=this.target,i=this.position,r=this.spaces,s=H.Utils.setArraySize(this.positions,3*e+2),a=null,o=t.closed,h=t.worldVerticesLength,l=h/6,u=z.NONE;if(t.constantSpeed){o?(a=H.Utils.setArraySize(this.world,h+=2),t.computeWorldVertices(n,2,h-4,a,0,2),t.computeWorldVertices(n,0,2,a,h-4,2),a[h-2]=a[0],a[h-1]=a[1]):(l--,a=H.Utils.setArraySize(this.world,h-=4),t.computeWorldVertices(n,2,h,a,0,2));for(var X=H.Utils.setArraySize(this.curves,l),p=0,c=a[0],f=a[1],d=0,m=0,g=0,v=0,E=0,U=0,Y=0,$=0,y=0,x=0,w=0,A=0,T=0,M=0,R=0,I=2;R<l;R++,I+=6)d=a[I],m=a[I+1],g=a[I+2],v=a[I+3],w=2*(Y=.1875*(c-2*d+g))+(y=.09375*(3*(d-g)-c+(E=a[I+4]))),A=2*($=.1875*(f-2*m+v))+(x=.09375*(3*(m-v)-f+(U=a[I+5]))),T=.75*(d-c)+Y+.16666667*y,M=.75*(m-f)+$+.16666667*x,p+=Math.sqrt(T*T+M*M),T+=w,M+=A,w+=y,A+=x,p+=Math.sqrt(T*T+M*M),T+=w,M+=A,p+=Math.sqrt(T*T+M*M),T+=w+y,M+=A+x,p+=Math.sqrt(T*T+M*M),X[R]=p,c=E,f=U;if(D&&(i*=p),F)for(R=0;R<e;R++)r[R]*=p;for(var S=this.segments,b=0,R=0,C=0,_=0,P=0;R<e;R++,C+=3){L=i+=G=r[R];if(o)(L%=p)<0&&(L+=p),_=0;else{if(L<0){this.addBeforePosition(L,a,0,s,C);continue}if(p<L){this.addAfterPosition(L-p,a,h-4,s,C);continue}}for(;;_++){var B=X[_];if(!(B<L)){0==_?L/=B:L=(L-(O=X[_-1]))/(B-O);break}}if(_!=u){var u=_,N=6*_,c=a[N],f=a[N+1],d=a[N+2],m=a[N+3],g=a[N+4],v=a[N+5],w=2*(Y=.03*(c-2*d+g))+(y=.006*(3*(d-g)-c+(E=a[N+6]))),A=2*($=.03*(f-2*m+v))+(x=.006*(3*(m-v)-f+(U=a[N+7]))),T=.3*(d-c)+Y+.16666667*y,M=.3*(m-f)+$+.16666667*x,b=Math.sqrt(T*T+M*M);for(S[0]=b,N=1;N<8;N++)T+=w,M+=A,w+=y,A+=x,b+=Math.sqrt(T*T+M*M),S[N]=b;T+=w,M+=A,b+=Math.sqrt(T*T+M*M),S[8]=b,T+=w+y,M+=A+x,b+=Math.sqrt(T*T+M*M),S[9]=b,P=0}for(L*=b;;P++){var W=S[P];if(!(W<L)){0==P?L/=W:L=P+(L-(O=S[P-1]))/(W-O);break}}this.addCurvePosition(.1*L,c,f,d,m,g,v,E,U,s,C,k||0<R&&0==G)}}else{var j=t.lengths,V=j[l-=o?1:2];if(D&&(i*=V),F)for(var R=0;R<e;R++)r[R]*=V;for(var a=H.Utils.setArraySize(this.world,8),R=0,C=0,_=0;R<e;R++,C+=3){var G,L=i+=G=r[R];if(o)(L%=V)<0&&(L+=V),_=0;else{if(L<0){u!=z.BEFORE&&(u=z.BEFORE,t.computeWorldVertices(n,2,4,a,0,2)),this.addBeforePosition(L,a,0,s,C);continue}if(V<L){u!=z.AFTER&&(u=z.AFTER,t.computeWorldVertices(n,h-6,4,a,0,2)),this.addAfterPosition(L-V,a,0,s,C);continue}}for(;;_++){var O,q=j[_];if(!(q<L)){0==_?L/=q:L=(L-(O=j[_-1]))/(q-O);break}}_!=u&&(u=_,o&&_==l?(t.computeWorldVertices(n,h-4,4,a,0,2),t.computeWorldVertices(n,0,4,a,4,2)):t.computeWorldVertices(n,6*_+2,8,a,0,2)),this.addCurvePosition(L,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],s,C,k||0<R&&0==G)}}return s},z.prototype.addBeforePosition=function(t,e,n,i,r){var s=e[n],a=e[n+1],o=e[n+2]-s,e=e[n+3]-a,n=Math.atan2(e,o);i[r]=s+t*Math.cos(n),i[r+1]=a+t*Math.sin(n),i[r+2]=n},z.prototype.addAfterPosition=function(t,e,n,i,r){var s=e[n+2],a=e[n+3],o=s-e[n],e=a-e[n+1],n=Math.atan2(e,o);i[r]=s+t*Math.cos(n),i[r+1]=a+t*Math.sin(n),i[r+2]=n},z.prototype.addCurvePosition=function(t,e,n,i,r,s,a,o,h,l,u,p){var c=(t=0!=t&&!isNaN(t)?t:1e-4)*t,f=c*t,d=1-t,m=d*d,g=m*d,v=d*t,E=3*v,d=d*E,E=E*t,t=e*g+i*d+s*E+o*f,o=n*g+r*d+a*E+h*f;l[u]=t,l[u+1]=o,p&&(l[u+2]=Math.atan2(o-(n*m+r*v*2+a*c),t-(e*m+i*v*2+s*c)))},z.prototype.getOrder=function(){return this.data.order},z.NONE=-1,z.BEFORE=-2,z.AFTER=-3,z.epsilon=1e-5,H.PathConstraint=z}(spine=spine||{}),!function(t){var e;t.PathConstraintData=function(t){this.order=0,this.bones=new Array,this.name=t},(e=t.PositionMode||(t.PositionMode={}))[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent",(e=t.SpacingMode||(t.SpacingMode={}))[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",(e=t.RotateMode||(t.RotateMode={}))[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale"}(spine=spine||{}),!function(t){e.prototype.loaded=function(){var t,e=0;for(t in this.assets)e++;return e};var r=e;function e(t){this.toLoad=new Array,this.assets={},this.clientId=t}function n(t){void 0===t&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}n.prototype.queueAsset=function(t,e,n){var i=this.clientAssets[t];return null==i&&(i=new r(t),this.clientAssets[t]=i),null!==e&&(i.textureLoader=e),i.toLoad.push(n),this.queuedAssets[n]!==n&&(this.queuedAssets[n]=n,!0)},n.prototype.loadText=function(t,e){var n,i=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?i.rawAssets[e]=n.responseText:i.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},n.prototype.loadJson=function(t,e){var n,i=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?i.rawAssets[e]=JSON.parse(n.responseText):i.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},n.prototype.loadTexture=function(t,e,n){var i,r=this;n=this.pathPrefix+n,this.queueAsset(t,e,n)&&((i=new Image).src=n,i.crossOrigin="anonymous",i.onload=function(t){r.rawAssets[n]=i},i.onerror=function(t){r.errors[n]="Couldn't load image "+n})},n.prototype.get=function(t,e){e=this.pathPrefix+e;t=this.clientAssets[t];return null==t||t.assets[e]},n.prototype.updateClientAssets=function(t){for(var e=0;e<t.toLoad.length;e++){var n=t.toLoad[e],i=t.assets[n];null==i&&null!=(i=this.rawAssets[n])&&(i instanceof HTMLImageElement?t.assets[n]=t.textureLoader(i):t.assets[n]=i)}},n.prototype.isLoadingComplete=function(t){t=this.clientAssets[t];return null==t||(this.updateClientAssets(t),t.toLoad.length==t.loaded())},n.prototype.dispose=function(){},n.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},n.prototype.getErrors=function(){return this.errors},t.SharedAssetManager=n}(spine=spine||{}),!function(E){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n,i=t.bones[e],r=void 0;null==i.parent?r=new E.Bone(i,this,null):(n=this.bones[i.parent.index],r=new E.Bone(i,this,n),n.children.push(r)),this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var s=t.slots[e],r=this.bones[s.boneData.index],s=new E.Slot(s,r);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var a=t.ikConstraints[e];this.ikConstraints.push(new E.IkConstraint(a,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var o=t.transformConstraints[e];this.transformConstraints.push(new E.TransformConstraint(o,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new E.PathConstraint(h,this))}this.color=new E.Color(1,1,1,1),this.updateCache()}t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].sorted=!1;var i=this.ikConstraints,r=this.transformConstraints,s=this.pathConstraints,a=i.length,o=r.length,h=s.length,l=a+o+h;t:for(e=0;e<l;e++){for(var u=0;u<a;u++)if((p=i[u]).data.order==e){this.sortIkConstraint(p);continue t}for(u=0;u<o;u++)if((p=r[u]).data.order==e){this.sortTransformConstraint(p);continue t}for(var p,u=0;u<h;u++)if((p=s[u]).data.order==e){this.sortPathConstraint(p);continue t}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){var e,n=t.target,n=(this.sortBone(n),t.bones),i=n[0];this.sortBone(i),1<n.length&&(e=n[n.length-1],-1<this._updateCache.indexOf(e)||this.updateCacheReset.push(e)),this._updateCache.push(t),this.sortReset(i.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(t){var e=t.target,n=e.data.index,i=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var r=0,s=this.data.skins.length;r<s;r++)this.sortPathConstraintAttachment(this.data.skins[r],n,i);for(var e=e.getAttachment(),a=(e instanceof E.PathAttachment&&this.sortPathConstraintAttachmentWith(e,i),t.bones),o=a.length,r=0;r<o;r++)this.sortBone(a[r]);this._updateCache.push(t);for(r=0;r<o;r++)this.sortReset(a[r].children);for(r=0;r<o;r++)a[r].sorted=!0},t.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var r=e[i];this.sortBone(r.parent),-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)}else for(i=0;i<n;i++)this.sortBone(e[i]);this._updateCache.push(t);for(var s=0;s<n;s++)this.sortReset(e[s].children);for(s=0;s<n;s++)e[s].sorted=!0},t.prototype.sortPathConstraintAttachment=function(t,e,n){var i=t.attachments[e];if(i)for(var r in i)this.sortPathConstraintAttachmentWith(i[r],n)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof E.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var i=this.bones,r=0;r<n.length;)for(var s=n[r++],a=r+s;r<a;r++){var o=n[r];this.sortBone(i[o])}}},t.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},t.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.sorted&&this.sortReset(i.children),i.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var r=this._updateCache,e=0,n=r.length;e<n;e++)r[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,e=0,n=i.length;e<n;e++)(o=i[e]).bendDirection=o.data.bendDirection,o.mix=o.data.mix;for(var r=this.transformConstraints,e=0,n=r.length;e<n;e++){var s=(o=r[e]).data;o.rotateMix=s.rotateMix,o.translateMix=s.translateMix,o.scaleMix=s.scaleMix,o.shearMix=s.shearMix}for(var a=this.pathConstraints,e=0,n=a.length;e<n;e++){var o,s=(o=a[e]).data;o.position=s.position,o.spacing=s.spacing,o.rotateMix=s.rotateMix,o.translateMix=s.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;E.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n],s=r.data.attachmentName;null!=s&&null!=(s=t.getAttachment(n,s))&&r.setAttachment(s)}this.skin=t},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,r=n.length;i<r;i++){var s=n[i];if(s.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(i,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void s.setAttachment(a)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},t.prototype.getBounds=function(t,e,n){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var i=this.drawOrder,r=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=0,l=i.length;h<l;h++){var u=i[h],p=0,c=null,f=u.getAttachment();if(f instanceof E.RegionAttachment?(c=E.Utils.setArraySize(n,p=8,0),f.computeWorldVertices(u.bone,c,0,2)):f instanceof E.MeshAttachment&&(p=(f=f).worldVerticesLength,c=E.Utils.setArraySize(n,p,0),f.computeWorldVertices(u,0,p,c,0,2)),null!=c)for(var d=0,m=c.length;d<m;d+=2)var g=c[d],v=c[d+1],r=Math.min(r,g),s=Math.min(s,v),a=Math.max(a,g),o=Math.max(o,v)}t.set(r,s),e.set(a-r,o-s)},t.prototype.update=function(t){this.time+=t},E.Skeleton=t}(spine=spine||{}),!function(p){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new p.Pool(function(){return p.Utils.newFloatArray(16)})}t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,r=this.polygonPool,s=t.slots,a=s.length;n.length=0,r.freeAll(i);for(var o=i.length=0;o<a;o++){var h,l=s[o],u=l.getAttachment();u instanceof p.BoundingBoxAttachment&&(n.push(u=u),(h=r.obtain()).length!=u.worldVerticesLength&&(h=p.Utils.newFloatArray(u.worldVerticesLength)),i.push(h),u.computeWorldVertices(l,0,u.worldVerticesLength,h,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=this.polygons,s=0,a=r.length;s<a;s++)for(var o=r[s],h=o,l=0,u=o.length;l<u;l+=2)var p=h[l],c=h[l+1],t=Math.min(t,p),e=Math.min(e,c),n=Math.max(n,p),i=Math.max(i,c);this.minX=t,this.minY=e,this.maxX=n,this.maxY=i},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,n,i){var r=this.minX,s=this.minY,a=this.maxX,o=this.maxY;return!(t<=r&&n<=r||e<=s&&i<=s||a<=t&&a<=n||o<=e&&o<=i)&&(s<(n=(i=(i-e)/(n-t))*(r-t)+e)&&n<o||s<(n=i*(a-t)+e)&&n<o||r<(n=(s-e)/i+t)&&n<a||r<(n=(o-e)/i+t)&&n<a)},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var n=this.polygons,i=0,r=n.length;i<r;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null},t.prototype.containsPointPolygon=function(t,e,n){for(var i=t,r=t.length,s=r-2,a=!1,o=0;o<r;o+=2){var h,l=i[o+1],u=i[s+1];(l<n&&n<=u||u<n&&n<=l)&&(h=i[o])+(n-l)/(u-l)*(i[s]-h)<e&&(a=!a),s=o}return a},t.prototype.intersectsSegment=function(t,e,n,i){for(var r=this.polygons,s=0,a=r.length;s<a;s++)if(this.intersectsSegmentPolygon(r[s],t,e,n,i))return this.boundingBoxes[s];return null},t.prototype.intersectsSegmentPolygon=function(t,e,n,i,r){for(var s=t,a=t.length,o=e-i,h=n-r,l=e*r-n*i,u=s[a-2],p=s[a-1],c=0;c<a;c+=2){var f=s[c],d=s[c+1],m=u*d-p*f,g=u-f,v=p-d,E=o*v-h*g,g=(l*g-o*m)/E;if((u<=g&&g<=f||f<=g&&g<=u)&&(e<=g&&g<=i||i<=g&&g<=e)){g=(l*v-h*m)/E;if((p<=g&&g<=d||d<=g&&g<=p)&&(n<=g&&g<=r||r<=g&&g<=n))return!0}u=f,p=d}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");t=this.boundingBoxes.indexOf(t);return-1==t?null:this.polygons[t]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},p.SkeletonBounds=t}(spine=spine||{}),!function(j){function h(){this.triangulator=new j.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}h.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;for(var n=(this.clipAttachment=e).worldVerticesLength,i=j.Utils.setArraySize(this.clippingPolygon,n),e=(e.computeWorldVertices(t,0,n,i,0,2),this.clippingPolygon),r=(h.makeClockwise(e),this.clippingPolygons=this.triangulator.decompose(e,this.triangulator.triangulate(e))),s=0,a=r.length;s<a;s++){var o=r[s];h.makeClockwise(o),o.push(o[0]),o.push(o[1])}return r.length},h.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},h.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},h.prototype.isClipping=function(){return null!=this.clipAttachment},h.prototype.clipTriangles=function(t,k,e,D,n,i,r,s){var a=this.clipOutput,o=this.clippedVertices,h=this.clippedTriangles,F=this.clippingPolygons,X=this.clippingPolygons.length,l=s?12:8,u=0;o.length=0;t:for(var p=h.length=0;p<D;p+=3)for(var c=e[p]<<1,f=t[c],d=t[1+c],m=n[c],g=n[1+c],v=t[c=e[p+1]<<1],E=t[1+c],y=n[c],x=n[1+c],w=t[c=e[p+2]<<1],A=t[1+c],T=n[c],M=n[1+c],R=0;R<X;R++){var I=o.length;if(!this.clip(f,d,v,E,w,A,F[R],a)){(_=j.Utils.setArraySize(o,I+3*l))[I]=f,_[I+1]=d,_[I+2]=i.r,_[I+3]=i.g,_[I+4]=i.b,_[I+5]=i.a,s?(_[I+6]=m,_[I+7]=g,_[I+8]=r.r,_[I+9]=r.g,_[I+10]=r.b,_[I+11]=r.a,_[I+12]=v,_[I+13]=E,_[I+14]=i.r,_[I+15]=i.g,_[I+16]=i.b,_[I+17]=i.a,_[I+18]=y,_[I+19]=x,_[I+20]=r.r,_[I+21]=r.g,_[I+22]=r.b,_[I+23]=r.a,_[I+24]=w,_[I+25]=A,_[I+26]=i.r,_[I+27]=i.g,_[I+28]=i.b,_[I+29]=i.a,_[I+30]=T,_[I+31]=M,_[I+32]=r.r,_[I+33]=r.g,_[I+34]=r.b,_[I+35]=r.a):(_[I+6]=m,_[I+7]=g,_[I+8]=v,_[I+9]=E,_[I+10]=i.r,_[I+11]=i.g,_[I+12]=i.b,_[I+13]=i.a,_[I+14]=y,_[I+15]=x,_[I+16]=w,_[I+17]=A,_[I+18]=i.r,_[I+19]=i.g,_[I+20]=i.b,_[I+21]=i.a,_[I+22]=T,_[I+23]=M),I=h.length,(O=j.Utils.setArraySize(h,I+3))[I]=u,O[I+1]=u+1,O[I+2]=u+2,u+=3;continue t}var S=a.length;if(0!=S){for(var b=E-A,U=w-v,Y=f-w,$=A-d,B=1/(b*Y+U*(d-A)),C=S>>1,W=this.clipOutput,_=j.Utils.setArraySize(o,I+C*l),P=0;P<S;P+=2){var N=W[P],V=W[P+1],N=(_[I]=N,_[I+1]=V,_[I+2]=i.r,_[I+3]=i.g,_[I+4]=i.b,_[I+5]=i.a,N-w),V=V-A,L=(b*N+U*V)*B,N=($*N+Y*V)*B,V=1-L-N;_[I+6]=m*L+y*N+T*V,_[I+7]=g*L+x*N+M*V,s&&(_[I+8]=r.r,_[I+9]=r.g,_[I+10]=r.b,_[I+11]=r.a),I+=l}var I=h.length,O=j.Utils.setArraySize(h,I+3*(C-2));C--;for(P=1;P<C;P++)O[I]=u,O[I+1]=u+P,O[I+2]=u+P+1,I+=3;u+=1+C}}},h.prototype.clip=function(t,e,n,i,r,s,a,o){for(var h=o,l=!1,u=null,p=(2<=a.length%4?(u=o,o=this.scratch):u=this.scratch,u.length=0,u.push(t),u.push(e),u.push(n),u.push(i),u.push(r),u.push(s),u.push(t),u.push(e),o.length=0,a),c=a.length-4,f=0;;f+=2){for(var d=p[f],m=p[f+1],g=p[f+2],v=p[f+3],E=d-g,y=m-v,x=u,w=u.length-2,A=o.length,T=0;T<w;T+=2){var M=x[T],R=x[T+1],I=x[T+2],S=x[T+3],b=0<E*(S-v)-y*(I-g);if(0<E*(R-v)-y*(M-g)){if(b){o.push(I),o.push(S);continue}var C,_,P=((_=I-M)*(m-R)-(C=S-R)*(d-M))/(C*(g-d)-_*(v-m));o.push(d+(g-d)*P),o.push(m+(v-m)*P)}else b&&(P=((_=I-M)*(m-R)-(C=S-R)*(d-M))/(C*(g-d)-_*(v-m)),o.push(d+(g-d)*P),o.push(m+(v-m)*P),o.push(I),o.push(S));l=!0}if(A==o.length)return!(h.length=0);if(o.push(o[0]),o.push(o[1]),f==c)break;A=o;(o=u).length=0,u=A}if(h!=o)for(var f=h.length=0,N=o.length-2;f<N;f++)h[f]=o[f];else h.length=h.length-2;return l},h.makeClockwise=function(t){for(var e,n,i,r=t,t=t.length,s=r[t-2]*r[1]-r[0]*r[t-1],a=0,o=t-3;a<o;a+=2)e=r[a],n=r[a+1],i=r[a+2],s+=e*r[a+3]-i*n;if(!(s<0))for(var a=0,h=t-2,o=t>>1;a<o;a+=2){var l=r[a],u=r[a+1],p=h-a;r[a]=r[p],r[a+1]=r[1+p],r[p]=l,r[1+p]=u}},j.SkeletonClipping=h}(spine=spine||{}),!function(t){function e(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},e.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},e.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},t.SkeletonData=e}(spine=spine||{}),!function(K){function _(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}_.prototype.readSkeletonData=function(t){var e=this.scale,n=new K.SkeletonData,i="string"==typeof t?JSON.parse(t):t,t=i.skeleton;if(null!=t&&(n.hash=t.hash,n.version=t.spine,n.width=t.width,n.height=t.height,n.fps=t.fps,n.imagesPath=t.images),i.bones)for(var r=0;r<i.bones.length;r++){var s=i.bones[r],a=null,o=this.getValue(s,"parent",null);if(null!=o&&null==(a=n.findBone(o)))throw new Error("Parent bone not found: "+o);(p=new K.BoneData(n.bones.length,s.name,a)).length=this.getValue(s,"length",0)*e,p.x=this.getValue(s,"x",0)*e,p.y=this.getValue(s,"y",0)*e,p.rotation=this.getValue(s,"rotation",0),p.scaleX=this.getValue(s,"scaleX",1),p.scaleY=this.getValue(s,"scaleY",1),p.shearX=this.getValue(s,"shearX",0),p.shearY=this.getValue(s,"shearY",0),p.transformMode=_.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(p)}if(i.slots)for(r=0;r<i.slots.length;r++){var h=(y=i.slots[r]).name,l=y.bone,u=n.findBone(l);if(null==u)throw new Error("Slot bone not found: "+l);var p=new K.SlotData(n.slots.length,h,u),u=this.getValue(y,"color",null),u=(null!=u&&p.color.setFromString(u),this.getValue(y,"dark",null));null!=u&&(p.darkColor=new K.Color(1,1,1,1),p.darkColor.setFromString(u)),p.attachmentName=this.getValue(y,"attachment",null),p.blendMode=_.blendModeFromString(this.getValue(y,"blend","normal")),n.slots.push(p)}if(i.ik)for(r=0;r<i.ik.length;r++){var c=i.ik[r];(p=new K.IkConstraintData(c.name)).order=this.getValue(c,"order",0);for(var f=0;f<c.bones.length;f++){l=c.bones[f];if(null==(m=n.findBone(l)))throw new Error("IK bone not found: "+l);p.bones.push(m)}var d=c.target;if(p.target=n.findBone(d),null==p.target)throw new Error("IK target bone not found: "+d);p.bendDirection=this.getValue(c,"bendPositive",!0)?1:-1,p.mix=this.getValue(c,"mix",1),n.ikConstraints.push(p)}if(i.transform)for(r=0;r<i.transform.length;r++){c=i.transform[r];(p=new K.TransformConstraintData(c.name)).order=this.getValue(c,"order",0);for(f=0;f<c.bones.length;f++){l=c.bones[f];if(null==(m=n.findBone(l)))throw new Error("Transform constraint bone not found: "+l);p.bones.push(m)}d=c.target;if(p.target=n.findBone(d),null==p.target)throw new Error("Transform constraint target bone not found: "+d);p.local=this.getValue(c,"local",!1),p.relative=this.getValue(c,"relative",!1),p.offsetRotation=this.getValue(c,"rotation",0),p.offsetX=this.getValue(c,"x",0)*e,p.offsetY=this.getValue(c,"y",0)*e,p.offsetScaleX=this.getValue(c,"scaleX",0),p.offsetScaleY=this.getValue(c,"scaleY",0),p.offsetShearY=this.getValue(c,"shearY",0),p.rotateMix=this.getValue(c,"rotateMix",1),p.translateMix=this.getValue(c,"translateMix",1),p.scaleMix=this.getValue(c,"scaleMix",1),p.shearMix=this.getValue(c,"shearMix",1),n.transformConstraints.push(p)}if(i.path)for(r=0;r<i.path.length;r++){c=i.path[r];(p=new K.PathConstraintData(c.name)).order=this.getValue(c,"order",0);for(f=0;f<c.bones.length;f++){var m,l=c.bones[f];if(null==(m=n.findBone(l)))throw new Error("Transform constraint bone not found: "+l);p.bones.push(m)}d=c.target;if(p.target=n.findSlot(d),null==p.target)throw new Error("Path target slot not found: "+d);p.positionMode=_.positionModeFromString(this.getValue(c,"positionMode","percent")),p.spacingMode=_.spacingModeFromString(this.getValue(c,"spacingMode","length")),p.rotateMode=_.rotateModeFromString(this.getValue(c,"rotateMode","tangent")),p.offsetRotation=this.getValue(c,"rotation",0),p.position=this.getValue(c,"position",0),p.positionMode==K.PositionMode.Fixed&&(p.position*=e),p.spacing=this.getValue(c,"spacing",0),p.spacingMode!=K.SpacingMode.Length&&p.spacingMode!=K.SpacingMode.Fixed||(p.spacing*=e),p.rotateMix=this.getValue(c,"rotateMix",1),p.translateMix=this.getValue(c,"translateMix",1),n.pathConstraints.push(p)}if(i.skins)for(var g in i.skins){var v=i.skins[g],E=new K.Skin(g);for(h in v){var y,x,w=n.findSlotIndex(h);if(-1==w)throw new Error("Slot not found: "+h);for(x in y=v[h]){var A=this.readAttachment(y[x],E,w,x,n);null!=A&&E.addAttachment(w,x,A)}}n.skins.push(E),"default"==E.name&&(n.defaultSkin=E)}for(var r=0,T=this.linkedMeshes.length;r<T;r++){var M=this.linkedMeshes[r];if(null==(E=null==M.skin?n.defaultSkin:n.findSkin(M.skin)))throw new Error("Skin not found: "+M.skin);var R=E.getAttachment(M.slotIndex,M.parent);if(null==R)throw new Error("Parent mesh not found: "+M.parent);M.mesh.setParentMesh(R),M.mesh.updateUVs()}if(this.linkedMeshes.length=0,i.events)for(var I in i.events){var S=i.events[I];(p=new K.EventData(I)).intValue=this.getValue(S,"int",0),p.floatValue=this.getValue(S,"float",0),p.stringValue=this.getValue(S,"string",""),n.events.push(p)}if(i.animations)for(var b in i.animations){var C=i.animations[b];this.readAnimation(C,b,n)}return n},_.prototype.readAttachment=function(t,e,n,i,r){var s=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var a=this.getValue(t,"path",i),o=this.attachmentLoader.newRegionAttachment(e,i,a);return null==o?null:(o.path=a,o.x=this.getValue(t,"x",0)*s,o.y=this.getValue(t,"y",0)*s,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*s,o.height=t.height*s,null!=(c=this.getValue(t,"color",null))&&o.color.setFromString(c),o.updateOffset(),o);case"boundingbox":o=this.attachmentLoader.newBoundingBoxAttachment(e,i);return null==o?null:(this.readVertices(t,o,t.vertexCount<<1),null!=(c=this.getValue(t,"color",null))&&o.color.setFromString(c),o);case"mesh":case"linkedmesh":var a=this.getValue(t,"path",i),o=this.attachmentLoader.newMeshAttachment(e,i,a);if(null==o)return null;o.path=a;null!=(c=this.getValue(t,"color",null))&&o.color.setFromString(c);var h=this.getValue(t,"parent",null);return null!=h?(o.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new f(o,this.getValue(t,"skin",null),n,h))):(h=t.uvs,this.readVertices(t,o,h.length),o.triangles=t.triangles,o.regionUVs=h,o.updateUVs(),o.hullLength=2*this.getValue(t,"hull",0)),o;case"path":if(null==(a=this.attachmentLoader.newPathAttachment(e,i)))return null;a.closed=this.getValue(t,"closed",!1),a.constantSpeed=this.getValue(t,"constantSpeed",!0);for(var l=t.vertexCount,u=(this.readVertices(t,a,l<<1),K.Utils.newArray(l/3,0)),p=0;p<t.lengths.length;p++)u[p]=t.lengths[p]*s;return a.lengths=u,null!=(c=this.getValue(t,"color",null))&&a.color.setFromString(c),a;case"point":h=this.attachmentLoader.newPointAttachment(e,i);return null==h?null:(h.x=this.getValue(t,"x",0)*s,h.y=this.getValue(t,"y",0)*s,h.rotation=this.getValue(t,"rotation",0),null!=(c=this.getValue(t,"color",null))&&h.color.setFromString(c),h);case"clipping":o=this.attachmentLoader.newClippingAttachment(e,i);if(null==o)return null;a=this.getValue(t,"end",null);if(null!=a){h=r.findSlot(a);if(null==h)throw new Error("Clipping end slot not found: "+a);o.endSlot=h}var c,l=t.vertexCount;return this.readVertices(t,o,l<<1),null!=(c=this.getValue(t,"color",null))&&o.color.setFromString(c),o}return null},_.prototype.readVertices=function(t,e,n){var i=this.scale,r=(e.worldVerticesLength=n,t.vertices);if(n==r.length){var s=K.Utils.toFloatArray(r);if(1!=i)for(var a=0,o=r.length;a<o;a++)s[a]*=i;e.vertices=s}else{for(var h=new Array,l=new Array,a=0,o=r.length;a<o;){var u=r[a++];l.push(u);for(var p=a+4*u;a<p;a+=4)l.push(r[a]),h.push(r[a+1]*i),h.push(r[a+2]*i),h.push(r[a+3])}e.bones=l,e.vertices=K.Utils.toFloatArray(h)}},_.prototype.readAnimation=function(t,k,e){var n=this.scale,i=new Array,r=0;if(t.slots)for(var s in t.slots){var a=t.slots[s];if(-1==(N=e.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(w in a){var o=a[w];if("attachment"==w){(g=new K.AttachmentTimeline(o.length)).slotIndex=N;for(var h=0,l=0;l<o.length;l++){var u=o[l];g.setFrame(h++,u.time,u.name)}i.push(g),r=Math.max(r,g.frames[g.getFrameCount()-1])}else if("color"==w){for(h=((g=new K.ColorTimeline(o.length)).slotIndex=N,0),l=0;l<o.length;l++){var u=o[l],p=new K.Color;p.setFromString(u.color),g.setFrame(h,u.time,p.r,p.g,p.b,p.a),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.ColorTimeline.ENTRIES])}else{if("twoColor"!=w)throw new Error("Invalid timeline type for a slot: "+w+" ("+s+")");for(h=((g=new K.TwoColorTimeline(o.length)).slotIndex=N,0),l=0;l<o.length;l++){var u=o[l],c=new K.Color,f=new K.Color;c.setFromString(u.light),f.setFromString(u.dark),g.setFrame(h,u.time,c.r,c.g,c.b,c.a,f.r,f.g,f.b),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var d in t.bones){var D=t.bones[d],m=e.findBoneIndex(d);if(-1==m)throw new Error("Bone not found: "+d);for(w in D){o=D[w];if("rotate"===w){for(h=((g=new K.RotateTimeline(o.length)).boneIndex=m,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,u.time,u.angle),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.RotateTimeline.ENTRIES])}else{if("translate"!==w&&"scale"!==w&&"shear"!==w)throw new Error("Invalid timeline type for a bone: "+w+" ("+d+")");for(var g=null,v=1,h=("scale"===w?g=new K.ScaleTimeline(o.length):"shear"===w?g=new K.ShearTimeline(o.length):(g=new K.TranslateTimeline(o.length),v=n),g.boneIndex=m,0),l=0;l<o.length;l++){var u=o[l],F=this.getValue(u,"x",0),X=this.getValue(u,"y",0);g.setFrame(h,u.time,F*v,X*v),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var E in t.ik){for(var y=t.ik[E],U=e.findIkConstraint(E),h=((g=new K.IkConstraintTimeline(y.length)).ikConstraintIndex=e.ikConstraints.indexOf(U),0),l=0;l<y.length;l++){u=y[l];g.setFrame(h,u.time,this.getValue(u,"mix",1),this.getValue(u,"bendPositive",!0)?1:-1),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var E in t.transform){for(y=t.transform[E],U=e.findTransformConstraint(E),h=((g=new K.TransformConstraintTimeline(y.length)).transformConstraintIndex=e.transformConstraints.indexOf(U),0),l=0;l<y.length;l++){u=y[l];g.setFrame(h,u.time,this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1),this.getValue(u,"scaleMix",1),this.getValue(u,"shearMix",1)),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(var E in t.paths){var y=t.paths[E],x=e.findPathConstraintIndex(E);if(-1==x)throw new Error("Path constraint not found: "+E);var Y=e.pathConstraints[x];for(w in y){o=y[w];if("position"===w||"spacing"===w){for(g=null,v=1,h=("spacing"===w?(g=new K.PathConstraintSpacingTimeline(o.length),Y.spacingMode!=K.SpacingMode.Length&&Y.spacingMode!=K.SpacingMode.Fixed||(v=n)):(g=new K.PathConstraintPositionTimeline(o.length),Y.positionMode==K.PositionMode.Fixed&&(v=n)),g.pathConstraintIndex=x,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,u.time,this.getValue(u,w,0)*v),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===w){for(h=((g=new K.PathConstraintMixTimeline(o.length)).pathConstraintIndex=x,0),l=0;l<o.length;l++){u=o[l];g.setFrame(h,u.time,this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1)),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[(g.getFrameCount()-1)*K.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var $ in t.deform){var B=t.deform[$],W=e.findSkin($);if(null==W)throw new Error("Skin not found: "+$);for(s in B){var w,a=B[s];if(-1==(N=e.findSlotIndex(s)))throw new Error("Slot not found: "+a.name);for(w in a){var o=a[w],A=W.getAttachment(N,w);if(null==A)throw new Error("Deform attachment not found: "+o.name);for(var j=null!=A.bones,T=A.vertices,G=j?T.length/3*2:T.length,h=((g=new K.DeformTimeline(o.length)).slotIndex=N,g.attachment=A,0),M=0;M<o.length;M++){var u=o[M],R=void 0,I=this.getValue(u,"vertices",null);if(null==I)R=j?K.Utils.newFloatArray(G):T;else{var R=K.Utils.newFloatArray(G),q=this.getValue(u,"offset",0);if(K.Utils.arrayCopy(I,0,R,q,I.length),1!=n)for(var H=(l=q)+I.length;l<H;l++)R[l]*=n;if(!j)for(l=0;l<G;l++)R[l]+=T[l]}g.setFrame(h,u.time,R),this.readCurve(u,g,h),h++}i.push(g),r=Math.max(r,g.frames[g.getFrameCount()-1])}}}var S=t.drawOrder;if(null!=(S=null==S?t.draworder:S)){for(var g=new K.DrawOrderTimeline(S.length),b=e.slots.length,h=0,M=0;M<S.length;M++){var z=S[M],C=null,_=this.getValue(z,"offsets",null);if(null!=_){for(var C=K.Utils.newArray(b,-1),Z=K.Utils.newArray(b-_.length,0),P=0,J=0,l=0;l<_.length;l++){var N,Q=_[l];if(-1==(N=e.findSlotIndex(Q.slot)))throw new Error("Slot not found: "+Q.slot);for(;P!=N;)Z[J++]=P++;C[P+Q.offset]=P++}for(;P<b;)Z[J++]=P++;for(l=b-1;0<=l;l--)-1==C[l]&&(C[l]=Z[--J])}g.setFrame(h++,z.time,C)}i.push(g),r=Math.max(r,g.frames[g.getFrameCount()-1])}if(t.events){for(g=new K.EventTimeline(t.events.length),h=0,l=0;l<t.events.length;l++){var V=t.events[l],L=e.findEvent(V.name);if(null==L)throw new Error("Event not found: "+V.name);var O=new K.Event(K.Utils.toSinglePrecision(V.time),L);O.intValue=this.getValue(V,"int",L.intValue),O.floatValue=this.getValue(V,"float",L.floatValue),O.stringValue=this.getValue(V,"string",L.stringValue),g.setFrame(h++,O)}i.push(g),r=Math.max(r,g.frames[g.getFrameCount()-1])}if(isNaN(r))throw new Error("Error while parsing animation, duration is NaN");e.animations.push(new K.Animation(k,i,r))},_.prototype.readCurve=function(t,e,n){t.curve&&("stepped"===t.curve?e.setStepped(n):"[object Array]"===Object.prototype.toString.call(t.curve)&&(t=t.curve,e.setCurve(n,t[0],t[1],t[2],t[3])))},_.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},_.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return K.BlendMode.Normal;if("additive"==t)return K.BlendMode.Additive;if("multiply"==t)return K.BlendMode.Multiply;if("screen"==t)return K.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},_.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return K.PositionMode.Fixed;if("percent"==t)return K.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},_.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return K.SpacingMode.Length;if("fixed"==t)return K.SpacingMode.Fixed;if("percent"==t)return K.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},_.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return K.RotateMode.Tangent;if("chain"==t)return K.RotateMode.Chain;if("chainscale"==t)return K.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},_.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return K.TransformMode.Normal;if("onlytranslation"==t)return K.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return K.TransformMode.NoRotationOrReflection;if("noscale"==t)return K.TransformMode.NoScale;if("noscaleorreflection"==t)return K.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},K.SkeletonJson=_;var f=function(t,e,n,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i}}(spine=spine||{}),!function(t){function e(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}e.prototype.addAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n},e.prototype.getAttachment=function(t,e){t=this.attachments[t];return t?t[e]:null},e.prototype.attachAll=function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var r=t.slots[i],s=r.getAttachment();if(s&&n<e.attachments.length){var a,o=e.attachments[n];for(a in o)if(s==o[a]){var h=this.getAttachment(n,a);null!=h&&r.setAttachment(h);break}}n++}},t.Skin=e}(spine=spine||{}),!function(n){function t(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new n.Color,this.darkColor=null==t.darkColor?null:new n.Color,this.setToSetupPose()}t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},n.Slot=t}(spine=spine||{}),!function(i){i.SlotData=function(t,e,n){if(this.color=new i.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}}(spine=spine||{}),!function(t){var e,n;function i(t){this._image=t}i.prototype.getImage=function(){return this._image},i.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},i.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t.Texture=i,(s=e=t.TextureFilter||(t.TextureFilter={}))[s.Nearest=9728]="Nearest",s[s.Linear=9729]="Linear",s[s.MipMap=9987]="MipMap",s[s.MipMapNearestNearest=9984]="MipMapNearestNearest",s[s.MipMapLinearNearest=9985]="MipMapLinearNearest",s[s.MipMapNearestLinear=9986]="MipMapNearestLinear",s[s.MipMapLinearLinear=9987]="MipMapLinearLinear",(s=n=t.TextureWrap||(t.TextureWrap={}))[s.MirroredRepeat=33648]="MirroredRepeat",s[s.ClampToEdge=33071]="ClampToEdge",s[s.Repeat=10497]="Repeat";t.TextureRegion=function(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0},r=t.Texture,__extends(a,r),a.prototype.setFilters=function(t,e){},a.prototype.setWraps=function(t,e){},a.prototype.dispose=function(){};var r,s=a;function a(){return null!==r&&r.apply(this,arguments)||this}t.FakeTexture=s}(spine=spine||{}),!function(p){function t(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}t.prototype.load=function(t,e){if(null==e)throw new Error("textureLoader cannot be null.");for(var n=new c(t),i=new Array(4),r=null;;){var s,a,o,h,l,u=n.readLine();if(null==u)break;0==(u=u.trim()).length?r=null:r?((s=new d).name=u,s.page=r,s.rotate="true"==n.readValue(),n.readTuple(i),l=parseInt(i[0]),a=parseInt(i[1]),n.readTuple(i),o=parseInt(i[0]),h=parseInt(i[1]),s.u=l/r.width,s.v=a/r.height,s.rotate?(s.u2=(l+h)/r.width,s.v2=(a+o)/r.height):(s.u2=(l+o)/r.width,s.v2=(a+h)/r.height),s.x=l,s.y=a,s.width=Math.abs(o),s.height=Math.abs(h),4==n.readTuple(i)&&4==n.readTuple(i)&&n.readTuple(i),s.originalWidth=parseInt(i[0]),s.originalHeight=parseInt(i[1]),n.readTuple(i),s.offsetX=parseInt(i[0]),s.offsetY=parseInt(i[1]),s.index=parseInt(n.readValue()),s.texture=r.texture,this.regions.push(s)):((r=new f).name=u,2==n.readTuple(i)&&(r.width=parseInt(i[0]),r.height=parseInt(i[1]),n.readTuple(i)),n.readTuple(i),r.minFilter=p.Texture.filterFromString(i[0]),r.magFilter=p.Texture.filterFromString(i[1]),l=n.readValue(),r.uWrap=p.TextureWrap.ClampToEdge,r.vWrap=p.TextureWrap.ClampToEdge,"x"==l?r.uWrap=p.TextureWrap.Repeat:"y"==l?r.vWrap=p.TextureWrap.Repeat:"xy"==l&&(r.uWrap=r.vWrap=p.TextureWrap.Repeat),r.texture=e(u),r.texture.setFilters(r.minFilter,r.magFilter),r.texture.setWraps(r.uWrap,r.vWrap),r.width=r.texture.getImage().width,r.height=r.texture.getImage().height,this.pages.push(r))}},t.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},t.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},p.TextureAtlas=t;e.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},e.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},e.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var i=0,r=n+1;i<3;i++){var s=e.indexOf(",",r);if(-1==s)break;t[i]=e.substr(r,s-r).trim(),r=s+1}return t[i]=e.substring(r).trim(),i+1};var c=e;function e(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var n,f=function(){},d=(p.TextureAtlasPage=f,n=p.TextureRegion,__extends(i,n),i);function i(){return null!==n&&n.apply(this,arguments)||this}p.TextureAtlasRegion=d}(spine=spine||{}),!function(R){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new R.Vector2,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,s=r.a,a=r.b,o=r.c,h=r.d,l=0<s*h-a*o?R.MathUtils.degRad:-R.MathUtils.degRad,u=this.data.offsetRotation*l,p=this.data.offsetShearY*l,c=this.bones,f=0,d=c.length;f<d;f++){var m,g,v,E,y,x,w,A,T=c[f],M=!1;0!=t&&(g=T.a,E=T.b,v=T.c,y=T.d,(w=Math.atan2(o,s)-Math.atan2(v,g)+u)>R.MathUtils.PI?w-=R.MathUtils.PI2:w<-R.MathUtils.PI&&(w+=R.MathUtils.PI2),w*=t,m=Math.cos(w),x=Math.sin(w),T.a=m*g-x*v,T.b=m*E-x*y,T.c=x*g+m*v,T.d=x*E+m*y,M=!0),0!=e&&(g=this.temp,r.localToWorld(g.set(this.data.offsetX,this.data.offsetY)),T.worldX+=(g.x-T.worldX)*e,T.worldY+=(g.y-T.worldY)*e,M=!0),0<n&&(A=Math.sqrt(T.a*T.a+T.c*T.c),v=Math.sqrt(s*s+o*o),1e-5<A&&(A=(A+(v-A+this.data.offsetScaleX)*n)/A),T.a*=A,T.c*=A,A=Math.sqrt(T.b*T.b+T.d*T.d),v=Math.sqrt(a*a+h*h),1e-5<A&&(A=(A+(v-A+this.data.offsetScaleY)*n)/A),T.b*=A,T.d*=A,M=!0),0<i&&(E=T.b,y=T.d,x=Math.atan2(y,E),(w=Math.atan2(h,a)-Math.atan2(o,s)-(x-Math.atan2(T.c,T.a)))>R.MathUtils.PI?w-=R.MathUtils.PI2:w<-R.MathUtils.PI&&(w+=R.MathUtils.PI2),w=x+(w+p)*i,A=Math.sqrt(E*E+y*y),T.b=Math.cos(w)*A,T.d=Math.sin(w)*A,M=!0),M&&(T.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,s=r.a,a=r.b,o=r.c,h=r.d,l=0<s*h-a*o?R.MathUtils.degRad:-R.MathUtils.degRad,u=this.data.offsetRotation*l,p=this.data.offsetShearY*l,c=this.bones,f=0,d=c.length;f<d;f++){var m,g,v,E,y,x,w,A,T=c[f],M=!1;0!=t&&(E=T.a,x=T.b,m=T.c,w=T.d,(y=Math.atan2(o,s)+u)>R.MathUtils.PI?y-=R.MathUtils.PI2:y<-R.MathUtils.PI&&(y+=R.MathUtils.PI2),y*=t,g=Math.cos(y),v=Math.sin(y),T.a=g*E-v*m,T.b=g*x-v*w,T.c=v*E+g*m,T.d=v*x+g*w,M=!0),0!=e&&(E=this.temp,r.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),T.worldX+=E.x*e,T.worldY+=E.y*e,M=!0),0<n&&(A=(Math.sqrt(s*s+o*o)-1+this.data.offsetScaleX)*n+1,T.a*=A,T.c*=A,A=(Math.sqrt(a*a+h*h)-1+this.data.offsetScaleY)*n+1,T.b*=A,T.d*=A,M=!0),0<i&&((y=Math.atan2(h,a)-Math.atan2(o,s))>R.MathUtils.PI?y-=R.MathUtils.PI2:y<-R.MathUtils.PI&&(y+=R.MathUtils.PI2),x=T.b,w=T.d,y=Math.atan2(w,x)+(y-R.MathUtils.PI/2+p)*i,A=Math.sqrt(x*x+w*w),T.b=Math.cos(y)*A,T.d=Math.sin(y)*A,M=!0),M&&(T.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,s=(r.appliedValid||r.updateAppliedTransform(),this.bones),a=0,o=s.length;a<o;a++){var h,l=s[a],u=(l.appliedValid||l.updateAppliedTransform(),l.arotation),p=(0!=t&&(h=r.arotation-u+this.data.offsetRotation,u+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t),l.ax),c=l.ay,f=(0!=e&&(p+=(r.ax-p+this.data.offsetX)*e,c+=(r.ay-c+this.data.offsetY)*e),l.ascaleX),d=l.ascaleY,m=(0<n&&(1e-5<f&&(f=(f+(r.ascaleX-f+this.data.offsetScaleX)*n)/f),1e-5<d)&&(d=(d+(r.ascaleY-d+this.data.offsetScaleY)*n)/d),l.ashearY);0<i&&(h=r.ashearY-m+this.data.offsetShearY,h-=360*(16384-(16384.499999999996-h/360|0)),l.shearY+=h*i),l.updateWorldTransformWith(p,c,u,f,d,l.ashearX,m)}},t.prototype.applyRelativeLocal=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,s=(r.appliedValid||r.updateAppliedTransform(),this.bones),a=0,o=s.length;a<o;a++){var h=s[a],l=(h.appliedValid||h.updateAppliedTransform(),h.arotation),u=(0!=t&&(l+=(r.arotation+this.data.offsetRotation)*t),h.ax),p=h.ay,c=(0!=e&&(u+=(r.ax+this.data.offsetX)*e,p+=(r.ay+this.data.offsetY)*e),h.ascaleX),f=h.ascaleY,d=(0<n&&(1e-5<c&&(c*=(r.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<f)&&(f*=(r.ascaleY-1+this.data.offsetScaleY)*n+1),h.ashearY);0<i&&(d+=(r.ashearY+this.data.offsetShearY)*i),h.updateWorldTransformWith(u,p,l,c,f,h.ashearX,d)}},t.prototype.getOrder=function(){return this.data.order},R.TransformConstraint=t}(spine=spine||{}),(spine||(spine={})).TransformConstraintData=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t},!function(t){function Y(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(function(){return new Array}),this.polygonIndicesPool=new t.Pool(function(){return new Array})}Y.prototype.triangulate=function(t){for(var e=t,n=t.length>>1,i=this.indicesArray,r=i.length=0;r<n;r++)i[r]=r;for(var s=this.isConcaveArray,r=s.length=0,a=n;r<a;++r)s[r]=Y.isConcave(r,n,e,i);var o=this.triangles;for(o.length=0;3<n;){for(var h=n-1,r=0,l=1;;){t:if(!s[r]){for(var u=i[h]<<1,p=i[r]<<1,c=i[l]<<1,f=e[u],d=e[1+u],m=e[p],g=e[1+p],v=e[c],E=e[1+c],y=(l+1)%n;y!=h;y=(y+1)%n)if(s[y]){var x=i[y]<<1,w=e[x],x=e[1+x];if(Y.positiveArea(v,E,f,d,w,x)&&Y.positiveArea(f,d,m,g,w,x)&&Y.positiveArea(m,g,v,E,w,x))break t}break}if(0==l){for(;s[r]&&0<--r;);break}h=r,l=((r=l)+1)%n}o.push(i[(n+r-1)%n]),o.push(i[r]),o.push(i[(r+1)%n]),i.splice(r,1),s.splice(r,1);var A=(--n+r-1)%n,T=r==n?0:r;s[A]=Y.isConcave(A,n,e,i),s[T]=Y.isConcave(T,n,e,i)}return 3==n&&(o.push(i[2]),o.push(i[0]),o.push(i[1])),o},Y.prototype.decompose=function(k,t){for(var e=k,n=this.convexPolygons,i=(this.polygonPool.freeAll(n),n.length=0,this.convexPolygonsIndices),r=(this.polygonIndicesPool.freeAll(i),i.length=0,this.polygonIndicesPool.obtain()),s=(r.length=0,this.polygonPool.obtain()),a=-1,o=s.length=0,h=0,l=t.length;h<l;h+=3){var u=t[h]<<1,p=t[h+1]<<1,c=t[h+2]<<1,f=e[u],d=e[1+u],m=e[p],g=e[1+p],v=e[c],E=e[1+c],y=!1;a==u&&(x=s.length-4,I=Y.winding(s[x],s[x+1],s[x+2],s[x+3],v,E),S=Y.winding(v,E,s[0],s[1],s[2],s[3]),I==o)&&S==o&&(s.push(v),s.push(E),r.push(c),y=!0),y||(0<s.length?(n.push(s),i.push(r)):(this.polygonPool.free(s),this.polygonIndicesPool.free(r)),(s=this.polygonPool.obtain()).length=0,s.push(f),s.push(d),s.push(m),s.push(g),s.push(v),s.push(E),(r=this.polygonIndicesPool.obtain()).length=0,r.push(u),r.push(p),r.push(c),o=Y.winding(f,d,m,g,v,E),a=u)}0<s.length&&(n.push(s),i.push(r));for(h=0,l=n.length;h<l;h++)if(0!=(r=i[h]).length)for(var x,w,A,T,M,R,I,S,D=r[0],F=r[r.length-1],b=(s=n[h])[x=s.length-4],C=s[x+1],_=s[x+2],P=s[x+3],N=s[0],V=s[1],X=s[2],U=s[3],L=Y.winding(b,C,_,P,N,V),O=0;O<l;O++)O!=h&&(3==(w=i[O]).length&&(A=w[0],T=w[1],M=w[2],v=(R=n[O])[R.length-2],E=R[R.length-1],A==D)&&T==F&&(I=Y.winding(b,C,_,P,v,E),S=Y.winding(v,E,N,V,X,U),I==L)&&S==L)&&(R.length=0,w.length=0,s.push(v),s.push(E),r.push(M),b=_,C=P,_=v,P=E,O=0);for(h=n.length-1;0<=h;h--)0==(s=n[h]).length&&(n.splice(h,1),this.polygonPool.free(s),r=i[h],i.splice(h,1),this.polygonIndicesPool.free(r));return n},Y.isConcave=function(t,e,n,i){var r=i[(e+t-1)%e]<<1,s=i[t]<<1,i=i[(t+1)%e]<<1;return!this.positiveArea(n[r],n[1+r],n[s],n[1+s],n[i],n[1+i])},Y.positiveArea=function(t,e,n,i,r,s){return 0<=t*(s-i)+n*(e-s)+r*(i-e)},Y.winding=function(t,e,n,i,r,s){n-=t,i-=e;return 0<=r*i-s*n+n*e-t*i?1:-1},t.Triangulator=Y}(spine=spine||{}),!function(t){function e(){this.array=new Array}function n(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.r=t=void 0===t?0:t,this.g=e,this.b=n,this.a=i}function i(){}e.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},e.prototype.contains=function(t){return null!=this.array[0|t]},e.prototype.remove=function(t){this.array[0|t]=void 0},e.prototype.clear=function(){this.array.length=0},t.IntSet=e,n.prototype.set=function(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this.clamp(),this},n.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},n.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},n.prototype.add=function(t,e,n,i){return this.r+=t,this.g+=e,this.b+=n,this.a+=i,this.clamp(),this},n.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},n.WHITE=new n(1,1,1,1),n.RED=new n(1,0,0,1),n.GREEN=new n(0,1,0,1),n.BLUE=new n(0,0,1,1),n.MAGENTA=new n(1,0,1,1),t.Color=n,i.clamp=function(t,e,n){return t<e?e:n<t?n:t},i.cosDeg=function(t){return Math.cos(t*i.degRad)},i.sinDeg=function(t){return Math.sin(t*i.degRad)},i.signum=function(t){return 0<t?1:t<0?-1:0},i.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},i.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},i.randomTriangular=function(t,e){return i.randomTriangularWith(t,e,.5*(t+e))},i.randomTriangularWith=function(t,e,n){var i=Math.random(),r=e-t;return i<=(n-t)/r?t+Math.sqrt(i*r*(n-t)):e-Math.sqrt((1-i)*r*(e-n))},i.PI2=2*(i.PI=3.1415927),i.radDeg=i.radiansToDegrees=180/i.PI,i.degRad=i.degreesToRadians=i.PI/180,t.MathUtils=i;s.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)};var r=s;function s(){}t.Interpolation=r;__extends(o,a=r),o.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1};var a,r=o;function o(t){var e=a.call(this)||this;return e.power=2,e.power=t,e}t.Pow=r;__extends(l,h=r),l.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1};var h,r=l;function l(t){return h.call(this,t)||this}function u(){}function p(){}function c(t){this.items=new Array,this.instantiator=t}function f(t,e){void 0===e&&(e=0),this.x=t=void 0===t?0:t,this.y=e}function d(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}function m(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.PowOut=r,u.arrayCopy=function(t,e,n,i,r){for(var s=e,a=i;s<e+r;s++,a++)n[a]=t[s]},u.setArraySize=function(t,e,n){void 0===n&&(n=0);var i=t.length;if(i!=e&&i<(t.length=e))for(var r=i;r<e;r++)t[r]=n;return t},u.ensureArrayCapacity=function(t,e,n){return void 0===n&&(n=0),t.length>=e?t:u.setArraySize(t,e,n)},u.newArray=function(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e;return n},u.newFloatArray=function(t){if(u.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},u.newShortArray=function(t){if(u.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},u.toFloatArray=function(t){return u.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},u.toSinglePrecision=function(t){return u.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},u.webkit602BugfixHelper=function(t,e){},u.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t.Utils=u,p.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}},t.DebugUtils=p,c.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},c.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},c.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},c.prototype.clear=function(){this.items.length=0},t.Pool=c,f.prototype.set=function(t,e){return this.x=t,this.y=e,this},f.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},f.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t.Vector2=f,d.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t.TimeKeeper=d,m.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},m.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},m.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t.WindowedMean=m}(spine=spine||{}),!function(){var e;Math.fround||(Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),!function(t){function e(t){if(null==t)throw new Error("name cannot be null.");this.name=t}t.Attachment=e,__extends(r,n=e),r.prototype.computeWorldVertices=function(t,e,n,i,r,s){n=r+(n>>1)*s;var a=t.bone.skeleton,o=t.attachmentVertices,h=this.vertices,l=this.bones;if(null==l){0<o.length&&(h=o);for(var u=(S=t.bone).worldX,p=S.worldY,c=S.a,f=S.b,d=S.c,m=S.d,g=e,v=r;v<n;g+=2,v+=s){var E=h[g],y=h[g+1];i[v]=E*c+y*f+u,i[v+1]=E*d+y*m+p}}else{for(var x=0,w=0,A=0;A<e;A+=2)x+=(I=l[x])+1,w+=I;var T=a.bones;if(0==o.length)for(v=r,f=3*w;v<n;v+=s){var M=0,R=0,I=l[x++];for(I+=x;x<I;x++,f+=3){var S=T[l[x]],E=h[f],y=h[f+1],b=h[f+2];M+=(E*S.a+y*S.b+S.worldX)*b,R+=(E*S.c+y*S.d+S.worldY)*b}i[v]=M,i[v+1]=R}else for(var C=o,v=r,f=3*w,_=w<<1;v<n;v+=s){M=0,R=0,I=l[x++];for(I+=x;x<I;x++,f+=3,_+=2){S=T[l[x]],E=h[f]+C[_],y=h[f+1]+C[_+1],b=h[f+2];M+=(E*S.a+y*S.b+S.worldX)*b,R+=(E*S.c+y*S.d+S.worldY)*b}i[v]=M,i[v+1]=R}}},r.prototype.applyDeform=function(t){return this==t},r.nextID=0;var n,i=r;function r(t){t=n.call(this,t)||this;return t.id=(65535&r.nextID++)<<11,t.worldVerticesLength=0,t}t.VertexAttachment=i}(spine=spine||{}),!function(t){(t=t.AttachmentType||(t.AttachmentType={}))[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point"}(spine=spine||{}),!function(e){n=e.VertexAttachment,__extends(i,n);var n,t=i;function i(t){t=n.call(this,t)||this;return t.color=new e.Color(1,1,1,1),t}e.BoundingBoxAttachment=t}(spine=spine||{}),!function(e){n=e.VertexAttachment,__extends(i,n);var n,t=i;function i(t){t=n.call(this,t)||this;return t.color=new e.Color(.2275,.2275,.8078,1),t}e.ClippingAttachment=t}(spine=spine||{}),!function(h){e=h.VertexAttachment,__extends(n,e),n.prototype.updateUVs=function(){var t=0,e=0,n=0,i=0,r=(null==this.region?(t=e=0,n=i=1):(t=this.region.u,e=this.region.v,n=this.region.u2-t,i=this.region.v2-e),this.regionUVs),s=(null!=this.uvs&&this.uvs.length==r.length||(this.uvs=h.Utils.newFloatArray(r.length)),this.uvs);if(this.region.rotate)for(var a=0,o=s.length;a<o;a+=2)s[a]=t+r[a+1]*n,s[a+1]=e+i-r[a]*i;else for(a=0,o=s.length;a<o;a+=2)s[a]=t+r[a]*n,s[a+1]=e+r[a+1]*i},n.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)};var e,t=n;function n(t){t=e.call(this,t)||this;return t.color=new h.Color(1,1,1,1),t.inheritDeform=!1,t.tempColor=new h.Color(0,0,0,0),t}h.MeshAttachment=t}(spine=spine||{}),!function(e){n=e.VertexAttachment,__extends(i,n);var n,t=i;function i(t){t=n.call(this,t)||this;return t.closed=!1,t.constantSpeed=!1,t.color=new e.Color(1,1,1,1),t}e.PathAttachment=t}(spine=spine||{}),!function(r){e=r.VertexAttachment,__extends(n,e),n.prototype.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},n.prototype.computeWorldRotation=function(t){var e=r.MathUtils.cosDeg(this.rotation),n=r.MathUtils.sinDeg(this.rotation),i=e*t.a+n*t.b,e=e*t.c+n*t.d;return Math.atan2(e,i)*r.MathUtils.radDeg};var e,t=n;function n(t){t=e.call(this,t)||this;return t.color=new r.Color(.38,.94,0,1),t}r.PointAttachment=t}(spine=spine||{}),!function(e){n=e.Attachment,__extends(c,n),c.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,t=n+this.region.width*t,e=i+this.region.height*e,r=this.rotation*Math.PI/180,s=Math.cos(r),r=Math.sin(r),a=n*s+this.x,n=n*r,o=i*s+this.y,i=i*r,h=t*s+this.x,t=t*r,s=e*s+this.y,e=e*r,r=this.offset;r[c.OX1]=a-i,r[c.OY1]=o+n,r[c.OX2]=a-e,r[c.OY2]=s+n,r[c.OX3]=h-e,r[c.OY3]=s+t,r[c.OX4]=h-i,r[c.OY4]=o+t},c.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},c.prototype.computeWorldVertices=function(t,e,n,i){var r=this.offset,s=t.worldX,a=t.worldY,o=t.a,h=t.b,l=t.c,t=t.d,u=r[c.OX1],p=r[c.OY1];e[n]=u*o+p*h+s,e[n+1]=u*l+p*t+a,u=r[c.OX2],p=r[c.OY2],e[n+=i]=u*o+p*h+s,e[n+1]=u*l+p*t+a,u=r[c.OX3],p=r[c.OY3],e[n+=i]=u*o+p*h+s,e[n+1]=u*l+p*t+a,u=r[c.OX4],p=r[c.OY4],e[n+=i]=u*o+p*h+s,e[n+1]=u*l+p*t+a},c.OX1=0,c.OY1=1,c.OX2=2,c.OY2=3,c.OX3=4,c.OY3=5,c.OX4=6,c.OY4=7,c.X1=0,c.Y1=1,c.C1R=2,c.C1G=3,c.C1B=4,c.C1A=5,c.U1=6,c.V1=7,c.X2=8,c.Y2=9,c.C2R=10,c.C2G=11,c.C2B=12,c.C2A=13,c.U2=14,c.V2=15,c.X3=16,c.Y3=17,c.C3R=18,c.C3G=19,c.C3B=20,c.C3A=21,c.U3=22,c.V3=23,c.X4=24,c.Y4=25,c.C4R=26,c.C4G=27,c.C4B=28,c.C4A=29,c.U4=30,c.V4=31;var n,t=c;function c(t){t=n.call(this,t)||this;return t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new e.Color(1,1,1,1),t.offset=e.Utils.newFloatArray(8),t.uvs=e.Utils.newFloatArray(8),t.tempColor=new e.Color(1,1,1,1),t}e.RegionAttachment=t}(spine=spine||{}),!function(r){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}t.prototype.begin=function(t){},t.prototype.transform=function(t,e,n,i){t.x+=r.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=r.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},r.JitterEffect=t}(spine=spine||{}),!function(h){l.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},l.prototype.transform=function(t,e,n,i){var r=this.angle*h.MathUtils.degreesToRadians,s=t.x-this.worldX,a=t.y-this.worldY,o=Math.sqrt(s*s+a*a);o<this.radius&&(r=l.interpolation.apply(0,r,(this.radius-o)/this.radius),o=Math.cos(r),r=Math.sin(r),t.x=o*s-r*a+this.worldX,t.y=r*s+o*a+this.worldY)},l.prototype.end=function(){},l.interpolation=new h.PowOut(2);var t=l;function l(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}h.SwirlEffect=t}(spine=spine||{}),pc.extend(pc,function(){function t(t){pc.ComponentSystem.call(this,t),this.id="spine",this.ComponentType=pc.SpineComponent,this.DataType=pc.SpineComponentData,this.schema=["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","speed","spine"],this.on("beforeremove",this.onBeforeRemove,this),this.app.systems.on("update",this.onUpdate,this)}return(t.prototype=Object.create(pc.ComponentSystem.prototype)).constructor=t,Object.assign(t.prototype,{initializeComponentData:function(t,e,n){pc.ComponentSystem.prototype.initializeComponentData.call(this.system,t,e,["enabled","atlasAsset","textureAssets","skeletonAsset","atlasData","textures","skeletonData","spine"])},onBeforeRemove:function(t,e){var n=t.spine.data;n.spine&&n.spine.destroy(),t.spine.removeComponent()},onUpdate:function(t){var e,n,i,r=this.store;for(e in r)r.hasOwnProperty(e)&&(i=(n=r[e]).data).enabled&&n.entity.enabled&&i.spine&&(i.spine.setPosition(n.entity.getPosition()),i.spine.update(i.speed*t))}}),{SpineComponentSystem:t}}()),pc.extend(pc,function(){function t(t,e){pc.Component.call(this,t,e),this.on("set_atlasAsset",this.onSetAsset,this),this.on("set_textureAssets",this.onSetAssets,this),this.on("set_skeletonAsset",this.onSetAsset,this),this.on("set_atlasData",this.onSetResource,this),this.on("set_textures",this.onSetResource,this),this.on("set_skeletonData",this.onSetResource,this)}return(t.prototype=Object.create(pc.Component.prototype)).constructor=t,Object.assign(t.prototype,{_createSpine:function(){this.data.spine&&(this.data.spine.destroy(),this.data.spine=null);for(var t={},e=0,n=this.textureAssets.length;e<n;e++){var i=this.system.app.assets.get(this.textureAssets[e]),r=i.name||(i.file?i.file.filename:null),s=(r=r||pc.path.getBasename(i.file.url)).indexOf("?");t[r=-1!==s?r.substring(0,s):r]=i.resource}this.data.spine=new pc.Spine(this.system.app,this.atlasData,this.skeletonData,t),this.state=this.data.spine.state,this.states=this.data.spine.states,this.skeleton=this.data.spine.skeleton,this.entity.addChild(this.data.spine._node)},_onAssetReady:function(t){"texture"===t.type&&this.textures.push(t.resource),"json"===t.type&&(this.skeletonData=t.resource),"text"===t.type&&(this.atlasData=t.resource)},_onAssetAdd:function(t){t.off("change",this.onAssetChanged,this),t.on("change",this.onAssetChanged,this),t.off("remove",this.onAssetRemoved,this),t.on("remove",this.onAssetRemoved,this),t.ready(this._onAssetReady,this),this.system.app.assets.load(t)},onSetResource:function(){this.data.atlasData&&this.data.textures.length&&this.data.skeletonData&&this._createSpine()},onSetAsset:function(t,e,n){var i=this.system.app.assets,r=null;e&&(r=i.get(e))&&(r.off("change",this.onAssetChanged),r.off("remove",this.onAssetRemoved)),n&&((e=n)instanceof pc.Asset&&(e=n.id,this.data[t]=e),(r=i.get(e))?this._onAssetAdd(r):i.on("add:"+e))},onSetAssets:function(t,e,n){var i=this.system.app.assets,r=null;if(e.length)for(a=0,o=e.length;a<o;a++)(r=i.get(e[a]))&&(r.off("change",this.onAssetChanged),r.off("remove",this.onAssetRemoved));if(n&&n.length)for(var s=n.map(function(t){return t instanceof pc.Asset?t.id:t}),a=0,o=n.length;a<o;a++)(r=i.get(s[a]))?this._onAssetAdd(r):i.on("add:"+s[a])},onAssetChanged:function(t,e,n,i){},onAssetRemoved:function(t){},onEnable:function(){pc.Component.prototype.onEnable.call(this);var t=this.data.spine;t&&t.addToLayers()},onDisable:function(){pc.Component.prototype.onDisable.call(this);var t=this.data.spine;t&&t.removeFromLayers()},hide:function(){this.data.spine&&this.data.spine.hide()},show:function(){this.data.spine&&this.data.spine.show()},removeComponent:function(){var t;if(this.atlasAsset&&(t=this.system.app.assets.get(this.atlasAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.skeletonAsset&&(t=this.system.app.assets.get(this.skeletonAsset))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved)),this.textureAssets&&this.textureAssets.length)for(var e=0;e<this.textureAssets.length;e++)(t=this.system.app.assets.get(this.textureAssets[e]))&&(t.off("change",this.onAssetChanged),t.off("remove",this.onAssetRemoved))}}),{SpineComponent:t}}()),pc.extend(pc,{SpineComponentData:function(){this.enabled=!0,this.atlasAsset=null,this.textureAssets=[],this.skeletonAsset=null,this.speed=1,this.spine=null,this.atlasData=null,this.textures=[],this.skeletonData=null}}),(()=>{var n=Object.getOwnPropertyNames,t=(t,e)=>function(){return e||(0,t[n(t)[0]])((e={exports:{}}).exports,e),e.exports},_=t({"node_modules/semver/internal/constants.js"(t,e){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}}),P=t({"node_modules/semver/internal/debug.js"(t,e){var n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};e.exports=n}}),N=t({"node_modules/semver/internal/re.js"(t,e){var{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=_(),s=P(),a=(t=e.exports={}).re=[],o=t.safeRe=[],h=t.src=[],l=t.t={},u=0,e="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[e,i]],r=(t,e,n)=>{var i=(t=>{for(var[e,n]of p)t=t.split(e+"*").join(`${e}{0,${n}}`).split(e+"+").join(`${e}{1,${n}}`);return t})(e),r=u++;s(t,r,e),l[t]=r,h[r]=e,a[r]=new RegExp(e,n?"g":void 0),o[r]=new RegExp(i,n?"g":void 0)};r("NUMERICIDENTIFIER","0|[1-9]\\d*"),r("NUMERICIDENTIFIERLOOSE","\\d+"),r("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${e}*`),r("MAINVERSION",`(${h[l.NUMERICIDENTIFIER]})\\.(${h[l.NUMERICIDENTIFIER]})\\.(${h[l.NUMERICIDENTIFIER]})`),r("MAINVERSIONLOOSE",`(${h[l.NUMERICIDENTIFIERLOOSE]})\\.(${h[l.NUMERICIDENTIFIERLOOSE]})\\.(${h[l.NUMERICIDENTIFIERLOOSE]})`),r("PRERELEASEIDENTIFIER",`(?:${h[l.NUMERICIDENTIFIER]}|${h[l.NONNUMERICIDENTIFIER]})`),r("PRERELEASEIDENTIFIERLOOSE",`(?:${h[l.NUMERICIDENTIFIERLOOSE]}|${h[l.NONNUMERICIDENTIFIER]})`),r("PRERELEASE",`(?:-(${h[l.PRERELEASEIDENTIFIER]}(?:\\.${h[l.PRERELEASEIDENTIFIER]})*))`),r("PRERELEASELOOSE",`(?:-?(${h[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[l.PRERELEASEIDENTIFIERLOOSE]})*))`),r("BUILDIDENTIFIER",e+"+"),r("BUILD",`(?:\\+(${h[l.BUILDIDENTIFIER]}(?:\\.${h[l.BUILDIDENTIFIER]})*))`),r("FULLPLAIN",`v?${h[l.MAINVERSION]}${h[l.PRERELEASE]}?${h[l.BUILD]}?`),r("FULL",`^${h[l.FULLPLAIN]}$`),r("LOOSEPLAIN",`[v=\\s]*${h[l.MAINVERSIONLOOSE]}${h[l.PRERELEASELOOSE]}?${h[l.BUILD]}?`),r("LOOSE",`^${h[l.LOOSEPLAIN]}$`),r("GTLT","((?:<|>)?=?)"),r("XRANGEIDENTIFIERLOOSE",h[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),r("XRANGEIDENTIFIER",h[l.NUMERICIDENTIFIER]+"|x|X|\\*"),r("XRANGEPLAIN",`[v=\\s]*(${h[l.XRANGEIDENTIFIER]})(?:\\.(${h[l.XRANGEIDENTIFIER]})(?:\\.(${h[l.XRANGEIDENTIFIER]})(?:${h[l.PRERELEASE]})?${h[l.BUILD]}?)?)?`),r("XRANGEPLAINLOOSE",`[v=\\s]*(${h[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[l.XRANGEIDENTIFIERLOOSE]})(?:${h[l.PRERELEASELOOSE]})?${h[l.BUILD]}?)?)?`),r("XRANGE",`^${h[l.GTLT]}\\s*${h[l.XRANGEPLAIN]}$`),r("XRANGELOOSE",`^${h[l.GTLT]}\\s*${h[l.XRANGEPLAINLOOSE]}$`),r("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),r("COERCERTL",h[l.COERCE],!0),r("LONETILDE","(?:~>?)"),r("TILDETRIM",`(\\s*)${h[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",r("TILDE",`^${h[l.LONETILDE]}${h[l.XRANGEPLAIN]}$`),r("TILDELOOSE",`^${h[l.LONETILDE]}${h[l.XRANGEPLAINLOOSE]}$`),r("LONECARET","(?:\\^)"),r("CARETTRIM",`(\\s*)${h[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",r("CARET",`^${h[l.LONECARET]}${h[l.XRANGEPLAIN]}$`),r("CARETLOOSE",`^${h[l.LONECARET]}${h[l.XRANGEPLAINLOOSE]}$`),r("COMPARATORLOOSE",`^${h[l.GTLT]}\\s*(${h[l.LOOSEPLAIN]})$|^$`),r("COMPARATOR",`^${h[l.GTLT]}\\s*(${h[l.FULLPLAIN]})$|^$`),r("COMPARATORTRIM",`(\\s*)${h[l.GTLT]}\\s*(${h[l.LOOSEPLAIN]}|${h[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",r("HYPHENRANGE",`^\\s*(${h[l.XRANGEPLAIN]})\\s+-\\s+(${h[l.XRANGEPLAIN]})\\s*$`),r("HYPHENRANGELOOSE",`^\\s*(${h[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[l.XRANGEPLAINLOOSE]})\\s*$`),r("STAR","(<|>)?=?\\s*\\*"),r("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),r("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),V=t({"node_modules/semver/internal/parse-options.js"(t,e){var n=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=t=>t?"object"!=typeof t?n:t:i}}),u=t({"node_modules/semver/internal/identifiers.js"(t,e){var r=/^[0-9]+$/,n=(t,e)=>{var n=r.test(t),i=r.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i||(!i||n)&&t<e?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(t,e)=>n(e,t)}}}),L=t({"node_modules/semver/classes/semver.js"(t,e){var r=P(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=_(),{safeRe:s,t:a}=N(),o=V(),h=u()["compareIdentifiers"];e.exports=class l{constructor(t,e){if(e=o(e),t instanceof l){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>n)throw new TypeError(`version is longer than ${n} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;e=t.trim().match(e.loose?s[a.LOOSE]:s[a.FULL]);if(!e)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+e[1],this.minor=+e[2],this.patch=+e[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");e[4]?this.prerelease=e[4].split(".").map(t=>{if(/^[0-9]+$/.test(t)){var e=+t;if(0<=e&&e<i)return e}return t}):this.prerelease=[],this.build=e[5]?e[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof l)){if("string"==typeof t&&t===this.version)return 0;t=new l(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof l||(t=new l(t,this.options)),h(this.major,t.major)||h(this.minor,t.minor)||h(this.patch,t.patch)}comparePre(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{var n=this.prerelease[e],i=t.prerelease[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return h(n,i)}while(++e)}compareBuild(t){t instanceof l||(t=new l(t,this.options));let e=0;do{var n=this.build[e],i=t.build[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return h(n,i)}while(++e)}inc(t,e,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var i=Number(n)?1:0;if(!e&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[i];else{let t=this.prerelease.length;for(;0<=--t;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);if(-1===t){if(e===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(e){let t=!1===n?[e]:[e,i];(0!==h(this.prerelease[0],e)||isNaN(this.prerelease[1]))&&(this.prerelease=t)}break;default:throw new Error("invalid increment argument: "+t)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}}}}),i=t({"node_modules/semver/functions/parse.js"(t,e){var i=L();e.exports=(t,e,n=!1)=>{if(t instanceof i)return t;try{return new i(t,e)}catch(t){if(n)throw t;return null}}}}),a=t({"node_modules/semver/functions/valid.js"(t,e){var n=i();e.exports=(t,e)=>{t=n(t,e);return t?t.version:null}}}),o=t({"node_modules/semver/functions/coerce.js"(t,e){var r=L(),s=i(),{safeRe:a,t:o}=N();e.exports=(t,e)=>{if(t instanceof r)return t;if("string"!=typeof(t="number"==typeof t?String(t):t))return null;let n=null;if((e=e||{}).rtl){for(var i;(i=a[o.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&i.index+i[0].length===n.index+n[0].length||(n=i),a[o.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;a[o.COERCERTL].lastIndex=-1}else n=t.match(a[o.COERCE]);return null===n?null:s(`${n[2]}.${n[3]||"0"}.`+(n[4]||"0"),e)}}}),r=t({"node_modules/yallist/iterator.js"(t,e){"use strict";e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}}}),x=t({"node_modules/yallist/yallist.js"(t,e){"use strict";function s(t){var e=this;if((e=e instanceof s?e:new s).tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(0<arguments.length)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}function a(t,e,n,i){if(!(this instanceof a))return new a(t,e,n,i);this.list=i,this.value=t,e?(e.next=this).prev=e:this.prev=null,n?(n.prev=this).next=n:this.next=null}(e.exports=s).Node=a,(s.create=s).prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},s.prototype.unshiftNode=function(t){var e;t!==this.head&&(t.list&&t.list.removeNode(t),e=this.head,t.list=this,(t.next=e)&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++)},s.prototype.pushNode=function(t){var e;t!==this.tail&&(t.list&&t.list.removeNode(t),e=this.tail,t.list=this,(t.prev=e)&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++)},s.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++){i=n=void 0;var n=this,i=arguments[t];n.tail=new a(i,n.tail,null,n),n.head||(n.head=n.tail),n.length++}return this.length},s.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++){i=n=void 0;var n=this,i=arguments[t];n.head=new a(i,null,n.head,n),n.tail||(n.tail=n.head),n.length++}return this.length},s.prototype.pop=function(){var t;if(this.tail)return t=this.tail.value,this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t},s.prototype.shift=function(){var t;if(this.head)return t=this.head.value,this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t},s.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,i=0;null!==n;i++)t.call(e,n.value,i,this),n=n.next},s.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,i=this.length-1;null!==n;i--)t.call(e,n.value,i,this),n=n.prev},s.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},s.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},s.prototype.map=function(t,e){e=e||this;for(var n=new s,i=this.head;null!==i;)n.push(t.call(e,i.value,this)),i=i.next;return n},s.prototype.mapReverse=function(t,e){e=e||this;for(var n=new s,i=this.tail;null!==i;)n.push(t.call(e,i.value,this)),i=i.prev;return n},s.prototype.reduce=function(t,e){var n,i=this.head;if(1<arguments.length)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var r=0;null!==i;r++)n=t(n,i.value,r),i=i.next;return n},s.prototype.reduceReverse=function(t,e){var n,i=this.tail;if(1<arguments.length)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==i;r--)n=t(n,i.value,r),i=i.prev;return n},s.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},s.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},s.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new s;if(!(e<t||e<0)){t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,r=this.head;null!==r&&i<t;i++)r=r.next;for(;null!==r&&i<e;i++,r=r.next)n.push(r.value)}return n},s.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new s;if(!(e<t||e<0)){t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,r=this.tail;null!==r&&e<i;i--)r=r.prev;for(;null!==r&&t<i;i--,r=r.prev)n.push(r.value)}return n},s.prototype.splice=function(t,e,...n){(t=t>this.length?this.length-1:t)<0&&(t=this.length+t);for(var i=0,r=this.head;null!==r&&i<t;i++)r=r.next;for(var s=[],i=0;r&&i<e;i++)s.push(r.value),r=this.removeNode(r);(r=null===r?this.tail:r)!==this.head&&r!==this.tail&&(r=r.prev);for(i=0;i<n.length;i++)r=function(t,e,n){n=e===t.head?new a(n,null,e,t):new a(n,e,e.next,t);null===n.next&&(t.tail=n);null===n.prev&&(t.head=n);return t.length++,n}(this,r,n[i]);return s},s.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=e,this.tail=t,this};try{r()(s)}catch(t){}}}),O=t({"node_modules/lru-cache/index.js"(t,e){"use strict";var n=x(),a=Symbol("max"),o=Symbol("length"),h=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),p=Symbol("noDisposeOnSet"),c=Symbol("lruList"),f=Symbol("cache"),r=Symbol("updateAgeOnGet"),i=()=>1,d=(t,e,n)=>{e=t[f].get(e);if(e){var i=e.value;if(m(t,i)){if(v(t,e),!t[s])return}else n&&(t[r]&&(e.value.now=Date.now()),t[c].unshiftNode(e));return i.value}},m=(t,e)=>{var n;return!(!e||!e.maxAge&&!t[l])&&(n=Date.now()-e.now,e.maxAge?n>e.maxAge:t[l]&&n>t[l])},g=e=>{if(e[o]>e[a])for(let t=e[c].tail;e[o]>e[a]&&null!==t;){var n=t.prev;v(e,t),t=n}},v=(t,e)=>{var n;e&&(n=e.value,t[u]&&t[u](n.key,n.value),t[o]-=n.length,t[f].delete(n.key),t[c].removeNode(e))},E=class{constructor(t,e,n,i,r){this.key=t,this.value=e,this.length=n,this.now=i,this.maxAge=r||0}},y=(t,e,n,i)=>{let r=n.value;m(t,r)&&(v(t,n),t[s]||(r=void 0)),r&&e.call(i,r.value,r.key,t)};e.exports=class{constructor(t){if((t=(t="number"==typeof t?{max:t}:t)||{}).max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[a]=t.max||1/0;var e=t.length||i;if(this[h]="function"!=typeof e?i:e,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[u]=t.dispose,this[p]=t.noDisposeOnSet||!1,this[r]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[a]=t||1/0,g(this)}get max(){return this[a]}set allowStale(t){this[s]=!!t}get allowStale(){return this[s]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[l]=t,g(this)}get maxAge(){return this[l]}set lengthCalculator(t){(t="function"!=typeof t?i:t)!==this[h]&&(this[h]=t,this[o]=0,this[c].forEach(t=>{t.length=this[h](t.value,t.key),this[o]+=t.length})),g(this)}get lengthCalculator(){return this[h]}get length(){return this[o]}get itemCount(){return this[c].length}rforEach(e,n){n=n||this;for(let t=this[c].tail;null!==t;){var i=t.prev;y(this,e,t,n),t=i}}forEach(e,n){n=n||this;for(let t=this[c].head;null!==t;){var i=t.next;y(this,e,t,n),t=i}}keys(){return this[c].toArray().map(t=>t.key)}values(){return this[c].toArray().map(t=>t.value)}reset(){this[u]&&this[c]&&this[c].length&&this[c].forEach(t=>this[u](t.key,t.value)),this[f]=new Map,this[c]=new n,this[o]=0}dump(){return this[c].map(t=>!m(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[c]}set(t,e,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var i,r=n?Date.now():0,s=this[h](e,t);return this[f].has(t)?s>this[a]?(v(this,this[f].get(t)),!1):(i=this[f].get(t).value,this[u]&&!this[p]&&this[u](t,i.value),i.now=r,i.maxAge=n,i.value=e,this[o]+=s-i.length,i.length=s,this.get(t),g(this),!0):(i=new E(t,e,s,r,n)).length>this[a]?(this[u]&&this[u](t,e),!1):(this[o]+=i.length,this[c].unshift(i),this[f].set(t,this[c].head),g(this),!0)}has(t){return!!this[f].has(t)&&(t=this[f].get(t).value,!m(this,t))}get(t){return d(this,t,!0)}peek(t){return d(this,t,!1)}pop(){var t=this[c].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[f].get(t))}load(e){this.reset();var n=Date.now();for(let t=e.length-1;0<=t;t--){var i=e[t],r=i.e||0;0===r?this.set(i.k,i.v):0<(r=r-n)&&this.set(i.k,i.v,r)}}prune(){this[f].forEach((t,e)=>d(this,e,!1))}}}}),s=t({"node_modules/semver/functions/compare.js"(t,e){var i=L();e.exports=(t,e,n)=>new i(t,n).compare(new i(e,n))}}),p=t({"node_modules/semver/functions/eq.js"(t,e){var i=s();e.exports=(t,e,n)=>0===i(t,e,n)}}),c=t({"node_modules/semver/functions/neq.js"(t,e){var i=s();e.exports=(t,e,n)=>0!==i(t,e,n)}}),f=t({"node_modules/semver/functions/gt.js"(t,e){var i=s();e.exports=(t,e,n)=>0<i(t,e,n)}}),d=t({"node_modules/semver/functions/gte.js"(t,e){var i=s();e.exports=(t,e,n)=>0<=i(t,e,n)}}),m=t({"node_modules/semver/functions/lt.js"(t,e){var i=s();e.exports=(t,e,n)=>i(t,e,n)<0}}),g=t({"node_modules/semver/functions/lte.js"(t,e){var i=s();e.exports=(t,e,n)=>i(t,e,n)<=0}}),v=t({"node_modules/semver/functions/cmp.js"(t,e){var r=p(),s=c(),a=f(),o=d(),h=m(),l=g();e.exports=(t,e,n,i)=>{switch(e){case"===":return(t="object"==typeof t?t.version:t)===(n="object"==typeof n?n.version:n);case"!==":return(t="object"==typeof t?t.version:t)!==(n="object"==typeof n?n.version:n);case"":case"=":case"==":return r(t,n,i);case"!=":return s(t,n,i);case">":return a(t,n,i);case">=":return o(t,n,i);case"<":return h(t,n,i);case"<=":return l(t,n,i);default:throw new TypeError("Invalid operator: "+e)}}}}),k=t({"node_modules/semver/classes/comparator.js"(t,e){var n=Symbol("SemVer ANY"),i=(e.exports=class u{static get ANY(){return n}constructor(t,e){if(e=i(e),t instanceof u){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),o("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===n?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(t){var e=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],e=t.match(e);if(!e)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==e[1]?e[1]:"","="===this.operator&&(this.operator=""),e[2]?this.semver=new h(e[2],this.options.loose):this.semver=n}toString(){return this.value}test(t){if(o("Comparator.test",t,this.options.loose),this.semver===n||t===n)return!0;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}return a(t,this.operator,this.semver,this.options)}intersects(t,e){if(t instanceof u)return""===this.operator?""===this.value||new l(t.value,e).test(this.value):""===t.operator?""===t.value||new l(this.value,e).test(t.semver):(!(e=i(e)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==t.value)&&!(!e.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!t.operator.startsWith(">"))&&!(this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||a(this.semver,"<",t.semver,e)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||a(this.semver,">",t.semver,e)&&this.operator.startsWith("<")&&t.operator.startsWith(">")));throw new TypeError("a Comparator is required")}},V()),{safeRe:r,t:s}=N(),a=v(),o=P(),h=L(),l=E()}}),E=t({"node_modules/semver/classes/range.js"(t,e){e.exports=class C{constructor(t,e){if(e=i(e),t instanceof C)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new C(t.raw,e);if(t instanceof h)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(t=>this.parseRange(t.trim())).filter(t=>t.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(1<this.set.length){e=this.set[0];if(this.set=this.set.filter(t=>!v(t[0])),0===this.set.length)this.set=[e];else if(1<this.set.length)for(const n of this.set)if(1===n.length&&r(n[0])){this.set=[n];break}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){var e=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+t,n=o.get(e);if(n)return n;var n=this.options.loose,i=n?c[f.HYPHENRANGELOOSE]:c[f.HYPHENRANGE];t=t.replace(i,S(this.options.includePrerelease)),p("hyphen replace",t),t=t.replace(c[f.COMPARATORTRIM],l),p("comparator trim",t),t=t.replace(c[f.TILDETRIM],u),p("tilde trim",t),t=t.replace(c[f.CARETTRIM],d),p("caret trim",t);let r=t.split(" ").map(t=>E(t,this.options)).join(" ").split(/\s+/).map(t=>I(t,this.options));n&&(r=r.filter(t=>(p("loose invalid filter",t,this.options),!!t.match(c[f.COMPARATORLOOSE])))),p("range list",r);var s=new Map;for(const a of r.map(t=>new h(t,this.options))){if(v(a))return[a];s.set(a.value,a)}1<s.size&&s.has("")&&s.delete("");i=[...s.values()];return o.set(e,i),i}intersects(t,n){if(t instanceof C)return this.set.some(e=>s(e,n)&&t.set.some(t=>s(t,n)&&e.every(e=>t.every(t=>e.intersects(t,n)))));throw new TypeError("a Range is required")}test(e){if(e){if("string"==typeof e)try{e=new n(e,this.options)}catch(t){return!1}for(let t=0;t<this.set.length;t++)if(b(this.set[t],e,this.options))return!0}return!1}};var o=new(O())({max:1e3}),i=V(),h=k(),p=P(),n=L(),{safeRe:c,t:f,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:d}=N(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=_(),v=t=>"<0.0.0-0"===t.value,r=t=>""===t.value,s=(t,e)=>{let n=!0;var i=t.slice();let r=i.pop();for(;n&&i.length;)n=i.every(t=>r.intersects(t,e)),r=i.pop();return n},E=(t,e)=>(p("comp",t,e),t=w(t,e),p("caret",t),t=a(t,e),p("tildes",t),t=T(t,e),p("xrange",t),t=R(t,e),p("stars",t),t),y=t=>!t||"x"===t.toLowerCase()||"*"===t,a=(t,e)=>t.trim().split(/\s+/).map(t=>x(t,e)).join(" "),x=(a,t)=>{t=t.loose?c[f.TILDELOOSE]:c[f.TILDE];return a.replace(t,(t,e,n,i,r)=>{p("tilde",a,t,e,n,i,r);let s;return s=y(e)?"":y(n)?`>=${e}.0.0 <${+e+1}.0.0-0`:y(i)?`>=${e}.${n}.0 <${e}.${+n+1}.0-0`:r?(p("replaceTilde pr",r),`>=${e}.${n}.${i}-${r} <${e}.${+n+1}.0-0`):`>=${e}.${n}.${i} <${e}.${+n+1}.0-0`,p("tilde return",s),s})},w=(t,e)=>t.trim().split(/\s+/).map(t=>A(t,e)).join(" "),A=(a,t)=>{p("caret",a,t);var e=t.loose?c[f.CARETLOOSE]:c[f.CARET];const o=t.includePrerelease?"-0":"";return a.replace(e,(t,e,n,i,r)=>{p("caret",a,t,e,n,i,r);let s;return s=y(e)?"":y(n)?`>=${e}.0.0${o} <${+e+1}.0.0-0`:y(i)?"0"===e?`>=${e}.${n}.0${o} <${e}.${+n+1}.0-0`:`>=${e}.${n}.0${o} <${+e+1}.0.0-0`:r?(p("replaceCaret pr",r),"0"===e?"0"===n?`>=${e}.${n}.${i}-${r} <${e}.${n}.${+i+1}-0`:`>=${e}.${n}.${i}-${r} <${e}.${+n+1}.0-0`:`>=${e}.${n}.${i}-${r} <${+e+1}.0.0-0`):(p("no pr"),"0"===e?"0"===n?`>=${e}.${n}.${i}${o} <${e}.${n}.${+i+1}-0`:`>=${e}.${n}.${i}${o} <${e}.${+n+1}.0-0`:`>=${e}.${n}.${i} <${+e+1}.0.0-0`),p("caret return",s),s})},T=(t,e)=>(p("replaceXRanges",t,e),t.split(/\s+/).map(t=>M(t,e)).join(" ")),M=(l,u)=>{l=l.trim();var t=u.loose?c[f.XRANGELOOSE]:c[f.XRANGE];return l.replace(t,(t,e,n,i,r,s)=>{p("xRange",l,t,e,n,i,r,s);var a=y(n),o=a||y(i),h=o||y(r);return"="===e&&h&&(e=""),s=u.includePrerelease?"-0":"",a?t=">"===e||"<"===e?"<0.0.0-0":"*":e&&h?(o&&(i=0),r=0,">"===e?(e=">=",r=o?(n=+n+1,i=0):(i=+i+1,0)):"<="===e&&(e="<",o?n=+n+1:i=+i+1),t=e+n+`.${i}.`+r+(s="<"===e?"-0":s)):o?t=`>=${n}.0.0${s} <${+n+1}.0.0-0`:h&&(t=`>=${n}.${i}.0${s} <${n}.${+i+1}.0-0`),p("xRange return",t),t})},R=(t,e)=>(p("replaceStars",t,e),t.trim().replace(c[f.STAR],"")),I=(t,e)=>(p("replaceGTE0",t,e),t.trim().replace(c[e.includePrerelease?f.GTE0PRE:f.GTE0],"")),S=f=>(t,e,n,i,r,s,a,o,h,l,u,p,c)=>((e=y(n)?"":y(i)?`>=${n}.0.0`+(f?"-0":""):y(r)?`>=${n}.${i}.0`+(f?"-0":""):s?">="+e:">="+e+(f?"-0":""))+" "+(o=y(h)?"":y(l)?`<${+h+1}.0.0-0`:y(u)?`<${h}.${+l+1}.0-0`:p?`<=${h}.${l}.${u}-`+p:f?`<${h}.${l}.${+u+1}-0`:"<="+o)).trim(),b=(e,n,t)=>{for(let t=0;t<e.length;t++)if(!e[t].test(n))return!1;if(!n.prerelease.length||t.includePrerelease)return!0;for(let t=0;t<e.length;t++)if(p(e[t].semver),e[t].semver!==h.ANY&&0<e[t].semver.prerelease.length){var i=e[t].semver;if(i.major===n.major&&i.minor===n.minor&&i.patch===n.patch)return!0}return!1}}}),h=t({"node_modules/semver/functions/satisfies.js"(t,e){var i=E();e.exports=(t,e,n)=>{try{e=new i(e,n)}catch(t){return!1}return e.test(t)}}});return t({"src/semver/index.js"(t,e){var n=_(),i=a(),r=o(),s=h();e.exports={valid:i,coerce:r,satisfies:s,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION}}})()})());!function(){var t,e;pc.Application.registerPlugin?pc.Application.registerPlugin("spine",function(t){new pc.SpineComponentSystem(t)}):(t=pc.Application.getApplication(),e=new pc.SpineComponentSystem(t),t.systems.add(e))}(),pc.extend(pc,function(){function a(t){this._image={width:t.width,height:t.height},this.pcTexture=t}function t(t,e,n,i){var r;if(this._app=t,this._position=new pc.Vec3,1===spine.TextureAtlas.length)for(const s of(r=new spine.TextureAtlas(e)).pages)s.setTexture(new a(i[s.name]));else r=new spine.TextureAtlas(e,function(t){return new a(i[t])});(t=new spine.SkeletonJson(new spine.AtlasAttachmentLoader(r))).scale*=.01,e=t.readSkeletonData(n),this.skeletonVersion=semver.valid(semver.coerce(e.version)),this._spine_3_6_0=semver.satisfies(this.skeletonVersion,"<3.6.0"),this._spine_3_7_99=semver.satisfies(this.skeletonVersion,"<3.8.0"),this._spine_4_1_X=semver.satisfies(this.skeletonVersion,"~4.1.23"),this.skeleton=new spine.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new spine.AnimationStateData(this.skeleton.data),this.states=[new spine.AnimationState(this.stateData)],this.clipper=new spine.SkeletonClipping,this._node=new pc.GraphNode,this._meshes=[],this._meshInstances=[],this._materials={},this._tint={},this._aabb=new pc.BoundingBox,this._aabbTempArray=[],this._aabbTempOffset=new pc.Vec2,this._aabbTempSize=new pc.Vec2,this._renderCounts={vertexCount:0,indexCount:0},this._vertexFormat=null,this._vertexBuffer=null,this._indexBuffer=null,this._priority=0,this._timeScale=1,this._layers=[pc.LAYERID_UI],this.init(),this.autoUpdate=!0,this._hidden=!1}var o=0,h=1,l=2,n={9728:pc.FILTER_NEAREST,9729:pc.FILTER_LINEAR,9984:pc.FILTER_NEAREST_MIPMAP_NEAREST,9985:pc.FILTER_LINEAR_MIPMAP_NEAREST,9986:pc.FILTER_NEAREST_MIPMAP_LINEAR,9987:pc.FILTER_LINEAR_MIPMAP_LINEAR},i={33648:pc.ADDRESS_MIRRORED_REPEAT,33071:pc.ADDRESS_CLAMP_TO_EDGE,10487:pc.ADDRESS_REPEAT},u=[0,1,2,2,3,0];a.prototype={setFilters:function(t,e){this.pcTexture.minFilter=n[t],this.pcTexture.magFilter=n[e]},setWraps:function(t,e){this.pcTexture.addressU=i[t],this.pcTexture.addressV=i[e]},getImage:function(){return this._image},dispose:function(){this.pcTexture.destroy()}};return t.prototype.destroy=function(){this.removeFromLayers();for(var t=0;t<this._meshInstances.length;t++)this._meshInstances[t].mesh.vertexBuffer=null,this._meshInstances[t].mesh.indexBuffer.length=0,this._meshInstances[t].material=null;this._vertexBuffer&&(this._vertexBuffer.destroy(),this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer.destroy(),this._indexBuffer=null),this._meshInstances=[],this.skeleton=null,this.stateData=null,this._materials={},this._node=null},t.prototype.hide=function(){if(!this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!1;this._hidden=!0}},t.prototype.show=function(){if(this._hidden){for(var t=0,e=this._meshInstances.length;t<e;t++)this._meshInstances[t].visible=!0;this._hidden=!1}},t.prototype.init=function(){this._vertexFormat=new pc.VertexFormat(this._app.graphicsDevice,[{semantic:pc.SEMANTIC_POSITION,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_NORMAL,components:4,type:pc.TYPE_UINT8,normalize:!0},{semantic:pc.SEMANTIC_TEXCOORD0,components:2,type:pc.TYPE_FLOAT32},{semantic:pc.SEMANTIC_COLOR,components:4,type:pc.TYPE_UINT8,normalize:!0}]);for(var t=this.skeleton.drawOrder,e=0,n=t.length;e<n;e++)this.initSlot(t[e])},t.prototype.initSlot=function(t){t.positions=[],t.uvs=[],t.indices=[],t.vertexColor={},t._active={name:"",type:o},this.initAttachment(t)},t.prototype.createMaterial=function(t){var e=new pc.StandardMaterial;return e.shadingModel=pc.SPECULAR_BLINN,e.diffuse=new pc.Color(1,1,1),e.emissiveMap=t,e.emissiveMapChannel="rgb",e.emissiveVertexColor=!0,e.emissiveVertexColorChannel="rgb",e.opacityMap=t,e.opacityMapChannel="a",e.opacityVertexColor=!0,e.opacityVertexColorChannel="a",e.depthWrite=!1,e.cull=pc.CULLFACE_NONE,e.blendType=pc.BLEND_PREMULTIPLIED,this._spine_3_6_0&&(t=["gl_FragColor.rgb *= vVertexColor.a;","gl_FragColor.a = dAlpha;"].join("\n"),e.chunks.outputAlphaPremulPS=t),e.update(),e},t.prototype.initAttachment=function(t){var e,n=t.attachment;n&&(t._active.name=n.name,n instanceof spine.RegionAttachment?t._active.type=l:n instanceof spine.MeshAttachment&&(t._active.type=h),n.region)&&n.region.texture&&(n=n.region.texture.pcTexture)&&(n instanceof pc.StandardMaterial?(this._materials[n.name]=n,t.material=n.name):(e=null,n.name?e=n.name:n.getSource()instanceof Image&&(e=n.getSource().getAttribute("src")),e&&(void 0===this._materials[e]&&(n=this.createMaterial(n),this._materials[e]=n),t.material=e)))},t.prototype.updateSlot=function(t,e){var n=t.attachment,i=n.name,r=n instanceof spine.RegionAttachment?l:n instanceof spine.MeshAttachment?h:o,r=(t._active.name===i&&t._active.type===r||this.initAttachment(t),t.positions.length=0,n instanceof spine.RegionAttachment?this._spine_4_1_X?n.computeWorldVertices(t,t.positions,0,2):n.computeWorldVertices(t.bone,t.positions,0,2):n instanceof spine.MeshAttachment&&n.computeWorldVertices(t,0,n.worldVerticesLength,t.positions,0,2),this._tint[i]),i=(t.vertexColor={r:Math.round(255*t.color.r*(r?r.r:1)),g:Math.round(255*t.color.g*(r?r.g:1)),b:Math.round(255*t.color.b*(r?r.b:1)),a:Math.round(255*t.color.a*(r?r.a:1))},n.triangles||u);if(e.isClipping()){e.clipTriangles(t.positions,0,i,i.length,n.uvs,spine.Color.WHITE,spine.Color.WHITE,!1),t.positions.length=0,t.uvs.length=0;for(var s=e.clippedVertices.length,a=0;a<s;a+=8)t.positions.push(e.clippedVertices[a],e.clippedVertices[a+1]),t.uvs.push(e.clippedVertices[a+6],1-e.clippedVertices[a+7]);t.indices=e.clippedTriangles.slice()}else{for(t.uvs.length=0,s=t.positions.length,a=0;a<s;a+=2)t.uvs.push(n.uvs[a],1-n.uvs[a+1]);t.indices=i}this._renderCounts.vertexCount+=t.positions.length/2,this._renderCounts.indexCount+=t.indices.length},t.prototype.updateSkeleton=function(t){this._renderCounts.vertexCount=0,this._renderCounts.indexCount=0;for(var e=this.clipper,n=!1,n=!0,i=this.skeleton.drawOrder,r=i.length,s=0;s<r;s++){var a,o=i[s];this._spine_3_7_99||o.bone.active?n?(a=o.getAttachment())instanceof spine.ClippingAttachment?e.clipStart(o,a):a instanceof spine.RegionAttachment||a instanceof spine.MeshAttachment?this.updateSlot(o,e):this._spine_3_7_99||e.clipEndWithSlot(o):e.clipEndWithSlot(o):e.clipEndWithSlot(o)}},t.prototype.render=function(){if(this._meshInstances.forEach(function(t){t.material=null}),this.removeFromLayers(),this._meshes=[],(this._meshInstances.length=0)<this._renderCounts.indexCount&&0<this._renderCounts.vertexCount){this.skeleton.getBounds(this._aabbTempOffset,this._aabbTempSize,this._aabbTempArray),this._aabb.center=new pc.Vec3(this._aabbTempOffset.x,this._aabbTempOffset.y,0),this._aabb.halfExtents=new pc.Vec3(.5*this._aabbTempSize.x,.5*this._aabbTempSize.y,0),(!this._vertexBuffer||this._vertexBuffer.getNumVertices()<this._renderCounts.vertexCount)&&(this._vertexBuffer&&this._vertexBuffer.destroy(),this._vertexBuffer=new pc.VertexBuffer(this._app.graphicsDevice,this._vertexFormat,this._renderCounts.vertexCount)),(!this._indexBuffer||this._indexBuffer.getNumIndices()<this._renderCounts.indexCount)&&(this._indexBuffer&&this._indexBuffer.destroy(),this._indexBuffer=new pc.IndexBuffer(this._app.graphicsDevice,pc.INDEXFORMAT_UINT16,this._renderCounts.indexCount));for(var t=null,e=0,n=0,i=new pc.VertexIterator(this._vertexBuffer),r=new Uint16Array(this._indexBuffer.lock()),s=0,a=0,o=this.skeleton.drawOrder,h=o.length,l=0;l<h;l++){var u=o[l];if(u.attachment&&u.material&&0<u.positions.length&&0<u.indices.length){t&&t!==u.material&&(this.SubmitBatch(e,n,t),t=u.material,e=s,n=0);for(var t=u.material,p=u.positions,c=u.vertexColor.r,f=u.vertexColor.g,d=u.vertexColor.b,m=u.vertexColor.a,g=u.uvs,v=p.length/2,E=0;E<v;E++)i.element[pc.SEMANTIC_POSITION].set(p[2*E],p[2*E+1]),i.element[pc.SEMANTIC_NORMAL].set(0,255,0,0),i.element[pc.SEMANTIC_COLOR].set(c,f,d,m),i.element[pc.SEMANTIC_TEXCOORD0].set(g[2*E],1-g[2*E+1]),i.next();var y=u.indices,x=y.length;for(E=0;E<x;E++)r[s+E]=y[E]+a;n+=x,s+=x,a+=v}}i.end(),this._indexBuffer.unlock(),this.SubmitBatch(e,n,t)}this.addToLayers()},t.prototype.SubmitBatch=function(t,e,n){var i;0<e&&((i=new pc.Mesh(this._app.graphicsDevice)).vertexBuffer=this._vertexBuffer,i.indexBuffer[0]=this._indexBuffer,i.primitive[0].type=pc.PRIMITIVE_TRIANGLES,i.primitive[0].base=t,i.primitive[0].count=e,i.primitive[0].indexed=!0,i.aabb=this._aabb,this._meshes.push(i),(t=new pc.MeshInstance(this._node,i,this._materials[n])).drawOrder=this.priority+this._meshInstances.length,t.visible=!this._hidden,this._meshInstances.push(t))},t.prototype.update=function(t){if(!this._hidden){t*=this._timeScale;for(var e=this.states.length,n=0;n<e;n++)this.states[n].update(t);for(n=0;n<e;n++)this.states[n].apply(this.skeleton);this.autoUpdate&&this.skeleton.updateWorldTransform(),this.updateSkeleton(),this.render()}},t.prototype.setPosition=function(t){this._position.copy(t)},t.prototype.setTint=function(t,e){this._tint[t]=e},t.prototype.removeFromLayers=function(){if(this._meshInstances.length)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.removeMeshInstances(this._meshInstances)}},t.prototype.addToLayers=function(){if(this._meshInstances.length)for(var t=0;t<this._layers.length;t++){var e=this._app.scene.layers.getLayerById(this._layers[t]);e&&e.addMeshInstances(this._meshInstances)}},Object.defineProperty(t.prototype,"state",{get:function(){return this.states[0]}}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},set:function(t){this._priority=t}}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale=t}}),Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},set:function(t){this.removeFromLayers(),this._layers=t||[],this.addToLayers()}}),{Spine:t}}());